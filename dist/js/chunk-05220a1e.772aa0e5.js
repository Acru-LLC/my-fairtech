(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05220a1e"],{"0684":function(t,e,a){"use strict";a("2aa3")},"0e05":function(t,e,a){},"13d3":function(t,e,a){},"1f92":function(t){t.exports=JSON.parse('{"app_name":"FAIRTECH.UZ","app_short_name":"FT","app_made_by_1":"dataprizma.uz","api_url":"app.fairtech.uz","api_request_type":"http","app_test":false,"api_keys":["fairtech.uz","A5788A817D8546933F8611208D736225C5A087519C1506CBEC86A0E93ACC5B36E3C9587652A8EC2452BD1FD77DE165BFA8DD84695E2AEA49816A00581B053AF3","localhost","96D0C1491615C82B9A54D9989779DF825B690748224C2B04F500F370D51827CE2644D8D4A82C18184D73AB8530BB8ED537269603F61DB0D03D2104ABF789970B","127.0.0.1","A7BCFA5D490B351BE0754130DF03A068F855DB4333D43921125B9CF2670EF6A40370C646B90401955E1F7BC9CDBF59CE0B2C5467D820BE189C845D0B79CFC96F","null","E0A205EC4E7B78BBB56AFF83A733A1BB9FD39D562E67978CC5E7D73B0951DB1954595A20672A63332535E13CC6EC1E1FC8857BB09E0855D7E76E411B6FA16E9D"],"app_version":"1.0.1","call_center_number":"+998 78 122 99 07"}')},"2aa3":function(t,e,a){},3597:function(t,e,a){"use strict";a("99af"),a("14d9"),a("caad");var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title mb-4"},[t._v(t._s(t.$t("documents")))]),e("simplebar",{ref:"docsRef",staticStyle:{"max-height":"300px"},attrs:{id:"doc-list"}},[e("div",{staticClass:"table-responsive mb-0"},[e("table",{staticClass:"table table-centered table-hover",staticStyle:{"table-layout":"fixed",width:"100%"}},[e("tbody",t._l(t.docs,(function(a,o){var s;return e("tr",{key:o},[e("td",{staticStyle:{width:"32px"}},[e("a",{attrs:{download:"pdf"!==t.getExt(a.letter.url)&&a.letter.url,href:"pdf"===t.getExt(a.letter.url)?"#":"".concat(t.baseUrl,"/").concat(a.letter.url)},on:{click:function(e){return t.viewFile(a.letter.url)}}},[e("FileView",{staticClass:"my-card-hovered",attrs:{uploadPath:a.letter.url}})],1)]),e("td",{staticStyle:{width:"60%"}},[e("h5",{staticClass:"font-size-14 m-0"},[e("div",{staticClass:"text-dark m-0 pre"},[t._v(t._s(a.letter.fileName))])]),e("small",[e("span",{staticClass:"mr-1 text-muted"},[t._v(t._s(t.$t("column.created_date"))+":")]),e("span",{staticClass:"text-dark"},[t._v(t._s(a.letter.created))])]),t._empty(a.letter.employeeLastName)||t._empty(a.letter.employeeFirstName)||t._empty(a.letter.employeeParentName)?t._e():e("small",{staticClass:"d-block text-muted"},[e("span",{staticClass:"mr-1"},[t._v(t._s(t.$t("byCreated"))+":")]),e("span",{staticClass:"text-dark"},[t._v(" "+t._s("".concat(a.letter.employeeLastName," ").concat(a.letter.employeeFirstName," ").concat(a.letter.employeeParentName))+" ")])])]),e("td",{staticStyle:{width:"45px"}},["FINISHED"!==t.project.status&&a.letter.fileType&&"pdf"!==a.letter.fileType.toLowerCase()?e("div",{staticClass:"text-center"},[e("router-link",{staticClass:"text-dark",attrs:{to:{name:"Office-DOCUMENT-commission",query:{id:a.letter.id,page:"GET"}},target:"_blank"}},[e("i",{staticClass:"bx bx-edit h3 m-0"})])],1):t._e(),(null===(s=a.signatory)||void 0===s?void 0:s.length)>0&&a.letter.willBeSigned&&!1===a.letter.isThisEmployeeSigned&&-1===["LETTER_INVOKE"].indexOf(a.letter.letterType)?e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"text-center cursor-pointer p-1",attrs:{title:"Imzolash uchun",variant:"light",size:"sm"},on:{click:function(e){return t.$router.push("/projects/sign/".concat(a.letter.id))}}},[e("i",{staticClass:"fas fa-file-signature m-2"})]):t._e(),!t.project.isAdmin||["TO_INVOKE_SIGNED","SEND_SIGN_FINISH"].includes(a.letter.status)||["TEMPORARILY_CLOSED","COMMISSION_REVISION"].includes(t.project.status)||"LETTER_INVOKE"!==a.letter.letterType?t._e():e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:t.$t("forSignature"),expression:"$t('forSignature')",modifiers:{hover:!0,right:!0}}],staticClass:"text-center cursor-pointer",on:{click:function(e){return t.$router.push("/projects/invoke-letter-sign/".concat(t.project.id,"/").concat(a.letter.id))}}},[e("i",{staticClass:"fas fa-signature h3 m-0"})]),a.signatory.length?e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:t.$t("messages.view_signatories"),expression:"$t('messages.view_signatories')",modifiers:{hover:!0}}],staticClass:"cursor-pointe p-1",attrs:{id:"doc-signatory-".concat(o),variant:"light",size:"sm"}},[e("i",{staticClass:"fas fa-eye m-2"}),e("b-popover",{attrs:{target:"doc-signatory-".concat(o),triggers:"hover focus",placement:"bottom"}},[e("table",{staticClass:"table"},[e("tbody",t._l(a.signatory,(function(a,o){return e("tr",{key:o},[e("td",[t._v(t._s(o+1))]),e("td",[t._v(t._s(a.employeeLastName)+" "+t._s(a.employeeFirstName)+" "+t._s(a.employeeMiddleName)+" "),e("br"),null!==a.signatoryDate?e("span",[e("div",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("messages.signatory_time")+":"))]),t._v(t._s(a.signatoryDate)+" ")]):t._e()]),e("td",[e("i",{staticClass:"fa p-2 text-white",class:a.isSigned?"fa-check bg-success":"fa-times bg-danger"})])])})),0)])])],1):t._e()],1)])})),0)])])])],1),e("b-modal",{attrs:{scrollable:"",size:"xl",title:t.$t("actions.view")},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.viewFileModal=!1}}},[t._v(t._s(t.$t("actions.close")))])]},proxy:!0}]),model:{value:t.viewFileModal,callback:function(e){t.viewFileModal=e},expression:"viewFileModal"}},[t.fileUploadPath?e("div",{staticStyle:{height:"700px"}},[e("embed",{attrs:{width:"100%",height:"800",src:"".concat(t.baseUrl,"/").concat(t.fileUploadPath),type:"application/pdf"}})]):t._e()]),e("b-modal",{attrs:{size:"md",title:"".concat(t.$t("documents"))},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-overlay",{attrs:{opacity:.1,show:t.loaderDoc,rounded:"sm",size:"sm"}},[e("b-button",{attrs:{variant:"success"},on:{click:t.saveDocs}},[t._v(t._s(t.$t("actions.save")))])],1)]},proxy:!0}]),model:{value:t.modal.isDocControlModal,callback:function(e){t.$set(t.modal,"isDocControlModal",e)},expression:"modal.isDocControlModal"}},[e("DocsWithIcons",{ref:"docsWithIconsRef",attrs:{modal:t.modal,projectStatus:t.project.status,applicationType:t.project.applicationType}})],1),-1===["FINISHED","REVIEW_FINISHED","TEMPORARILY_CLOSED"].indexOf(t.project.status)||"FROM_DXA"===t.project.applicationType&&"REVIEW_FINISHED"!==t.project.status||"COMMISSION"===t.project.projectType&&"FINISHED"===t.project.status&&"COMMISSION_SEEN"===t.project.applicationDto.applicationStatus?e("div",{staticClass:"p-3"},[e("form",["FROM_DXA"===t.project.applicationType?e("div",[t.canCreateDoc&&"COMMISSION"===t.project.projectType?e("div",[-1!==["COMMISSION_REVISION"].indexOf(t.project.status)?e("b-button",{attrs:{variant:"primary",block:""},on:{click:function(e){return e.preventDefault(),t.clickUpload.apply(null,arguments)}}},[e("i",{staticClass:"mdi mdi-file-document-outline d-block font-size-16"}),t._v(" "+t._s(t.$t("actions.create_new_document"))+" ")]):t._e()],1):t.canCreateDoc&&"BEFORE_COMMISSION"===t.project.projectType?e("div",[-1!==["REVISION_AFTER_COMMISSION","CREATED"].indexOf(t.project.status)?e("b-button",{attrs:{variant:"primary",block:""},on:{click:function(e){return e.preventDefault(),t.clickUpload.apply(null,arguments)}}},[e("i",{staticClass:"mdi mdi-file-document-outline d-block font-size-16"}),t._v(" "+t._s(t.$t("actions.create_new_document"))+" ")]):t._e()],1):t.canCreateDoc?e("div",[-1!==["FOR_PROCESS","FOR_COMMISSION"].indexOf(t.project.returnType)?e("b-button",{attrs:{variant:"primary",block:""},on:{click:function(e){return e.preventDefault(),t.clickUpload.apply(null,arguments)}}},[e("i",{staticClass:"mdi mdi-file-document-outline d-block font-size-16"}),t._v(" "+t._s(t.$t("actions.create_new_document"))+" ")]):t._e()],1):t._e()]):"INNER"===t.project.applicationType?e("div",[t.isCommission?e("div",[e("b-button-group",{staticClass:"btn-block"},[-1!==["FOR_FINISH_WORK"].indexOf(t.project.returnType)&&"COMMISSION_SEEN"===t.project.applicationDto.applicationStatus?e("b-button",{attrs:{variant:"primary"},on:{click:function(e){return e.preventDefault(),t.handleUploadToReturn("LETTER_FINISH")}}},[e("i",{staticClass:"mdi mdi-file-document-outline d-block font-size-16"}),t._v(" "+t._s(t.$t("submodules.commission.doc_button.create_letter"))+" ")]):t._e(),t.canCreateDoc&&-1!==["FOR_PROCESS","FOR_FINISH_WORK"].indexOf(t.project.returnType)?e("b-button",{attrs:{variant:"primary"},on:{click:function(e){return e.preventDefault(),t.handleUploadToReturn("FOR_FINISH_WORK")}}},[e("i",{staticClass:"mdi mdi-file-document-outline d-block font-size-16"}),t._v(" "+t._s(t.$t("submodules.commission.doc_button.finish_work"))+" ")]):t._e(),-1!==["CREATED","CANCELLED_TO_DEFECT_FILES"].indexOf(t.project.status)?e("b-button",{attrs:{variant:"success"},on:{click:function(e){return e.preventDefault(),t.handleUploadToReturn("LETTER_INVOKE")}}},[e("i",{staticClass:"mdi mdi-file-document-outline d-block font-size-16"}),t._v(" "+t._s(t.$t("submodules.commission.doc_button.invoke_letter"))+" ")]):t._e()],1),e("b-button-group",{staticClass:"btn-block"},[t.canCreateDoc&&-1!==["FOR_PROCESS","FOR_SUSPEND_WORK"].indexOf(t.project.returnType)?e("b-button",{staticStyle:{"background-color":"#74788d",color:"#fff"},attrs:{variant:"default"},on:{click:function(e){return e.preventDefault(),t.handleUploadToReturn("FOR_SUSPEND_WORK")}}},[e("i",{staticClass:"mdi mdi-file-document-outline d-block font-size-16"}),t._v(" "+t._s(t.$t("submodules.commission.doc_button.suspend_work"))+" ")]):t._e(),t.canCreateDoc&&-1!==["FOR_PROCESS","FOR_DELAY_WORK"].indexOf(t.project.returnType)?e("b-button",{staticStyle:{"background-color":"#858da5",color:"#fff"},attrs:{variant:"default"},on:{click:function(e){return e.preventDefault(),t.handleUploadToReturn("FOR_DELAY_WORK")}}},[e("i",{staticClass:"mdi mdi-file-document-outline d-block font-size-16"}),t._v(" "+t._s(t.$t("submodules.commission.doc_button.delay_work"))+" ")]):t._e(),t.canCreateDoc&&-1!==["FOR_PROCESS","FOR_RESUME_WORK"].indexOf(t.project.returnType)?e("b-button",{staticStyle:{"background-color":"#9bb7dd",color:"#fff"},attrs:{variant:"default"},on:{click:function(e){return e.preventDefault(),t.handleUploadToReturn("FOR_RESUME_WORK")}}},[e("i",{staticClass:"mdi mdi-file-document-outline d-block font-size-16"}),t._v(" "+t._s(t.$t("submodules.commission.doc_button.resume_work"))+" ")]):t._e()],1)],1):e("div",[t.canCreateDoc&&-1!==["FOR_PROCESS","FOR_COMMISSION"].indexOf(t.project.returnType)||t.canCreateDoc&&-1!==["TEMPORARILY_CLOSED"].indexOf(t.project.status)?e("b-button",{attrs:{variant:"primary",block:""},on:{click:function(e){return e.preventDefault(),t.handleUploadToReturn("FOR_COMMISSION")}}},[e("i",{staticClass:"mdi mdi-file-document-outline d-block font-size-16"}),t._v(" "+t._s(t.$t("actions.create_new_document"))+" ")]):t._e(),"REVISION"!==t.project.status?e("b-button-group",{staticClass:"btn-block"},[t.canCreateDoc&&-1!==["FOR_PROCESS","FOR_NOT_COMPLETED"].indexOf(t.project.returnType)?e("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(e){return e.preventDefault(),t.handleUploadToReturn("FOR_NOT_COMPLETED")}}},[t._v(t._s(t.$t("submodules.commission.letter_not_complete"))+" ")]):-1!==["FOR_NOT_COMPLETED"].indexOf(t.project.returnType)?e("div",{staticClass:"menu-title text-center w-100"},[t._v(" "+t._s(t.$t("submodules.commission.to_indicate_that_the_information_is_incomplete"))+" ")]):t._e(),t.canCreateDoc&&-1!==["FOR_PROCESS","FOR_NOT_BELONG"].indexOf(t.project.returnType)?e("b-button",{attrs:{variant:"outline-info"},on:{click:function(e){return e.preventDefault(),t.handleUploadToReturn("FOR_NOT_BELONG")}}},[t._v(t._s(t.$t("submodules.commission.letter_not_belong"))+" ")]):-1!==["FOR_NOT_BELONG"].indexOf(t.project.returnType)?e("div",{staticClass:"menu-title text-center w-100"},[t._v(" "+t._s(t.$t("submodules.commission.to_determine_that_it_does_not_fall_under_the_authority"))+" ")]):t._e(),t.canCreateDoc&&-1!==["FOR_PROCESS","FOR_REGION"].indexOf(t.project.returnType)?e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return e.preventDefault(),t.handleUploadToReturn("FOR_REGION")}}},[t._v(t._s(t.$t("submodules.commission.sent_region"))+" ")]):-1!==["FOR_REGION"].indexOf(t.project.returnType)?e("div",{staticClass:"menu-title text-center w-100"},[t._v(" "+t._s(t.$t("submodules.commission.to_sent_to_region"))+" ")]):t._e()],1):t._e()],1)]):e("div",[-1!==["FOR_PROCESS","FOR_COMMISSION"].indexOf(t.project.returnType)?e("b-button",{attrs:{variant:"primary",block:""},on:{click:function(e){return e.preventDefault(),t.clickUpload.apply(null,arguments)}}},[e("i",{staticClass:"mdi mdi-file-document-outline d-block font-size-16"}),t._v(" "+t._s(t.$t("actions.create_new_document"))+" ")]):t._e()],1)])]):t._e(),e("upload-file",{ref:"file",attrs:{cmt:!0},on:{sendFile:t.saveFile}})],1)},s=[],i=a("c7eb"),n=a("1da1"),r=(a("d3b7"),a("b0c0"),a("4de4"),a("f021")),c=a("8d3b"),l=a("6275"),d=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"mb-2"},[t.isCommission?e("div",["INNER"===t.applicationType?e("b-row",[-1!==["CREATED","CANCELLED_TO_DEFECT_FILES"].indexOf(t.projectStatus)&&-1!==["FOR_FINISH_WORK"].indexOf(t.modal.type)?e("b-col",{attrs:{sm:"6"}},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{type:"radio",value:"DECISION_COMMISSION"},domProps:{checked:t._q(t.type,"DECISION_COMMISSION")},on:{change:function(e){t.type="DECISION_COMMISSION"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.commission.doc_button.decision"),src:t.icon.word}})],1)]):t._e(),-1!==["CREATED","CANCELLED_TO_DEFECT_FILES"].indexOf(t.projectStatus)&&-1!==["FOR_FINISH_WORK"].indexOf(t.modal.type)?e("b-col",{attrs:{sm:"6"}},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{type:"radio",value:"PRESCRIPTION_COMMISSION"},domProps:{checked:t._q(t.type,"PRESCRIPTION_COMMISSION")},on:{change:function(e){t.type="PRESCRIPTION_COMMISSION"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.commission.doc_button.prescription"),src:t.icon.word}})],1)]):t._e(),-1!==["CREATED","CANCELLED_TO_DEFECT_FILES"].indexOf(t.projectStatus)&&-1!==["FOR_FINISH_WORK"].indexOf(t.modal.type)?e("b-col",{attrs:{sm:"6"}},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{type:"radio",value:"PROTOCOL_COMMISSION"},domProps:{checked:t._q(t.type,"PROTOCOL_COMMISSION")},on:{change:function(e){t.type="PROTOCOL_COMMISSION"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.commission.doc_button.protocol"),src:t.icon.word}})],1)]):t._e(),-1!==["FINISHED"].indexOf(t.projectStatus)&&-1!==["LETTER_FINISH"].indexOf(t.modal.type)?e("b-col",{attrs:{sm:"6"}},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{type:"radio",value:"LETTER_FINISH"},domProps:{checked:t._q(t.type,"LETTER_FINISH")},on:{change:function(e){t.type="LETTER_FINISH"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.commission.doc_button.letter"),src:t.icon.word}})],1)]):t._e(),-1!==["CREATED","CANCELLED_TO_DEFECT_FILES"].indexOf(t.projectStatus)&&-1!==["LETTER_INVOKE"].indexOf(t.modal.type)?e("b-col",{attrs:{sm:"6"}},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{type:"radio",value:"LETTER_INVOKE"},domProps:{checked:t._q(t.type,"LETTER_INVOKE")},on:{change:function(e){t.type="LETTER_INVOKE"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.commission.doc_button.invoke_letter"),src:t.icon.word}})],1)]):t._e(),-1!==["CREATED","CANCELLED_TO_DEFECT_FILES"].indexOf(t.projectStatus)&&-1!==["FOR_SUSPEND_WORK"].indexOf(t.modal.type)?e("b-col",{attrs:{sm:"6"}},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{type:"radio",value:"PROTOCOL_SUSPEND"},domProps:{checked:t._q(t.type,"PROTOCOL_SUSPEND")},on:{change:function(e){t.type="PROTOCOL_SUSPEND"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.commission.doc_button.protocol"),src:t.icon.word}})],1)]):t._e(),-1!==["CREATED","CANCELLED_TO_DEFECT_FILES"].indexOf(t.projectStatus)&&-1!==["FOR_SUSPEND_WORK"].indexOf(t.modal.type)?e("b-col",{attrs:{sm:"6"}},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{type:"radio",value:"COMPROMISE_DECISION_SUSPEND"},domProps:{checked:t._q(t.type,"COMPROMISE_DECISION_SUSPEND")},on:{change:function(e){t.type="COMPROMISE_DECISION_SUSPEND"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.commission.doc_button.compromise"),src:t.icon.word}})],1)]):t._e(),-1!==["CREATED","CANCELLED_TO_DEFECT_FILES"].indexOf(t.projectStatus)&&-1!==["FOR_DELAY_WORK"].indexOf(t.modal.type)?e("b-col",{attrs:{sm:"6"}},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{type:"radio",value:"PROTOCOL_DELAY"},domProps:{checked:t._q(t.type,"PROTOCOL_DELAY")},on:{change:function(e){t.type="PROTOCOL_DELAY"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.commission.doc_button.protocol"),src:t.icon.word}})],1)]):t._e(),-1!==["CREATED","CANCELLED_TO_DEFECT_FILES"].indexOf(t.projectStatus)&&-1!==["FOR_DELAY_WORK"].indexOf(t.modal.type)?e("b-col",{attrs:{sm:"6"}},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{type:"radio",value:"COMPROMISE_DECISION_DELAY"},domProps:{checked:t._q(t.type,"COMPROMISE_DECISION_DELAY")},on:{change:function(e){t.type="COMPROMISE_DECISION_DELAY"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.commission.doc_button.compromise"),src:t.icon.word}})],1)]):t._e(),-1!==["CREATED","CANCELLED_TO_DEFECT_FILES"].indexOf(t.projectStatus)&&-1!==["FOR_RESUME_WORK"].indexOf(t.modal.type)?e("b-col",{attrs:{sm:"6"}},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{type:"radio",value:"PROTOCOL_RESUME"},domProps:{checked:t._q(t.type,"PROTOCOL_RESUME")},on:{change:function(e){t.type="PROTOCOL_RESUME"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.commission.doc_button.protocol"),src:t.icon.word}})],1)]):t._e(),-1!==["CREATED","CANCELLED_TO_DEFECT_FILES"].indexOf(t.projectStatus)&&-1!==["FOR_RESUME_WORK"].indexOf(t.modal.type)?e("b-col",{attrs:{sm:"6"}},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{type:"radio",value:"COMPROMISE_DECISION_RESUME"},domProps:{checked:t._q(t.type,"COMPROMISE_DECISION_RESUME")},on:{change:function(e){t.type="COMPROMISE_DECISION_RESUME"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.commission.doc_button.compromise"),src:t.icon.word}})],1)]):t._e()],1):"FROM_DXA"===t.applicationType?e("b-row",[e("div",{staticClass:"col-sm-6"},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{name:"pay-method",type:"radio",value:"DECISION"},domProps:{checked:t._q(t.type,"DECISION")},on:{change:function(e){t.type="DECISION"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.application_before_commission.draft_decision"),src:t.icon.word}})],1)]),e("div",{staticClass:"col-sm-6"},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{name:"pay-method",type:"radio",value:"PROTOCOL_DXA"},domProps:{checked:t._q(t.type,"PROTOCOL_DXA")},on:{change:function(e){t.type="PROTOCOL_DXA"}}}),e("docsIcon",{attrs:{name:t.$t("column.protocol"),src:t.icon.word}})],1)])]):e("b-row",[e("div",{staticClass:"col-sm-6"},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{name:"pay-method",type:"radio",value:"PROTOCOL"},domProps:{checked:t._q(t.type,"PROTOCOL")},on:{change:function(e){t.type="PROTOCOL"}}}),e("docsIcon",{attrs:{name:t.$t("column.protocol"),src:t.icon.word}})],1)])])],1):e("div",["INNER"===t.applicationType?e("b-row",[-1===["COMMISSION_REVISION","FINISHED"].indexOf(t.projectStatus)&&-1===["FOR_NOT_COMPLETED","FOR_NOT_BELONG","FOR_REGION"].indexOf(t.modal.type)?e("div",{staticClass:"col-sm-6"},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{id:"doc-methodoption1",name:"pay-method",type:"radio",value:"REFERENCE"},domProps:{checked:t._q(t.type,"REFERENCE")},on:{change:function(e){t.type="REFERENCE"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.application_before_commission.reference"),src:t.icon.word}})],1)]):t._e(),-1!==["FOR_COMMISSION"].indexOf(t.modal.type)&&"REVISION"!==t.projectStatus?e("div",{staticClass:"col-sm-6"},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{name:"pay-method",type:"radio",value:"NOTICE"},domProps:{checked:t._q(t.type,"NOTICE")},on:{change:function(e){t.type="NOTICE"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.commission.notice"),src:t.icon.word}})],1)]):t._e(),-1!==["FOR_COMMISSION"].indexOf(t.modal.type)&&"REVISION"!==t.projectStatus?e("div",{staticClass:"col-sm-6"},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{name:"pay-method",type:"radio",value:"COMPROMISE_DECISION"},domProps:{checked:t._q(t.type,"COMPROMISE_DECISION")},on:{change:function(e){t.type="COMPROMISE_DECISION"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.commission.compromise_decision"),src:t.icon.word}})],1)]):t._e(),e("div",{staticClass:"col-sm-6"},[-1!==["FOR_NOT_COMPLETED","FOR_NOT_BELONG","FOR_REGION"].indexOf(t.modal.type)?e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{name:"pay-method",type:"radio"},domProps:{value:t.letterType,checked:t._q(t.type,t.letterType)},on:{change:function(e){t.type=t.letterType}}}),e("docsIcon",{attrs:{name:t.$t("submodules.application_before_commission.letter"),src:t.icon.word}})],1):t._e()]),e("div",{staticClass:"col-sm-6"},[-1!==["FOR_NOT_COMPLETED","FOR_NOT_BELONG","FOR_REGION"].indexOf(t.modal.type)?e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{name:"pay-method",type:"radio"},domProps:{value:t.noticeType,checked:t._q(t.type,t.noticeType)},on:{change:function(e){t.type=t.noticeType}}}),e("docsIcon",{attrs:{name:t.$t("submodules.commission.notice"),src:t.icon.word}})],1):t._e()])]):t._e(),"NOT_BELONG"===t.applicationType?e("b-row",{staticClass:"col-sm-6"},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{id:"doc-methodoption4",name:"pay-method",type:"radio",value:"LETTER"},domProps:{checked:t._q(t.type,"LETTER")},on:{change:function(e){t.type="LETTER"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.application_before_commission.letter"),src:t.icon.word}})],1)]):t._e(),"FROM_DXA"===t.applicationType?e("b-row",[-1===["COMMISSION_REVISION","FINISHED","TEMPORARILY_CLOSED"].indexOf(t.projectStatus)&&-1===["FOR_NOT_COMPLETED","FOR_NOT_BELONG","FOR_REGION"].indexOf(t.modal.type)?e("div",{staticClass:"col-sm-6"},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{name:"pay-method",type:"radio",value:"REFERENCE"},domProps:{checked:t._q(t.type,"REFERENCE")},on:{change:function(e){t.type="REFERENCE"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.application_before_commission.reference"),src:t.icon.word}})],1)]):t._e(),-1===["REVISION_AFTER_COMMISSION","CREATED"].indexOf(t.projectStatus)&&-1===["BEFORE_COMMISSION"].indexOf(t.modal.type)?e("div",{staticClass:"col-sm-6"},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{name:"pay-method",type:"radio",value:"REFERENCE"},domProps:{checked:t._q(t.type,"REFERENCE")},on:{change:function(e){t.type="REFERENCE"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.application_before_commission.reference"),src:t.icon.word}})],1)]):t._e(),e("div",{staticClass:"col-sm-6"},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{name:"pay-method",type:"radio",value:"DECISION"},domProps:{checked:t._q(t.type,"DECISION")},on:{change:function(e){t.type="DECISION"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.application_before_commission.draft_decision"),src:t.icon.word}})],1)]),e("div",{staticClass:"col-sm-6"},[e("label",{staticClass:"card-radio-label mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"card-radio-input",attrs:{id:"doc-methodoption6",name:"pay-method",type:"radio",value:"PROTOCOL_DXA"},domProps:{checked:t._q(t.type,"PROTOCOL_DXA")},on:{change:function(e){t.type="PROTOCOL_DXA"}}}),e("docsIcon",{attrs:{name:t.$t("submodules.application_before_commission.protocol"),src:t.icon.word}})],1)])]):t._e()],1)])])},u=[],m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-radio"},[e("img",{attrs:{width:"40",src:t.src,alt:t.alt}}),e("span",{staticClass:"ml-2"},[t._v(t._s(t.name))])])},p=[],f={name:"docsIcon",props:{src:{type:String,required:!0},name:{type:String,required:!0},alt:{type:String,default:""}}},h=f,v=a("2877"),b=Object(v["a"])(h,m,p,!1,null,null,null),g=b.exports,C={components:{docsIcon:g},props:{applicationType:{type:String,default:""},projectStatus:{type:String,default:""},modal:{type:Object}},data:function(){return{type:null,file:null,icon:{word:a("ccfd")}}},computed:{isCommission:function(){return"CommissionProjects"===this.$route.name},letterType:function(){switch(this.modal.type){case"FOR_NOT_COMPLETED":return"LETTER_NOT_COMPLETED";case"FOR_NOT_BELONG":return"LETTER_NOT_BELONG";case"FOR_REGION":return"LETTER_REGION";default:return this.modal.type}},noticeType:function(){switch(this.modal.type){case"FOR_NOT_COMPLETED":return"NOTICE_NOT_COMPLETED";case"FOR_NOT_BELONG":return"NOTICE_NOT_BELONG";case"FOR_REGION":return"NOTICE_REGION";default:return this.modal.type}}}},_=C,y=Object(v["a"])(_,d,u,!1,null,null,null),O=y.exports,E={props:{project:{type:Object,default:function(){}}},components:{simplebar:c["a"],DocsWithIcons:O},data:function(){return{params:{page:0,itemsPerPage:20},docs:[],filePage:0,getFileSize:l["q"],modal:{isDocControlModal:!1,type:""},loaderDoc:!1,fileUploadPath:null,viewFileModal:!1}},created:function(){this.listDocs()},methods:{viewFile:function(t){"pdf"===this.getExt(t)&&(this.fileUploadPath=t,this.viewFileModal=!0)},handleUploadToReturn:function(t){this.modal.type=t,this.modal.isDocControlModal=!0},saveDocs:function(){var t,e,a=this,o=this.$refs.docsWithIconsRef,s=o.type,i=o.file,n=this.$route.query.id;switch(s){case"NOTICE":t=this.$t("submodules.commission.notice"),e="/project/upload-to-return/".concat(n);break;case"LETTER":t=this.$t("submodules.application_before_commission.letter"),e="/project/upload/".concat(n);break;case"PROTOCOL":t=this.$t("column.protocol"),e="/project/upload/".concat(n);break;case"DECISION":t=this.$t("submodules.application_before_commission.draft_decision"),e="/project/upload/".concat(n);break;case"REFERENCE":t=this.$t("submodules.application_before_commission.reference"),e="/project/upload-to-return/".concat(n);break;case"OFFER_NOTICE":t="Taklif bildirish",e="/project/upload/".concat(n);break;case"PROTOCOL_DXA":t=this.$t("submodules.application_before_commission.protocol"),e="/project/upload/".concat(n);break;case"NOTICE_REGION":t=this.$t("submodules.commission.notice"),e="/project/upload-to-return/".concat(n);break;case"LETTER_REGION":t=this.$t("submodules.application_before_commission.letter"),e="/project/upload-to-return/".concat(n);break;case"LETTER_INVOKE":t=this.$t("submodules.commission.doc_button.invoke_letter"),e="/project/upload-invoke-letter/".concat(n);break;case"LETTER_FINISH":t=this.$t("submodules.commission.doc_button.letter"),e="/letter/upload-finish-letter/".concat(this.project.applicationDto.id);break;case"PROTOCOL_DELAY":t=this.$t("submodules.commission.doc_button.protocol"),e="/project/upload-to-return/".concat(n);break;case"PROTOCOL_RESUME":t=this.$t("submodules.commission.doc_button.protocol"),e="/project/upload-to-return/".concat(n);break;case"PROTOCOL_SUSPEND":t=this.$t("submodules.commission.doc_button.protocol"),e="/project/upload-to-return/".concat(n);break;case"NOTICE_NOT_BELONG":t=this.$t("submodules.commission.notice"),e="/project/upload-to-return/".concat(n);break;case"LETTER_NOT_BELONG":t=this.$t("submodules.application_before_commission.letter"),e="/project/upload-to-return/".concat(n);break;case"PROTOCOL_COMMISSION":t=this.$t("submodules.commission.doc_button.protocol"),e="/project/upload-to-return/".concat(n);break;case"DECISION_COMMISSION":t=this.$t("submodules.commission.doc_button.decision"),e="/project/upload-to-return/".concat(n);break;case"COMPROMISE_DECISION":t=this.$t("submodules.commission.compromise_decision"),e="/project/upload-to-return/".concat(n);break;case"NOTICE_NOT_COMPLETED":t=this.$t("submodules.commission.notice"),e="/project/upload-to-return/".concat(n);break;case"LETTER_NOT_COMPLETED":t=this.$t("submodules.application_before_commission.letter"),e="/project/upload-to-return/".concat(n);break;case"PRESCRIPTION_COMMISSION":t=this.$t("submodules.commission.doc_button.prescription"),e="/project/upload-to-return/".concat(n);break;case"COMPROMISE_DECISION_DELAY":t=this.$t("submodules.commission.doc_button.compromise"),e="/project/upload-to-return/".concat(n);break;case"COMPROMISE_DECISION_RESUME":t=this.$t("submodules.commission.doc_button.compromise"),e="/project/upload-to-return/".concat(n);break;case"COMPROMISE_DECISION_SUSPEND":t=this.$t("submodules.commission.doc_button.compromise"),e="/project/upload-to-return/".concat(n);break}s&&n&&e&&(this.loaderDoc=!0,r["a"].saveDoc(e,"docx",i,s,t).then((function(t){if(t.data){a.listDocs(),a.$emit("get-project-by-id"),a.modal.isDocControlModal=!1,Object(l["A"])();var e=a.$router.resolve({name:"Office-DOCUMENT-commission",query:{id:t.data.id,page:"GET"}});window.open(e.href,"_blank")}})).catch((function(t){})).finally((function(){setTimeout((function(){a.loaderDoc=!1}),500)})))},saveFile:function(t,e){this.leaveFile(t,e)},clickUpload:function(){this.modal.isDocControlModal=!0,this.modal.type="OFFER_NOTICE"},leaveFile:function(t,e){var a=this,o=this.$route.query.id;o?r["a"].leaveFile(o,t,e).then((function(t){a.file=null,setTimeout((function(){a.listDocs()}),300)})).catch((function(t){})):this.$router.go(-1)},listDocs:function(){var t=this,e=this.$route.query.id;e?r["a"].listDocsWithSignatoryService(e,this.params).then((function(e){t.docs=e.data,t.handleScroll()})).catch((function(t){})):this.$router.go(-1)},loadMoreDocs:function(t){var e=this,a=this.$route.query.id;a?r["a"].listDocsService(a,{page:t,itemsPerPage:20}).then(function(){var t=Object(n["a"])(Object(i["a"])().mark((function t(a){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=a.data,o.list.length>0?e.docs=e.docs.concat(o.list):e.filePage;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):this.$router.go(-1)},handleScroll:function(){var t=this;this.$refs.docsRef.$el&&setTimeout((function(){t.$refs.docsRef.SimpleBar.getScrollElement().scrollTop=0}),500)}},mounted:function(){var t=document.querySelector("#doc-list .simplebar-content-wrapper");t&&t.scrollTo({top:500,behavior:"smooth"}),this.$refs.docsRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(t){var e=event.target;e.scrollTop,e.scrollHeight,e.clientHeight}))},computed:{isCommission:function(){return"CommissionProjects"===this.$route.name},isRevision:function(){return"REVISION"===this.project.status},notPdfDocFilesCount:function(){return this.docs.filter((function(t){return"pdf"!==t.letter.fileType.toLowerCase()})).length},docsWithoutInvokeLatter:function(){return this.docs.filter((function(t){return"LETTER_INVOKE"!==t.letter.letterType&&"pdf"!==t.letter.fileType.toLowerCase()})).length},canCreateDoc:function(){if("FROM_DXA"===this.project.applicationType)switch(this.project.status){case"CREATED":return this.docsWithoutInvokeLatter<3;case"REVISION_AFTER_COMMISSION":return this.notPdfDocFilesCount<3;case"COMMISSION_REVISION":return this.notPdfDocFilesCount<2}if("INNER"===this.project.applicationType&&this.isCommission&&!this.isRevision)switch(this.project.returnType){case"FOR_PROCESS":return this.docsWithoutInvokeLatter<3}if(this.isCommission&&!this.isRevision)switch(this.project.returnType){case"FOR_FINISH_WORK":return this.docsWithoutInvokeLatter<3;case"FOR_SUSPEND_WORK":return this.docsWithoutInvokeLatter<2;case"FOR_DELAY_WORK":return this.docsWithoutInvokeLatter<2;case"FOR_RESUME_WORK":return this.docsWithoutInvokeLatter<2;default:return this.docsWithoutInvokeLatter<1}if("TEMPORARILY_CLOSED"===this.project.status&&"INNER"===this.project.applicationType)return!0;if(!this.isCommission&&!this.isRevision)switch(this.project.returnType){case"FOR_COMMISSION":return this.notPdfDocFilesCount<3;case"FOR_NOT_COMPLETED":return this.notPdfDocFilesCount<2;case"FOR_NOT_BELONG":return this.notPdfDocFilesCount<2;case"FOR_REGION":return this.notPdfDocFilesCount<2;case"FOR_PROCESS":return this.notPdfDocFilesCount<3;default:return this.docs.length<2}return!this.isCommission&&this.isRevision&&"REVISION"===this.project.status?this.notPdfDocFilesCount<3:!this.isCommission&&this.isRevision?this.notPdfDocFilesCount<2:!(!this.isCommission||!this.isRevision)&&this.notPdfDocFilesCount<1}}},x=E,I=Object(v["a"])(x,o,s,!1,null,null,null);e["a"]=I.exports},"3f4a":function(t,e,a){"use strict";a("b0c0");var o=function(){var t=this,e=t._self._c;return e("div",[e("PageHeader",{attrs:{items:t.items,mobile:t.mobilesm,title:t.title},on:{addBoard:t.addBoard,setProj:t.setProj}}),e("b-sidebar",{staticClass:"sd",attrs:{"no-header":!0,backdrop:"","backdrop-variant":"dark",right:"",shadow:"","sidebar-class":"p-0"},model:{value:t.isModal,callback:function(e){t.isModal=e},expression:"isModal"}},[t.isModal?e("div",[e("proj-employees",{ref:"projEmpRef",on:{cancel:function(e){t.isModal=!1},save:t.save}})],1):t._e()]),e("b-sidebar",{staticClass:"sd",attrs:{"no-header":!0,backdrop:"","backdrop-variant":"dark",right:"",shadow:"","sidebar-class":"p-0"},model:{value:t.isCard,callback:function(e){t.isCard=e},expression:"isCard"}},[e("CardInfo",{ref:"cardInfoRef",attrs:{isCard:t.isCard}})],1),t.mobileBoard?e("div",[e("BoardMobile",{ref:"mobileBoardRef",attrs:{list:t.boards},on:{clickCardTask:t.clickCardTask,loadMoreTaskCard:t.loadMoreTaskCard,setTaskCard:t.setTaskCard,toggleModal:t.toggleModal}})],1):e("div",{staticClass:"con",attrs:{id:"style-2"}},[e("Container",{attrs:{"drop-placeholder":t.upperDropPlaceholderOptions,"get-child-payload":t.getChildPayload,"drag-class":"card-ghost","drag-handle-selector":".column-drag-handle","drop-class":"card-ghost-drop",orientation:"horizontal"},on:{drop:t.onDrop}},t._l(t.boards,(function(a,o){return e("Draggable",{key:a.id+"DRAGGABLEITEM"},[e("Board",{ref:"".concat(a.id,"-boardRef"),refInFor:!0,staticClass:"box",attrs:{board:a,indexB:o,proj:t.project},on:{clickCardTask:t.clickCardTask,editBoard:t.editBoard,loadMoreTaskCard:t.loadMoreTaskCard,pushByIndex:t.pushByIndex,removeByIndex:t.removeByIndex,setSourceId:t.setSourceId,setTaskCard:t.setTaskCard,successDelete:t.listBoards,toggleModal:t.toggleModal}})],1)})),1)],1),e("b-modal",{attrs:{"cancel-title":t.$t("actions.cancel"),"cancel-variant":"outline-danger","no-close-on-backdrop":!0,"ok-title":t.$t("actions.save"),"ok-variant":"success","body-class":"p-0","hide-header":"",size:"md"},on:{cancel:t.cancelB,ok:t.createBoard},model:{value:t.isAddBoard,callback:function(e){t.isAddBoard=e},expression:"isAddBoard"}},[e("div",{staticClass:"p-4"},[e("b-form-input",{staticClass:"mb-2",class:{"is-invalid":t.submitted&&t.$v.b.name.$error},attrs:{placeholder:t.$t("column.name"),size:"lg"},model:{value:t.b.name,callback:function(e){t.$set(t.b,"name",e)},expression:"b.name"}}),e("colors",{attrs:{propColor:t.b.color},on:{selectColor:t.selectColor}})],1)])],1)},s=[],i=a("2909"),n=a("c7eb"),r=a("1da1"),c=(a("a4d3"),a("e01a"),a("d3b7"),a("159b"),a("99af"),a("c740"),a("a434"),function(){var t=this,e=t._self._c;return e("b-card",{staticClass:"p-3",attrs:{"no-body":""}},[e("div",{staticClass:"row"},[e("b-sidebar",{staticClass:"sidebar1",attrs:{"backdrop-variant":"dark",shadow:"",backdrop:"","sidebar-class":"p-0","no-header":!0,right:""},model:{value:t.isMembers,callback:function(e){t.isMembers=e},expression:"isMembers"}},[e("div",{staticClass:"p-2"},[e("members",{ref:"mRef",attrs:{isMembers:t.isMembers,close:!0,heightProp:t.heightWindow-200},on:{success:t.listMembers,close:function(e){t.isMembers=!1}}})],1)]),t.project.id?e("div",{staticClass:"col-12"},[e("div",{staticClass:"d-flex align-items-center justify-content-between"},[e("div",[e("h5",[t._v(t._s(t.project.name))]),e("span",[t._v(t._s(t.project.description))])])]),e("div",{staticClass:"mt-3 d-flex justify-content-between align-items-center",staticStyle:{"flex-wrap":"wrap !important"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"mr-3"},[e("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(e){return t.$router.go(-1)}}},[e("i",{staticClass:"fa fa-arrow-left"})])],1),e("div",[t.isCommission?t._e():e("span",{staticClass:"text-muted font-size-11"},[t._v(t._s(t.$t("projectType")))]),e("p",{staticClass:"m-0"},[e("span",{staticClass:"text-dark font-weight-bold"},[t._v(t._s(t.getName(t.project)))])])])]),e("div",[e("span",{staticClass:"text-muted font-size-11"},[t._v(t._s(t.$t("ownerProj")))]),e("p",{staticClass:"m-0"},[e("span",{staticClass:"text-dark font-weight-bold"},[t._v(" "+t._s("".concat(t.project.ownerLastName," ").concat(t.project.ownerFirstName," ").concat(t.project.ownerMiddleName)))])])]),e("div",[e("span",{staticClass:"text-muted font-size-11"},[t._v(t._s(t.$t("column.on_date")))]),e("p",{staticClass:"m-0"},[e("i",{staticClass:"bx bx-calendar mr-1 text-primary"}),e("span",{staticClass:"text-dark font-weight-bold"},[t._v(" "+t._s(t.replaceDate(t.project.start)?t.replaceDate(t.project.start).daym_shortyyyy():""))])])]),e("div",[e("span",{staticClass:"text-muted font-size-11"},[t._v(t._s(t.$t("column.finishing_date")))]),e("p",{staticClass:"m-0"},[e("i",{staticClass:"bx bx-calendar mr-1 text-primary"}),e("span",{staticClass:"text-dark font-weight-bold"},[t._v(" "+t._s(t.replaceDate(t.project.end)?t.replaceDate(t.project.end).daym_shortyyyy():""))])])]),e("div",{staticClass:"p_cursor",on:{click:t.viewMembers}},[e("span",{staticClass:"text-muted font-size-11"},[e("i",{staticClass:"fa fa-users"}),t.mobile?t._e():e("span",[t._v(" "+t._s(t.$t("members")))])]),e("p",{staticClass:"m-0"},[e("span",{staticClass:"text-dark font-weight-bold"},[t._l(t.members,(function(a){return e("b-avatar",{directives:[{name:"show",rawName:"v-show",value:1==t.members.length,expression:"members.length == 1"}],key:a.id+"MM",attrs:{size:"25px",variant:"primary",src:a.photoUploadPath?"".concat(t.hrUrl,"/").concat(a.photoUploadPath):"",badge:"".concat(a.lastName.charAt(0)).concat(a.firstName.charAt(0))}})})),t.members.length>1?e("b-avatar-group",{attrs:{size:"25px"}},t._l(t.members,(function(a){return e("b-avatar",{key:a.id+"MMMMMM",attrs:{variant:"info",src:a.photoUploadPath?"".concat(t.hrUrl,"/").concat(a.photoUploadPath):"",badge:"".concat(a.lastName.charAt(0)).concat(a.firstName.charAt(0))}})})),1):t._e()],2)])]),e("div",{staticClass:"d-flex align-items-center justify-content-center"},[t.project.isAdmin?e("div",{staticClass:"card-footer bg-white p-0"},[e("a",{staticClass:"btn btn-primary btn-block",attrs:{href:"#"},on:{click:function(e){return t.$emit("addBoard")}}},[e("i",{staticClass:"mdi mdi-plus mr-1"}),t.mobile?t._e():e("span",[t._v(" "+t._s(t.$t("actions.add")))])])]):t._e()])])]):t._e()],1)])}),l=[],d=a("f021"),u=a("8aff"),m=a("6275"),p={components:{Members:u["a"]},created:function(){this.listMembers()},computed:{projectType:function(){return"CommissionProjects"==this.$route.name?"COMMISSION":"BEFORE_COMMISSION"},isCommission:function(){return"COMMISSION"==this.projectType}},data:function(){return{uploadPath:"",singleImage:!1,members:[],isModal:!1,project:{},isMembers:!1,replaceDate:m["u"]}},methods:{viewMembers:function(){var t=this;this.isMembers||(this.isMembers=!0,this.isMembers&&setTimeout((function(){t.$refs.mRef.recalculate()}),200))},listMembers:function(){var t=this,e=this.$route.query.id;e?d["a"].getById(e,this.projectType).then((function(e){t.$emit("setProj",e.data),t.members=e.data.employeesDto,t.project=e.data})).catch((function(t){})):this.$router.go(-1)}},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}},mobile:{type:Boolean,default:!1}}},f=p,h=a("2877"),v=Object(h["a"])(f,c,l,!1,null,null,null),b=v.exports,g=a("c2a4"),C=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"margin-bottom":"25px","z-index":"10"}},[e("div",{staticClass:"card mb-0 bg-white",style:t._empty(t.board.color)?"border-top:5px solid white":"border-top:5px solid ".concat(t.board.color)},[e("div",{staticClass:"card-header pl-4 pr-4 pt-3 bg-white column-drag-handle"},[t.proj.isAdmin?e("b-dropdown",{staticClass:"float-right",attrs:{right:"","toggle-class":"p-0",variant:"white"}},[e("template",{slot:"button-content"},[e("i",{staticClass:"mdi mdi-dots-vertical m-0 text-muted h5"})]),e("b-dropdown-item",{on:{click:function(e){return t.editBoard(t.board)}}},[t._v(t._s(t.$t("actions.edit"))+" ")]),e("b-dropdown-item",{on:{click:function(e){return t.deleteBoard(t.board)}}},[t._v(t._s(t.$t("actions.delete"))+" ")])],2):t._e(),e("span",{staticClass:"drag-column-header"},[e("h4",{staticClass:"card-title pb-1"},[t._v(t._s(t.board.name))])])],1),e("div",{staticClass:"card-body pt-0"},[e("simplebar",{key:t.componentKey+t.board.id+t.board.name,ref:t.board.id+"-Ref",staticStyle:{"max-height":"45vh",overflow:"auto"},attrs:{id:"list-"+t.board.id}},[e("Container",{attrs:{"drop-placeholder":t.dropPlaceholderOptions,"get-child-payload":t.getCardPayload,"get-ghost-parent":t.getGhostParent,"drag-class":"card-ghost","drop-class":"card-ghost-drop","group-name":"task"},on:{drop:t.onCardDrop,"drop-ready":t.onDropReady}},t._l(t.board.projectTaskCardsDto,(function(a){return e("Draggable",{key:a.id+"TASKDRAGGABLE",staticClass:"dragEl",staticStyle:{cursor:"move"}},[e("div",{staticClass:"card task-box itemDrag",style:t._empty(a.color)?"border-left:3px solid white":"border-left:3px solid ".concat(a.color)},[a.uploadPath?e("div",{staticClass:"mb-1 text-center",staticStyle:{width:"100%"}},[e("div",{staticClass:"img-thumbnail",staticStyle:{"background-size":"cover",height:"150px"},style:"background-image: url(".concat(t.baseUrl,"/").concat(a.uploadPath,")"),attrs:{alt:"",width:"100%"}})]):t._e(),e("div",{staticClass:"card-body",staticStyle:{position:"relative"}},[e("div",[e("h5",{staticClass:"font-size-13"},[t._v(" "+t._s(a.name)+" ")])]),e("div",{staticClass:"team float-left"},[e("b-avatar-group",{attrs:{size:"28px"}},t._l(t.replaceStringToArray(a.employeesUploadPath),(function(o,s){return e("b-avatar",{directives:[{name:"show",rawName:"v-show",value:a.countEmployees>0,expression:"task.countEmployees > 0"}],key:s,attrs:{src:"".concat(t.hrUrl,"/").concat(o),variant:"info"}})})),1),e("div",{staticClass:"p-2",staticStyle:{cursor:"pointer"}},[e("div",{staticClass:"d-flex",staticStyle:{"flex-direction":"row"}},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"pl-1 pr-1 pb-0 pt-1 p_cursor",attrs:{title:t.$t("actions.delete"),variant:"light"},on:{click:function(e){return e.preventDefault(),t.deleteTask(a)}}},[e("i",{staticClass:"bx bx-trash font-size-15"})]),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"pl-1 p_cursor pr-1 pb-0 pt-1 mr-1 ml-1",attrs:{title:t.$t("actions.edit"),variant:"light"},on:{click:function(e){return e.preventDefault(),t.editTask(a)}}},[e("i",{staticClass:"bx bx-edit font-size-15"})]),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"pl-1 p_cursor pr-1 pb-0 pt-1",attrs:{title:t.$t("actions.add_employee"),variant:"light"},on:{click:function(e){return t.$emit("toggleModal",{task:a,board:t.board})}}},[e("i",{staticClass:"bx bx-user-plus font-size-15"})]),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"pl-1 p_cursor pr-1 pb-0 pt-1 ml-1",attrs:{title:t.$t("cmts"),variant:"light"},on:{click:function(e){return t.$emit("clickCardTask",a)}}},[e("i",{staticClass:"bx bx-comment font-size-15"})])],1)]),e("div",{staticClass:"pre text-muted font-weight-bold mt-1"},[e("b-badge",{staticClass:"p-2",attrs:{variant:"soft-primary"}},[e("i",{staticClass:"fa fa-user"}),e("span",[t._v(" "+t._s("".concat(a.ownerLastName," ").concat(a.ownerFirstName," ").concat(a.ownerParentName)))])])],1)],1)])])])})),1)],1),e("div",{staticClass:"card-footer bg-white"},[e("a",{staticClass:"btn btn-primary btn-block mt-3",on:{click:function(e){return t.createTask(t.board.id)}}},[e("i",{staticClass:"mdi mdi-plus mr-1"}),t._v(" "+t._s(t.$t("create_new_task"))+" ")])])],1)]),e("create-task",{ref:"file",attrs:{cmt:!0,name:!0,save:!0},on:{sendFile:t.saveFile}}),e("create-task",{ref:"fileEdit",attrs:{cmt:!0,edit:!0,item:t.item,name:!0},on:{sendFile:t.editFile}})],1)},_=[],y=a("8d3b"),O=a("3f7d"),E=function(){var t=this,e=t._self._c;return e("div",[e("b-modal",{attrs:{size:"md","no-close-on-backdrop":!0,"hide-header":"","hide-footer":"",centered:"","body-class":"p-0"},model:{value:t.fileModal,callback:function(e){t.fileModal=e},expression:"fileModal"}},[e("div",{staticClass:"card m-0"},[e("div",{staticClass:"card-body"},[t.fileName?e("h4",{staticClass:"card-title mb-4 d-flex",staticStyle:{"align-items":"center"}},[e("i",{staticClass:"fa fas fa-arrow-alt-circle-up text-primary",staticStyle:{"font-size":"35px"}}),e("span",{staticClass:"ml-2"},[t.fileName?e("p",{staticClass:"m-0"},[t._v(t._s(t.fileName))]):t._e(),t.fileSize?e("span",{staticClass:"text-primary"},[t._v(t._s(t.getFileSize(t.fileSize)))]):t._e()])]):t._e(),e("b-form",[t.cmt?e("b-form-group",{staticClass:"mb-0",attrs:{label:t.name?t.$t("column.name"):t.$t("column.comment"),"label-for":"horizontal-password-input","label-cols-sm":"3"}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.fileMessage,expression:"fileMessage"}],staticClass:"form-control",staticStyle:{resize:"none"},attrs:{id:"commentmessage-input",placeholder:t.name?t.$t("column.name"):t.$t("column.comment"),rows:"3"},domProps:{value:t.fileMessage},on:{input:function(e){e.target.composing||(t.fileMessage=e.target.value)}}}),e("b-button",{staticClass:"iconUpload2",staticStyle:{padding:"1px"},attrs:{variant:"white",size:"sm"},on:{click:function(e){return e.preventDefault(),t.upld.apply(null,arguments)}}},[e("i",{staticClass:"bx bxs-file-image text-primary font-size-20"})])],1):t._e(),e("colors",{ref:"colorRef",on:{selectColor:t.selectColor}}),e("div",{staticClass:"form-group mt-4 mb-0 row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"float-right"},[e("b-button",{staticClass:"mr-2",attrs:{variant:"outline-danger"},on:{click:t.reset}},[t._v(t._s(t.$t("actions.cancel")))]),e("b-button",{attrs:{variant:"success"},on:{click:t.send}},[t._v(t._s(t.save?t.$t("actions.save"):t.edit?t.$t("actions.edit"):t.$t("actions.send")))])],1)])])],1)],1)])]),e("b-form-file",{ref:"uploadFile",staticStyle:{display:"none"},attrs:{accept:"image/*"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1)},x=[],I=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"d-flex"},t._l(t.colors,(function(a){return e("div",{key:a,staticClass:"card ml-2 mt-2 mb-0",style:"background-color: ".concat(a),on:{click:function(e){return t.selectColor(a)}}},[e("div",{staticClass:"card-body text-center"},[e("div",{staticClass:"rounded d-flex",staticStyle:{height:"11px",width:"11px","justify-content":"center","align-items":"center","box-sizing":"border-box"}},[t.selected==a?e("i",{staticClass:"bx bx-checkbox-checked",class:"bg-light"==a?"text-dark":" text-white",staticStyle:{"font-size":"45px"}}):t._e()])])])})),0)])},w=[],S={props:["propColor"],data:function(){return{colors:["#556ee6","#34c38f","#50a5f1","#f1b44c","#f46a6a","#343a40","#74788d"],selected:""}},created:function(){this.propColor&&(this.selected=this.propColor)},methods:{setColor:function(t){this.selected=t},selectColor:function(t){t!=this.selected?(this.selected=t,this.$emit("selectColor",t)):(this.selected="",this.$emit("selectColor",""))}}},j=S,T=Object(h["a"])(j,I,w,!1,null,null,null),R=T.exports,D={components:{colors:R},props:["cmt","save","name","edit","item"],watch:{file:function(t){if(t)if(t.size<=10485760){var e=t.name.split(".").pop();this.imagesExt.indexOf(e)>-1?(this.setFileDetails(t.name,t.size),this.fileModal||(this.fileModal=!0)):(this.file=null,this.setFileDetails(null,null),this.showMsgError(this.$t("warning.fileImage")))}else this.file=null,this.setFileDetails(null,null),this.showMsgError(this.$t("warning.fileSize"))}},data:function(){return{imagesExt:["tiff","pjp","jfif","gif","svg","bmp","png","jpeg","svgz","jpg","webp","ico","xbm","dib","tif","jpe","jif","jfi","pjpeg","avif","psd","raw","arw","cr2","nrw","k25","indd","heif","heic","ind","indt","jp2","j2k","jpm","mj2"],fileMessage:"",fileName:null,file:null,fileModal:!1,fileSize:null,selectedColor:"",getFileSize:m["q"]}},methods:{selectColor:function(t){this.selectedColor=t},setFileDetails:function(t,e){this.fileName=t,this.fileSize=e},openM:function(){var t=this;this.fileModal=!0,setTimeout((function(){t.edit&&t.item&&(t.item.fileName&&(t.fileName=t.item.fileName),t.fileMessage=t.item.name,t.$refs.colorRef.setColor(t.item.color))}),300)},upld:function(){this.$refs.uploadFile.$el.firstChild.click()},send:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$emit("sendFile",t.fileMessage,t.file,t.selectedColor);case 2:return e.next=4,t.reset();case 4:case"end":return e.stop()}}),e)})))()},reset:function(){this.fileMessage="",this.file=null,this.fileModal=!1}}},k=D,M=(a("9f9c"),Object(h["a"])(k,E,x,!1,null,null,null)),N=M.exports,P={props:["board","indexB","proj"],watch:{file:{handler:function(t){t&&(this.fileModal=!0)}}},data:function(){return{dropPlaceholderOptions:{className:"cards-drop-preview",animationDuration:"150",showOnTop:!0},componentKey:1,boardDraggedItem:null,item:null,fileModal:!1,task:"",file:null,params:{page:0,itemsPerPage:10},tasks:[],taskPage:0,bId:null,drag:!1}},components:{simplebar:y["a"],Draggable:O["Draggable"],Container:O["Container"],CreateTask:N},computed:{dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghostB"}}},methods:{onDropReady:function(t){null!=t.removedIndex&&this.$emit("setSourceId",this.board,t)},getGhostParent:function(){return document.body},getCardPayload:function(t){var e=this;return function(a){return e.board.projectTaskCardsDto[t]}},onCardDrop:function(t){var e=this;if(null!==t.addedIndex){var a={indexBefore:0,indexAfter:0,projectTaskCardId:t.payload().id},o=t.addedIndex,s=this.board.projectTaskCardsDto[o+1],i=this.board.projectTaskCardsDto[o-1];i&&this.$set(a,"indexBefore",i.id),s&&this.$set(a,"indexAfter",s.id),d["a"].changeIndexCard(this.board.id,a).then(function(){var a=Object(r["a"])(Object(n["a"])().mark((function a(o){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:o.data&&(null!==t.removedIndex?e.$emit("pushByIndex",e.board.id,t,i,s):(e.$emit("pushByIndex",e.board.id,t,i,s),e.$emit("removeByIndex")));case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){}))}},forceRerender:function(){var t=this;this.componentKey+=1,setTimeout((function(){t.scrollActive()}),200)},dragDrop:function(t){t.added?this.changeItemPosition(t.added):t.moved&&this.changeItemPosition(t.moved)},recalculate:function(){var t=this.$refs["".concat(this.board.id,"-Ref")].SimpleBar;t.recalculate()},editFile:function(t,e,a){var o=this;d["a"].updateTaskCard(this.item.id,t,e,[],a).then((function(t){o.item=null,o.listTasks(o.board.id),o.successEdited()})).catch((function(t){}))},editTask:function(t){this.item=t,this.$refs.fileEdit.openM()},deleteTask:function(t){var e=this;this.cnf().then((function(a){a.value&&d["a"].deleteTaskCard(t.id).then((function(t){e.deleteSuccess(),e.listTasks(e.board.id)})).catch((function(t){}))}))},deleteBoard:function(t){var e=this;this.cnf().then((function(a){a.value&&d["a"].deleteBoard(t.id).then((function(t){e.deleteSuccess(),e.$emit("successDelete")})).catch((function(t){}))}))},editBoard:function(t){this.$emit("editBoard",t)},createTask:function(t){this.item=null,this.bId=t,this.$refs.file.openM()},saveFile:function(t,e,a){this.leaveTask(t,e,a),this.fileModal=!1,this.file=null},clickUpload:function(){this.$refs.file.upld()},leaveTask:function(t,e,a){var o=this;d["a"].createTask(this.bId,t,e,a).then((function(t){o.task="",o.successSaved(),setTimeout((function(){o.listTasks(o.bId)}),300)})).catch((function(t){}))},listTasks:function(t){var e=this;t?d["a"].listTaskCards(t,this.params).then((function(a){e.taskPage=0,e.$emit("setTaskCard",{boardId:t,list:a.data})})).catch((function(t){})):this.$router.go(-1)},loadMoreTasks:function(t,e){var a=this;d["a"].listTaskCards(t,{page:e,itemsPerPage:10}).then(function(){var e=Object(r["a"])(Object(n["a"])().mark((function e(o){var s;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=o.data,s.length>0?a.$emit("loadMoreTaskCard",{boardId:t,list:s}):a.taskPage;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){}))},handleScroll:function(t){var e=this;this.$refs["".concat(t,"-Ref")].$el&&setTimeout((function(){e.$refs["".concat(t,"-Ref")].SimpleBar.getScrollElement().scrollTop=0}),500)},scrollActive:function(){var t=this;this.$refs["".concat(this.board.id,"-Ref")].SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,o=a.scrollTop,s=a.scrollHeight,i=a.clientHeight,n=1;s-i-n<o&&t.loadMoreTasks(t.board.id,t.taskPage+=1)}))}},mounted:function(){this.scrollActive()}},$=P,F=(a("73b5"),Object(h["a"])($,C,_,!1,null,null,null)),L=F.exports,A=a("b5ae"),B=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card mb-0"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"button-items d-flex",staticStyle:{"justify-content":"space-between"}},[e("b-button",{staticClass:"btn-label",attrs:{variant:"primary"}},[e("i",{staticClass:"bx bx-smile label-icon"}),t._v(" "+t._s("(".concat(t.members.length,")"))+" ")]),e("span",[e("b-button",{attrs:{variant:"outline-danger"},on:{click:function(e){return t.$emit("cancel")}}},[t._v(t._s(t.$t("actions.cancel")))]),e("b-button",{attrs:{variant:"primary"},on:{click:t.save}},[e("i",{staticClass:"fa fa-save"}),t._v(" "+t._s(t.$t("actions.save"))+" ")])],1)],1)]),e("div",[e("div",{staticClass:"p-4"},[e("simplebar",{ref:"contactsRef",staticStyle:{height:"590px"},attrs:{id:"contact-list"}},[e("ul",{staticClass:"list-unstyled chat-list"},t._l(t.contactList,(function(a){return e("li",{key:a.employeeId,attrs:{id:t.contactList[t.contactList.length-1].id==a.id?"lid":""},on:{click:function(e){return t.pushMember(a)}}},[e("a",{attrs:{href:"javascript: void(0);"}},[e("div",{staticClass:"media d-flex",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"align-self-center mr-3"}),a.uploadPath?e("div",{staticClass:"align-self-center mr-3"},[e("img",{staticClass:"rounded-circle avatar-xs",attrs:{src:"".concat(t.hrUrl,"/").concat(a.uploadPath),alt:""}})]):t._e(),a.uploadPath?t._e():e("div",{staticClass:"avatar-xs align-self-center mr-3"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white"},[t._v(" "+t._s("".concat(a.lastName.charAt(0)," ").concat(a.firstName.charAt(0)))+" ")])]),e("div",{staticClass:"media-body overflow-hidden"},[e("h5",{staticClass:"font-size-14 mb-1",class:t.check(a)},[t._v(t._s("".concat(a.lastName," ").concat(a.firstName," ").concat(a.parentName)))]),e("p",{staticClass:"m-0"},[t._v(t._s(t.getName({nameLt:a.departmentNameLt,nameRu:a.departmentNameRu})))]),e("p",{staticClass:"m-0"},[t._v(t._s(t.getName({nameLt:a.staffPositionNameLt,nameRu:a.staffPositionNameRu})))])]),t.check(a)?e("i",{staticClass:"fas fa-user-check font-size-18 text-primary"}):t._e()])])])})),0)])],1)])])])},z=[],U=(a("3c65"),{props:["notIn"],components:{simplebar:y["a"]},data:function(){return{contactList:[],contactPage:0,members:[],groupModal:!1,searchValue:"",cmpKey:0}},computed:{projectType:function(){return"CommissionProjects"==this.$route.name?"COMMISSION":"BEFORE_COMMISSION"}},methods:{setSelected:function(t){this.members=t},refresh:function(){this.cmpKey+=1},save:function(){var t=this;this.$emit("save",this.members),this.members=[],setTimeout((function(){t.getContacts({page:0,itemsPerPage:20})}),300)},pushMember:function(t){var e=this.members.indexOf(t.employeeId);e>-1?this.members.splice(e,1):this.members.unshift(t.employeeId)},check:function(t){var e=this.members.indexOf(t.employeeId);return e>-1&&["font-weight-bold","text-primary"]},getContacts:function(t){var e=this,a=this.$route.query.id;a&&d["a"].listMembers(a,t,this.projectType).then((function(t){e.$nextTick((function(){e.contactList=t.data.list}))}))},loadMoreContact:function(){var t=this,e=this.$route.query.id;e&&d["a"].listMembers(e,{page:this.contactPage+=1,itemsPerPage:20},this.projectType).then(function(){var e=Object(r["a"])(Object(n["a"])().mark((function e(a){var o;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:o=a.data,o.list.length>0?t.$nextTick((function(){t.contactList=t.contactList.concat(o.list)})):t.contactPage;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},mounted:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){var a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=document.querySelector("#contact-list .simplebar-content-wrapper"),a&&a.scrollTo({top:500,behavior:"smooth"}),e.next=4,t.$refs.contactsRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,o=a.scrollTop,s=a.scrollHeight,i=a.clientHeight,n=1;s-i-n<o&&t.loadMoreContact()}));case 4:case"end":return e.stop()}}),e)})))()},created:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getContacts({page:0,itemsPerPage:20});case 2:case"end":return e.stop()}}),e)})))()},watch:{searchValue:{handler:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getContacts({page:0,itemsPerPage:20});case 2:case"end":return e.stop()}}),e)})))()}}}}),q=U,V=Object(h["a"])(q,B,z,!1,null,null,null),H=V.exports,W=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[t.cardInfo.uploadPath?e("div",{staticClass:"mb-1 text-center"},[e("div",{staticClass:"img-thumbnail",staticStyle:{"background-repeat":"no-repeat","background-size":"30%","background-position":"center center","min-height":"15em"},style:"background-image: url(".concat(t.baseUrl,"/").concat(t.cardInfo.uploadPath,")"),attrs:{alt:""},on:{click:function(e){t.singleImage=!0}}}),e("vue-easy-lightbox",{attrs:{visible:t.singleImage,imgs:"".concat(t.baseUrl,"/").concat(t.cardInfo.uploadPath)},on:{hide:function(e){t.singleImage=!1}}})],1):t._e(),e("div",{staticClass:"d-flex mb-2 mt-2",staticStyle:{"justify-content":"space-between","align-items":"center"}},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.$t("cmts")))]),e("form",[e("div",{staticClass:"form-group m-0"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("actions.filter"),"aria-label":"Recipient's username"},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value)}}}),t._m(0)])])])]),e("simplebar",{key:t.cmpKey+"COMMENT",ref:"commentsRef",style:"height:".concat(t.cardInfo.uploadPath?t.heightWindow-400:t.heightWindow-200,"px"),attrs:{id:"comment-list"}},t._l(t.comments,(function(a,o){return e("div",{key:o,staticClass:"media mb-4"},[e("div",{staticClass:"mr-3"},[a.ownerUploadPath?e("img",{staticClass:"media-object rounded-circle avatar-xs",attrs:{alt:"",src:"".concat(t.hrUrl,"/").concat(a.ownerUploadPath)}}):e("div",{staticClass:"avatar-xs mr-3"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white font-size-16"},[t._v(" "+t._s("".concat(a.ownerLastName.charAt(0)).concat(a.ownerFirstName.charAt(0)))+" ")])])]),e("div",{staticClass:"media-body"},[e("h5",{staticClass:"font-size-13 mb-1 text-primary font-weight-bold"},[t._v(" "+t._s("".concat(a.ownerLastName," ").concat(a.ownerFirstName," ").concat(a.ownerParentName))+" ")]),a.uploadPath?e("div",[e("p",{staticClass:"mb-1 d-flex align-items-center"},[e("a",{staticClass:"fa fas fa-arrow-alt-circle-down text-primary",staticStyle:{"font-size":"35px"},attrs:{href:"".concat(t.baseUrl,"/").concat(a.uploadPath),download:"file.".concat(a.fileExtension)}}),e("span",{staticClass:"ml-2"},[t._v(t._s(a.fileName))])])]):t._e(),e("p",{staticClass:"mb-1",staticStyle:{"word-break":"break-all !important"}},[e("span",{staticClass:"font-size-13"},[t._v(t._s(a.comment))]),e("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"bx ml-2 bx-trash font-size-16 p_cursor hi",attrs:{title:t.$t("actions.delete")},on:{click:function(e){return t.deleteComment(a)}}}),e("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"bx bx-pencil font-size-16 p_cursor hi",attrs:{title:t.$t("actions.edit")},on:{click:function(e){return t.editComment(a)}}})]),e("p",{staticClass:"text-muted mb-0 font-size-10"},[e("i",{staticClass:"bx bx-calendar mr-1 text-primary"}),t._v(" "+t._s(t.replaceDate(a.date).daym_shortyyyy_hm())+" ")])])])})),0)],1),e("div",{staticClass:"pl-3 pr-3 pt-3"},[e("form",[e("div",{staticClass:"form-group",staticStyle:{position:"relative"}},[e("b-form-textarea",{staticClass:"form-control",staticStyle:{resize:"none"},attrs:{id:"commentmessage-input",placeholder:t.$t("writeCmt"),rows:"3"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.leaveComment(t.comment)}},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),e("b-button",{staticClass:"iconUpload",staticStyle:{padding:"1px"},attrs:{variant:"white",size:"sm"},on:{click:function(e){return e.preventDefault(),t.clickUpload.apply(null,arguments)}}},[e("i",{staticClass:"bx bxs-file-doc text-primary font-size-20"})])],1)]),e("upload-file",{ref:"file",attrs:{cmt:!0},on:{sendFile:t.sendFile}}),e("upload-file",{ref:"fileEdit",attrs:{item:t.editData,cmt:!0,edit:!0},on:{sendFile:t.saveChanges}})],1)])},G=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e("i",{staticClass:"mdi mdi-magnify"})])])}],K=a("825ae"),Y={props:["height","isCard"],watch:{file:{handler:function(t){t&&(this.fileModal=!0)}},searchValue:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.listComments();case 2:case"end":return e.stop()}}),e)})))()}},data:function(){return{replaceDate:m["u"],singleImage:!1,searchValue:"",fileModal:!1,comment:"",file:null,page:0,itemsPerPage:20,comments:[],commentPage:0,cardInfo:{},cmpKey:0,editData:null}},components:{simplebar:y["a"],VueEasyLightbox:K["a"]},computed:{params:function(){return{params:{page:this.page,itemsPerPage:this.itemsPerPage},search:this.searchValue}}},methods:{reset:function(){var t=this;this.cmpKey+=1,setTimeout((function(){t.scrollActive()}),200)},deleteComment:function(t){var e=this;this.cnf().then((function(a){a.value&&d["a"].deleteCardComment(t.id).then((function(t){e.deleteSuccess(),e.listComments()})).catch((function(t){}))}))},editComment:function(t){var e=this;this.editData=t,setTimeout((function(){e.$refs.fileEdit.openForComment()}),100)},setCardInfoData:function(t){var e=this;this.cardInfo=t,this.$nextTick((function(){e.listComments()}))},saveChanges:function(t,e){this.updateCardComment(t,e)},updateCardComment:function(t,e){var a=this;this.editData.id?d["a"].updateCardComment(this.editData.id,t,e).then((function(t){a.comment="",setTimeout((function(){a.listComments(),a.$refs.fileEdit.reset()}),300)})).catch((function(t){})):this.showMsgError("Not selected data")},sendFile:function(t,e){this.leaveComment(t,e),this.fileModal=!1,this.file=null},clickUpload:function(){this.$refs.file.upld()},leaveComment:function(t,e){var a=this;this.cardInfo.id?d["a"].createCardComment(this.cardInfo.id,t,e).then((function(t){a.comment="",setTimeout((function(){a.listComments()}),300)})).catch((function(t){})):this.$router.go(-1)},listComments:function(){var t=this;this.cardInfo.id?d["a"].listCardComment(this.cardInfo.id,this.params).then((function(e){t.comments=e.data.list,t.handleScroll()})).catch((function(t){})):this.$router.go(-1)},loadMoreComments:function(t){var e=this;this.cardInfo.id?d["a"].listCardComment(this.cardInfo.id,{params:{page:t,itemsPerPage:20},search:""}).then(function(){var t=Object(r["a"])(Object(n["a"])().mark((function t(a){var o;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=a.data,o.list.length>0?e.comments=e.comments.concat(o.list):e.commentPage;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):this.$router.go(-1)},scrollActive:function(){var t=this;this.$refs.commentsRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,o=a.scrollTop,s=a.scrollHeight,i=a.clientHeight,n=1;s-i-n<o&&t.loadMoreComments(t.commentPage+=1)}))},handleScroll:function(){var t=this;this.$refs.commentsRef.$el&&setTimeout((function(){t.$refs.commentsRef.SimpleBar.getScrollElement().scrollTop=0}),500)}},mounted:function(){this.isCard&&this.scrollActive()}},X=Y,Q=(a("0684"),Object(h["a"])(X,W,G,!1,null,null,null)),Z=Q.exports,J=function(){var t=this,e=t._self._c;return e("div",[e("create-task",{ref:"file",attrs:{cmt:!0,save:!0,name:!0},on:{sendFile:t.saveFile}}),e("create-task",{ref:"fileEdit",attrs:{cmt:!0,edit:!0,item:t.item,name:!0},on:{sendFile:t.editFile}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},t._l(t.list,(function(a,o){return e("div",{key:a.id+o+"BOARD_MOBILE"+a.name,staticClass:"card",style:t._empty(a.color)?"border-top:5px solid white":"border-top:5px solid ".concat(a.color)},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"d-flex align-items-center justify-content-between"},[e("h4",{staticClass:"card-title mb-4"},[t._v(t._s(a.name))]),e("a",{staticClass:"btn btn-success",attrs:{href:"javascript: void(0);"},on:{click:function(e){return t.createTask(a.id)}}},[e("i",{staticClass:"mdi mdi-plus"}),t._v(" "+t._s(t.$t("create_new_task"))+" ")])]),e("div",{staticClass:"table-responsive mb-0"},[e("BoardMobileTaskItem",{attrs:{board:a},on:{loadMoreTasks:t.loadMoreTasks,editTask:t.editTask,deleteTask:t.deleteTask,toggleModal:t.toggleModal,clickCardTask:t.clickCardTask}})],1)])])})),0)])],1)},tt=[],et=function(){var t=this,e=t._self._c;return e("simplebar",{ref:t.board.id+"-Ref",staticStyle:{"max-height":"500px"},attrs:{id:"list-"+t.board.id}},[e("table",{staticClass:"table table-nowrap table-centered"},[e("tbody",t._l(t.board.projectTaskCardsDto,(function(a){return e("tr",{key:a.id+"TASKCARDMOBILE",style:a.uploadPath?"background-image: url(".concat(t.baseUrl,"/").concat(a.uploadPath,")"):""},[e("td",{staticStyle:{width:"60px"},style:t._empty(a.color)?"border-left:3px solid white":"border-left:3px solid ".concat(a.color)}),e("td",[e("h5",{staticClass:"text-truncate font-size-14 m-0"},[t._v(" "+t._s(a.name)+" ")]),e("span",{staticClass:"pre text-muted"},[t._v(" "+t._s("".concat(a.ownerLastName," ").concat(a.ownerFirstName," ").concat(a.ownerParentName)))])]),e("td",[e("b-avatar-group",{attrs:{size:"28px"}},t._l(t.replaceStringToArray(a.employeesUploadPath),(function(o,s){return e("b-avatar",{directives:[{name:"show",rawName:"v-show",value:a.countEmployees>0,expression:"task.countEmployees > 0"}],key:s,attrs:{variant:"info",src:"".concat(t.hrUrl,"/").concat(o)}})})),1)],1),e("td",[e("div",{staticClass:"float-right"},[e("div",{staticClass:"p-2",staticStyle:{cursor:"pointer"}},[e("div",{staticClass:"d-flex",staticStyle:{"flex-direction":"row"}},[e("b-button",{staticClass:"mr-2",attrs:{variant:"outline-primary"},on:{click:function(e){return e.preventDefault(),t.$emit("deleteTask",a,t.board)}}},[e("i",{staticClass:"bx bx-trash font-size-15"})]),e("b-button",{staticClass:"mr-2",attrs:{variant:"outline-primary"},on:{click:function(e){return e.preventDefault(),t.$emit("editTask",a,t.board)}}},[e("i",{staticClass:"bx bx-edit font-size-15"})]),e("b-button",{staticClass:"mr-2",attrs:{variant:"outline-primary"},on:{click:function(e){return t.$emit("toggleModal",{task:a,board:t.board})}}},[e("i",{staticClass:"bx bx-user-plus font-size-15"})]),e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.$emit("clickCardTask",a,t.board)}}},[e("i",{staticClass:"bx bx-comment font-size-15"})]),e("b-button",{staticClass:"ml-2",attrs:{variant:"primary"},on:{click:function(e){return t.$emit("toggleModal",{task:a,board:t.board})}}},[e("i",{staticClass:"bx bx-cog font-size-15"})])],1)])])])])})),0)])])},at=[],ot={mounted:function(){this.scrollActive()},methods:{scrollActive:function(){var t=this;this.board.id&&this.$refs["".concat(this.board.id,"-Ref")].SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,o=a.scrollTop,s=a.scrollHeight,i=a.clientHeight,n=1;s-i-n<o&&t.$emit("loadMoreTasks",t.board.id)}))}},components:{simplebar:y["a"]},props:{board:{type:Object,default:function(){}}}},st=ot,it=Object(h["a"])(st,et,at,!1,null,null,null),nt=it.exports,rt={components:{CreateTask:N,BoardMobileTaskItem:nt},props:{list:{type:Array,default:function(){return[]}}},data:function(){return{item:null,taskPage:0,fileModal:0,file:null,task:"",bId:null,params:{page:0,itemsPerPage:10}}},methods:{loadMoreTasks:function(t){var e=this;d["a"].listTaskCards(t,{page:this.taskPage+=1,itemsPerPage:10}).then(function(){var a=Object(r["a"])(Object(n["a"])().mark((function a(o){var s;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:s=o.data,s.length>0?e.$emit("loadMoreTaskCard",{boardId:t,list:s}):e.taskPage=e.taskPage-1;case 2:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){}))},toggleModal:function(t){this.bId=t.board.id,this.$emit("toggleModal",t)},refresh:function(){this.listTasks(parseInt(this.bId))},clickCardTask:function(t,e){this.bId=e.id,this.$emit("clickCardTask",t)},leaveTask:function(t,e,a){var o=this;d["a"].createTask(this.bId,t,e,a).then((function(t){o.task="",o.successSaved(),setTimeout((function(){o.listTasks(parseInt(o.bId))}),300)})).catch((function(t){}))},saveFile:function(t,e,a){this.leaveTask(t,e,a),this.fileModal=!1,this.file=null},editFile:function(t,e,a){var o=this;d["a"].updateTaskCard(this.item.id,t,e,[],a).then((function(t){o.item=null,o.listTasks(o.bId),o.successEdited()})).catch((function(t){}))},listTasks:function(t){var e=this;t?d["a"].listTaskCards(t,this.params).then((function(a){e.taskPage=0,e.$emit("setTaskCard",{boardId:t,list:a.data})})).catch((function(t){})):this.$router.go(-1)},editTask:function(t,e){this.bId=e.id,this.item=t,this.$refs.fileEdit.openM()},createTask:function(t){this.item=null,this.bId=t,this.$refs.file.openM()},deleteTask:function(t,e){var a=this;this.cnf().then((function(o){o.value&&d["a"].deleteTaskCard(t.id).then((function(t){a.deleteSuccess(),a.listTasks(e.id)})).catch((function(t){}))}))}}},ct=rt,lt=Object(h["a"])(ct,J,tt,!1,null,null,null),dt=lt.exports,ut=a("9225"),mt={watch:{widthWindow:{handler:function(t){this.setWindowWidthPrivate(t)}}},validations:{b:{name:{required:A["required"]}}},page:{title:ut["default"].t("tasks_list"),meta:[{name:"description",content:g.description}]},components:{colors:R,PageHeader:b,Board:L,Draggable:O["Draggable"],ProjEmployees:H,Container:O["Container"],CardInfo:Z,BoardMobile:dt},data:function(){return{upperDropPlaceholderOptions:{className:"cards-drop-preview",animationDuration:"150",showOnTop:!0},project:{},isModal:!1,componentKey:0,isAddBoard:!1,title:this.$t("tasks_list"),submitted:!1,items:[{text:this.$t("menu"),href:"/"},{text:this.$t("proj"),href:"/projects"},{text:this.$t("tasks_list"),active:!0}],boards:[],b:{name:""},bId:null,drag:!1,taskCard:{},removedCardBoard:null,dropRes:null,selectedColor:"",isCard:!1,mobileBoard:!1,mobilesm:!1}},methods:{setWindowWidthPrivate:function(t){this.mobileBoard=t<992,this.mobilesm=t<420},clickCardTask:function(t){var e=this;this.isCard=!0,setTimeout((function(){e.$refs.cardInfoRef.setCardInfoData(t),e.$refs.cardInfoRef.reset()}),200)},selectColor:function(t){this.selectedColor=t},setProj:function(t){this.project=t},getChildPayload:function(t){return this.boards[t]},onDrop:function(t){var e=this,a={indexBefore:0,indexAfter:0,projectTaskId:t.payload.id};if(null!=t.addedIndex){var o=t.addedIndex,s=this.boards[o+1],i=this.boards[o-1];i&&this.$set(a,"indexBefore",i.id),s&&this.$set(a,"indexAfter",s.id),d["a"].changeIndex(a).then(function(){var a=Object(r["a"])(Object(n["a"])().mark((function a(o){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.applyDrag(e.boards,t);case 2:e.boards=a.sent,e.boards.forEach((function(t){e.$refs["".concat(t.id,"-boardRef")][0].forceRerender()}));case 4:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){}))}},toggleModal:function(t){var e=this,a=t.task,o=t.board;this.taskCard=a,this.bId=o.id,this.isModal=!0,d["a"].listCardEmployees(a.id).then((function(t){null!=t.data[0]&&e.$refs.projEmpRef.setSelected(t.data)})).catch((function(t){}))},addBoard:function(){this.isAddBoard=!0,this.b.name="",this.bId=null},editBoard:function(t){this.isAddBoard=!0,this.b.name=t.name,this.b.color=t.color,this.bId=t.id},resetBoard:function(){this.listBoards(),this.isAddBoard=!1,this.b.name=""},createBoard:function(t){var e=this;if(t.preventDefault(),this.$v.$touch(),this.submitted=!0,!this.$v.b.$anyError){var a=this.$route.query.id;this.bId?d["a"].updateBoard(this.bId,{name:this.b.name,color:this.selectedColor}).then((function(t){e.resetBoard(),e.successEdited()})).catch((function(t){})):a?d["a"].createBoard(a,{name:this.b.name,color:this.selectedColor}).then((function(t){e.successSaved(),e.resetBoard()})).catch((function(t){})):this.$router.go(-1)}},listBoards:function(){var t=this,e=this.$route.query.id;e?d["a"].listBoards(e,{page:0,itemsPerPage:10}).then((function(e){t.boards=e.data})).catch((function(t){})):this.$router.go(-1)},setTaskCard:function(t){var e=this;this.boards.forEach((function(a){a.id==t.boardId&&e.$set(a,"projectTaskCardsDto",t.list)}))},loadMoreTaskCard:function(t){var e=this,a=t.boardId,o=t.list;this.boards.forEach((function(t){if(t.id==a){var s=t.projectTaskCardsDto.concat(o);e.$set(t,"projectTaskCardsDto",s)}}))},cancelB:function(){this.isAddBoard=!1,this.b.name=""},recalculate:function(t){this.$refs["".concat(t,"-boardRef")][0]&&this.$refs["".concat(t,"-boardRef")][0].recalculate()},save:function(t){var e=this;this.taskCard.id&&t.length>0?d["a"].updateTaskCard(this.taskCard.id,"",null,t).then((function(t){if(e.mobileBoard)return e.$refs.mobileBoardRef.refresh(),e.isModal=!1,void e.successEdited();e.$refs["".concat(e.bId,"-boardRef")][0].listTasks(e.bId),e.isModal=!1,e.successEdited()})).catch((function(t){e.isModal=!1})):this.enterInfo()},setSourceId:function(t,e){this.removedCardBoard=t,this.dropRes=e},removeByIndex:function(){var t=this;this.removedCardBoard&&this.dropRes&&this.boards.forEach((function(e){if(t.removedCardBoard.id===e.id){var a=e.projectTaskCardsDto.findIndex((function(e){return e.id==t.dropRes.payload().id}));e.projectTaskCardsDto.splice(a,1)}}))},pushByIndex:function(t,e){var a=this;this.boards.forEach((function(o){o.id===t&&a.$set(o,"projectTaskCardsDto",a.applyDragCard(o.projectTaskCardsDto,e))}))},applyDrag:function(t,e){var a=e.removedIndex,o=e.addedIndex,s=e.payload;if(null===a&&null===o)return t;var n=Object(i["a"])(t),r=s;return null!==a&&(r=n.splice(a,1)[0]),null!==o&&n.splice(o,0,r),n},applyDragCard:function(t,e){var a=e.removedIndex,o=e.addedIndex,s=e.payload;if(null===a&&null===o)return t;var n=Object(i["a"])(t),r=s();return null!==a&&(r=n.splice(a,1)[0]),null!==o&&n.splice(o,0,r),n}},created:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.listBoards();case 2:window.addEventListener("resize",(function(){t.innerWidth=window.innerWidth})),t.setWindowWidthPrivate(t.widthWindow);case 4:case"end":return e.stop()}}),e)})))()}},pt=mt,ft=(a("483c"),Object(h["a"])(pt,o,s,!1,null,null,null));e["a"]=ft.exports},"3f7d":function(t,e,a){"use strict";a.d(e,"Container",(function(){return d})),a.d(e,"Draggable",(function(){return m}));var o=a("c878"),s=function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){var a=t.$props.tag;if(a){if("string"===typeof a){var o={value:a};return e&&(o.props={class:e}),o}if("object"===typeof a){var i={value:a.value||"div",props:a.props||{}};return e&&(i.props.class?s(i.props.class)?i.props.class.push(e):i.props.class=[e,i.props.class]:i.props.class=e),i}}return{value:"div"}}function n(t){return!t||("string"===typeof t||"object"===typeof t&&("string"===typeof t.value||"function"===typeof t.value||"object"===typeof t.value))}o["smoothDnD"].dropHandler=o["dropHandlers"].reactDropHandler().handler,o["smoothDnD"].wrapChild=!1;var r={"drag-start":"onDragStart","drag-end":"onDragEnd",drop:"onDrop","drag-enter":"onDragEnter","drag-leave":"onDragLeave","drop-ready":"onDropReady"};function c(t,e){var a=Object.keys(t).reduce((function(a,o){var s=o,i=t[s];return void 0!==i&&("function"===typeof i?r[s]?a[r[s]]=function(t){e.$emit(s,t)}:a[s]=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return i.apply(void 0,t)}:a[s]=i),a}),{});return a}var l=function(t){var e=Object.assign({},t.$props,t.$listeners);return c(e,t)},d={name:"Container",mounted:function(){this.containerElement=this.$refs.container||this.$el,this.container=Object(o["smoothDnD"])(this.containerElement,l(this))},updated:function(){if(this.$refs.container!==this.containerElement&&this.$el!==this.containerElement)return this.container&&this.container.dispose(),this.containerElement=this.$refs.container||this.$el,void(this.container=Object(o["smoothDnD"])(this.containerElement,l(this)));this.container.setOptions(l(this))},destroyed:function(){this.container&&this.container.dispose()},props:{behaviour:String,groupName:String,orientation:String,dragHandleSelector:String,nonDragAreaSelector:String,dragBeginDelay:Number,animationDuration:Number,autoScrollEnabled:{type:Boolean,default:!0},lockAxis:String,dragClass:String,dropClass:String,removeOnDropOut:{type:Boolean,default:!1},"drag-start":Function,"drag-end":Function,drop:Function,getChildPayload:Function,shouldAnimateDrop:Function,shouldAcceptDrop:Function,"drag-enter":Function,"drag-leave":Function,tag:{validator:n,default:"div"},getGhostParent:Function,"drop-ready":Function,dropPlaceholder:[Object,Boolean]},render:function(t){var e=i(this);return t(e.value,Object.assign({},{ref:"container"},e.props),this.$slots.default)}},u=function(t,e){var a=i(e,o["constants"].wrapperClass);return t(a.value,Object.assign({},a.props),e.$slots.default)},m={name:"Draggable",props:{tag:{validator:n,default:"div"}},render:function(t){return u(t,this)}}},"483c":function(t,e,a){"use strict";a("13d3")},"4f78":function(t,e,a){},"6a2e":function(t,e,a){"use strict";a("b0c0"),a("a4d3"),a("e01a");var o=function(){var t=this,e=t._self._c;return e("div",[e("PageHeader",{attrs:{title:t.title,items:t.items}}),e("b-card",[e("b-row",[e("b-col",[e("div",{staticClass:"d-flex flex-container",staticStyle:{"justify-content":"space-between"}},[e("div",{staticClass:"btn-group btn-group-example mb-2",staticStyle:{width:"100px"},attrs:{role:"group"}},[e("b-button",{staticClass:"w-xs",attrs:{to:{name:"COMMISSION"===t.projectType?"CommissionProjects":"ProjectsMain"},variant:"grid"===t.$route.query.page?"primary":"outline-primary"}},[e("i",{staticClass:"fa fa-th"})]),e("b-button",{staticClass:"w-xs",attrs:{to:{name:"COMMISSION"===t.projectType?"CommissionProjects":"ProjectsMain",query:{page:"list"}},variant:"list"===t.$route.query.page?"primary":"outline-primary"}},[e("i",{staticClass:"fa fa-list"})])],1),e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"mr-3"},[e("b-form-radio-group",{staticClass:"btn-custom mb-0",attrs:{"button-variant":"outline-primary",id:"btn-radios-1",buttons:"",name:"radios-btn-default"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[e("b-form-radio",{attrs:{value:"FINISHED","button-variant":"outline-primary"}},[e("span",[t._v(" "+t._s(t.$t("FINISHED")))]),t.totalF>0?e("b-badge",{staticClass:"ml-1",attrs:{variant:"success"}},[t._v(t._s(t.totalF)+" ")]):t._e()],1),e("b-form-radio",{attrs:{"button-variant":"outline-success",value:"CREATED"}},[e("span",[t._v(" "+t._s(t.$t("CREATED")))]),t.totalC>0?e("b-badge",{staticClass:"ml-1",attrs:{variant:"primary"}},[t._v(t._s(t.totalC)+" ")]):t._e()],1),e("b-form-radio",{attrs:{value:"DEADLINE","button-variant":"outline-danger"}},[e("span",[t._v(" "+t._s(t.$t("deadlineEnd")))]),t.totalD>0?e("b-badge",{staticClass:"ml-1",attrs:{variant:"success"}},[t._v(t._s(t.totalD)+" ")]):t._e()],1)],1)],1),e("div",{staticClass:"mr-2"},[e("div",{staticClass:"d-inline-block mt-1 ml-2"},[e("div",{staticClass:"search-box"},[e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"form-control rounded bg-light border-light",staticStyle:{width:"300px"},attrs:{type:"text",placeholder:t.$t("actions.search")},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value)}}}),e("i",{staticClass:"mdi mdi-magnify search-icon"})])])])]),e("div")])])])],1)],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"table-responsive card-body"},[e("b-overlay",{attrs:{opacity:.1,show:t.loading,rounded:"sm"}},[e("table",{staticClass:"table table-nowrap table-centered table-bordered"},[e("thead",{staticClass:"thead-light"},[e("tr",[e("th",{staticClass:"text-center",staticStyle:{width:"100px"},attrs:{scope:"col"}},[t._v(" # ")]),e("th",{staticStyle:{width:"30% !important","min-width":"250px"},attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("proj"))+" ")]),e("th",{staticClass:"text-center",staticStyle:{width:"13%"},attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("column.on_date"))+" ")]),e("th",{staticClass:"text-center",staticStyle:{width:"13%"},attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("column.finishing_date"))+" ")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"},attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("column.status"))+" ")]),e("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("column.actions"))+" ")])])]),e("tbody",[0==t.projectData.length?e("tr",{staticClass:"text-center"},[e("td",{staticStyle:{"vertical-align":"middle"},style:t.loading?"height:50px":"",attrs:{colspan:"9"}},[e("h5",[t._v(" "+t._s(t.$t("messages.data_not_found"))+" ")])])]):t._e(),t._l(t.projectData,(function(a,o){return e("tr",{key:a.id+"LISTPROJECT"},[e("td",{staticClass:"text-center"},[e("strong",[t._v(" "+t._s(t.paginate(o,t.d_limit,t.d_page-1)))])]),e("td",[e("div",{on:{click:function(e){return e.preventDefault(),t.$emit("overView",a)}}},[e("h5",{staticClass:"text-truncate font-size-14 m-0 hov_underline"},[e("a",{staticClass:"text-dark",attrs:{href:"javascript: void(0);"}},[t._v(" "+t._s(a.name)+" ")])]),e("p",{staticClass:"text-muted mb-0 pre hov_underline"},[t._v(" "+t._s(t.splitLargeText(a.description,300))+" ")])])]),e("td",{staticClass:"text-center"},[t._v(" "+t._s(a.start?new Date(t.replaceDate(a.start)).ddmmyyyy():"")+" ")]),e("td",{staticClass:"text-center"},[t._v(" "+t._s(a.end?new Date(t.replaceDate(a.end)).ddmmyyyy():"")+" ")]),e("td",{staticClass:"text-center"},["CREATED"===a.status&&new Date(t.replaceDate(a.end)).getTime()>Date.now()?e("span",{staticClass:"badge badge-success"},[t._v(" "+t._s(t.$t(a.status))+" ")]):"CREATED"===a.status&&new Date(t.replaceDate(a.end)).getTime()<Date.now()?e("span",{staticClass:"badge badge-danger"},[t._v(" "+t._s(t.$t("deadlineEnd"))+" ")]):"REVISION"===a.status?e("span",{staticClass:"badge badge-warning"},[t._v(t._s(t.$t(a.status)))]):"SEND_TO_MANAGER"===a.status?e("span",{staticClass:"badge badge-warning"},[t._v(t._s(t.$t("submodules.projects.send_to_the_director")))]):"RETURN_FOR_REVISION"===a.status?e("span",{staticClass:"badge badge-warning"},[t._v(t._s(t.$t("REVISION")))]):"COMMISSION_REVISION"===a.status?e("span",{staticClass:"badge badge-warning"},[t._v(t._s(t.$t("submodules.commission.returnsee")))]):"RETURN_FOR_REVISION_TO_BEFORE_COMMISSION"===a.status?e("span",{staticClass:"badge badge-warning"},[t._v(t._s(t.$t("submodules.commission.return_to_before_project")))]):"RECREATED"===a.status?e("span",{staticClass:"badge badge-primary"},[t._v(t._s(t.$t("submodules.commission.recreated")))]):"REVISION_AFTER_COMMISSION"===a.status?e("span",{staticClass:"badge badge-warning"},[t._v(t._s(t.$t("submodules.commission.return_from_commission")))]):"REVIEW_FINISHED"===a.status?e("span",{staticClass:"badge badge-success"},[t._v(t._s(t.$t("submodules.commission.REVIEW_FINISHED")))]):"TEMPORARILY_CLOSED"===a.status?e("span",{staticClass:"badge badge-success"},[t._v(t._s(t.$t("submodules.commission.doc_status.temporarily_closed")))]):e("span",{staticClass:"badge badge-primary"},[t._v(t._s(t.$t(a.status)))])]),e("td",{staticClass:"text-center"},[e("div",{staticClass:"d-flex"},[e("project-list-buttons",{attrs:{project:a,isCommission:t.isCommission,selectedTrItem:t.selectedTrItem},on:{dlt:function(e){return t.$emit("dlt",e)},getTask:function(e){return t.$emit("getTask",e)},goComments:function(e){return t.$emit("goComments",e)},changeStatus:function(e){return t.$emit("changeStatus",e)},showQuorumModal:function(e){return t.$emit("showQuorumModal",e)},showRejectedModal:function(e){return t.$emit("showRejectedModal",e)},showRejectedSeeModal:function(e){return t.$emit("showRejectedSeeModal",e)},handleProjectInformationCompleted:t.handleProjectInformationCompleted}})],1)])])}))],2)])])],1)])])]),t.total>0?e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("b-pagination",{staticClass:"m-0",attrs:{size:"sm","total-rows":t.total,"per-page":t.d_limit},model:{value:t.d_page,callback:function(e){t.d_page=e},expression:"d_page"}})],1)]):t._e()],1)},s=[],i=(a("a9e3"),a("2579")),n=a("c2a4"),r=a("b83d"),c=a("9225"),l=a("6275"),d={components:{PageHeader:i["a"],ProjectListButtons:r["a"]},props:{projectData:{type:Array,default:function(){return[]}},total:{type:Number,default:0},itemsPerPage:{type:Number,default:12},page:{type:Number,default:1},loading:{type:Boolean,default:!1},isCommission:{type:Boolean,default:!1},selectedTrItem:{type:Object,default:function(){return{}}},totalC:{type:Number,default:0},totalD:{type:Number,default:0},totalF:{type:Number,default:0}},page:{title:c["default"].t("proj"),meta:[{name:"description",content:n.description}]},watch:{d_page:function(t){this.$emit("d_page_changed",t)},searchValue:function(t){this.$emit("search_changed",t)},selected:function(t){this.$emit("selected_changed",t)}},methods:{random:function(t){return Math.floor(Math.random()*t)},splitLargeText:function(t,e){return Object(l["x"])(t,e)},handleProjectInformationCompleted:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return{}};this.$emit("handleProjectInformationCompleted",t,e)}},created:function(){var t=this;setTimeout((function(){t.d_page=t.page,t.d_limit=t.itemsPerPage,t.d_total=t.total}),200)},computed:{projectType:function(){return"CommissionProjects"===this.$route.name?"COMMISSION":"BEFORE_COMMISSION"}},data:function(){return{selected:"",replaceDate:l["u"],searchValue:"",d_page:1,d_limit:12,d_total:0,title:this.$t("proj"),items:[{text:this.$t("menu"),href:"/"},{text:this.$t("proj"),active:!0}]}}},u=d,m=(a("92a2"),a("2877")),p=Object(m["a"])(u,o,s,!1,null,null,null);e["a"]=p.exports},7226:function(t,e,a){"use strict";a.r(e);a("b0c0"),a("a4d3"),a("e01a"),a("d81d");var o=function(){var t=this,e=t._self._c;return e("div",["list"===t.$route.query.page?e("ProjectsList",{attrs:{page:t.page,total:t.total,loading:t.loading,totalC:t.totalCreated,totalD:t.totalDeadline,totalF:t.totalFinished,projectData:t.projectData,isCommission:t.isCommission,itemsPerPage:t.itemsPerPage,selectedTrItem:t.selectedTrItem},on:{dlt:t.dlt,edit:t.edit,getTask:t.getTasks,overView:t.overView,goComments:t.goComments,changeStatus:t.changeStatus,d_page_changed:t.d_page_changed,search_changed:t.search_changed,showQuorumModal:t.showQuorumModal,selected_changed:t.selected_changed,showRejectedModal:t.showRejectedModal,showRejectedSeeModal:t.showRejectedSeeModal,handleProjectInformationCompleted:t.handleProjectInformationCompleted}}):"create"===t.$route.query.page||"edit"===t.$route.query.page?e("Create",{on:{success:t.successSave}}):"overview"===t.$route.query.page?e("Overview",{on:{success:t.successSave,changeStatus:t.changeStatus,handleProjectInformationCompleted:t.handleProjectInformationCompleted}}):"tasks"===t.$route.query.page?e("Tasks",{on:{success:t.successSave}}):"comments"===t.$route.query.page?e("div",[e("Back",{staticClass:"mb-2",attrs:{to:{name:t.isCommission?"CommissionProjects":"ProjectsMain",query:{page:"list"}}}}),e("Comments",{attrs:{height:!0,project:t.currentProj}})],1):e("div",[e("PageHeader",{attrs:{items:t.items,title:t.title}}),e("b-card",[e("b-row",[e("b-col",[e("div",{staticClass:"d-flex flex-container",staticStyle:{"justify-content":"space-between"}},[e("div",{staticClass:"btn-group btn-group-example mb-2",staticStyle:{width:"100px"},attrs:{role:"group"}},[e("b-button",{staticClass:"w-xs",attrs:{variant:t.$route.query.page?"outline-primary":"primary"},on:{click:function(e){return t.changeListType(null)}}},[e("i",{staticClass:"fa fa-th"})]),e("b-button",{staticClass:"w-xs",attrs:{variant:"list"===t.$route.query.page?"primary":"outline-primary"},on:{click:function(e){return t.changeListType("list")}}},[e("i",{staticClass:"fa fa-list"})])],1),e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"mr-3"},[e("b-form-radio-group",{staticClass:"btn-custom mb-0",attrs:{id:"btn-radios-1","button-variant":"outline-primary",buttons:"",name:"radios-btn-default"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[e("b-form-radio",{attrs:{"button-variant":"outline-primary",value:"FINISHED"}},[e("span",[t._v(" "+t._s(t.$t("FINISHED")))]),t.totalFinished>0?e("b-badge",{staticClass:"ml-1",attrs:{variant:"success"}},[t._v(t._s(t.totalFinished)+" ")]):t._e()],1),e("b-form-radio",{attrs:{"button-variant":"outline-success",value:"CREATED"}},[e("span",[t._v(" "+t._s(t.$t("CREATED")))]),t.totalCreated>0?e("b-badge",{staticClass:"ml-1",attrs:{variant:"primary"}},[t._v(t._s(t.totalCreated)+" ")]):t._e()],1),e("b-form-radio",{attrs:{"button-variant":"outline-danger",value:"DEADLINE"}},[e("span",[t._v(" "+t._s(t.$t("deadlineEnd")))]),t.totalDeadline>0?e("b-badge",{staticClass:"ml-1",attrs:{variant:"success"}},[t._v(t._s(t.totalDeadline)+" ")]):t._e()],1)],1)],1),e("div",{staticClass:"mr-2"},[e("div",{staticClass:"d-inline-block mt-1 ml-2"},[e("div",{staticClass:"search-box"},[e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"form-control rounded bg-light border-light",staticStyle:{width:"300px"},attrs:{placeholder:t.$t("actions.search"),type:"text"},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value)}}}),e("i",{staticClass:"mdi mdi-magnify search-icon"})])])])]),e("div")])])])],1)],1),e("div",{staticClass:"row"},t._l(t.projectData,(function(a){return e("div",{key:a.id+"GR",staticClass:"col-xl-4 col-sm-6"},[e("div",{staticClass:"card grid-card-height"},[e("div",{staticClass:"card-body hovercard",on:{click:function(e){return t.overView(a)}}},[e("div",{staticClass:"media"},[e("div",{staticClass:"media-body"},[e("h5",{staticClass:"font-size-15 font-weight-bold"},[e("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(a.name))])]),e("p",{staticClass:"pre m-0 font-weight-semibold"},[t._v(" "+t._s(t.getName(a))+" ")]),a.isClosed?e("b-row",{staticClass:"text-muted mt-0 mb-0 pre"},[e("b-col",{attrs:{md:"12",lg:"3"}},[t._v(" "+t._s(t.$t("column.closed_date"))+" "),e("p",{staticClass:"text-dark"},[t._v(" "+t._s(a.closedDate)+" ")])]),e("b-col",{attrs:{md:"12",lg:"9"}},[t._v(" "+t._s(t.$t("column.closed_employee"))+" "),e("p",{staticClass:"text-dark"},[e("span",{staticClass:"font-weight-bold"},[t._v(" "+t._s(a.closedEmployeeFirstName||"")+" "+t._s(a.closedEmployeeLastName||"")+" "+t._s(a.closedEmployeeMiddleName||"")+" ")]),e("br"),e("span",{staticClass:"small"},[t._v(" "+t._s(t.getName({nameUz:a.closedEmployeeDepartmentNameUz,nameRu:a.closedEmployeeDepartmentNameRu,nameLt:a.closedEmployeeDepartmentNameLt}))+" "),e("br"),t._v(" "+t._s(t.getName({nameUz:a.closedEmployeePositionNameUz,nameRu:a.closedEmployeePositionNameRu,nameLt:a.closedEmployeePositionNameLt}))+" ")])])])],1):t._e(),e("p",{staticClass:"text-muted mb-0 pre overflow-auto beautiful-scroll",staticStyle:{"max-height":"60px"}},[t._v(" "+t._s(a.description))]),e("div",{staticClass:"team"})],1)])]),e("div",{staticClass:"px-3 py-3 border-top"},[e("ul",{staticClass:"list-inline mb-0"},[e("li",{staticClass:"list-inline-item mr-3"},["CREATED"===a.status&&new Date(t.replaceDate(a.end)).getTime()>Date.now()?e("span",{staticClass:"badge badge-success"},[t._v(" "+t._s(t.$t(a.status))+" ")]):"CREATED"===a.status&&new Date(t.replaceDate(a.end)).getTime()<Date.now()?e("span",{staticClass:"badge badge-danger"},[t._v(" "+t._s(t.$t("deadlineEnd"))+" ")]):"REVISION"===a.status?e("span",{staticClass:"badge badge-warning"},[t._v(" "+t._s(t.$t(a.status))+" ")]):"SEND_TO_MANAGER"===a.status?e("span",{staticClass:"badge badge-warning"},[t._v(" "+t._s(t.$t("submodules.projects.send_to_the_director"))+" ")]):"RETURN_FOR_REVISION"===a.status?e("span",{staticClass:"badge badge-warning"},[t._v(" "+t._s(t.$t("REVISION"))+" ")]):"COMMISSION_REVISION"===a.status?e("span",{staticClass:"badge badge-warning"},[t._v(" "+t._s(t.$t("submodules.commission.returnsee"))+" ")]):"RETURN_FOR_REVISION_TO_BEFORE_COMMISSION"===a.status?e("span",{staticClass:"badge badge-warning"},[t._v(t._s(t.$t("submodules.commission.return_to_before_project")))]):"RECREATED"===a.status?e("span",{staticClass:"badge badge-primary"},[t._v(" "+t._s(t.$t("submodules.commission.recreated"))+" ")]):"REVISION_AFTER_COMMISSION"===a.status?e("span",{staticClass:"badge badge-warning"},[t._v(" "+t._s(t.$t("submodules.commission.return_from_commission"))+" ")]):"REVIEW_FINISHED"===a.status?e("span",{staticClass:"badge badge-success"},[t._v(" "+t._s(t.$t("submodules.commission.REVIEW_FINISHED"))+" ")]):"TEMPORARILY_CLOSED"===a.status?e("span",{staticClass:"badge badge-success"},[t._v(" "+t._s(t.$t("submodules.commission.doc_status.temporarily_closed"))+" ")]):"CANCELLED_TO_DEFECT_FILES"===a.status?e("span",{staticClass:"badge badge-warning"},[t._v(" "+t._s(t.$t("submodules.commission.doc_status.cancelled_to_defect_files"))+" ")]):e("span",{staticClass:"badge badge-primary"},[t._v(t._s(t.$t(a.status)))])]),t._empty(a.end)?t._e():e("li",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"list-inline-item mr-3",attrs:{title:t.$t("column.finishing_date")}},[e("i",{staticClass:"bx bx-calendar mr-1"}),t._v(" "+t._s(new Date(t.replaceDate(a.end)).daym_shortyyyy())+" ")])]),e("project-list-buttons",{attrs:{isCommission:t.isCommission,project:a,selectedTrItem:t.selectedTrItem},on:{dlt:t.dlt,getTask:t.getTasks,goComments:t.goComments,changeStatus:t.changeStatus,showQuorumModal:t.showQuorumModal,showRejectedModal:t.showRejectedModal,showRejectedSeeModal:t.showRejectedSeeModal,handleProjectInformationCompleted:t.handleProjectInformationCompleted}})],1)])])})),0),t.total>0?e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("b-pagination",{staticClass:"m-0",attrs:{"per-page":t.itemsPerPage,"total-rows":t.total,size:"sm"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)]):t._e()],1),e("b-modal",{attrs:{title:"".concat(t.$t("submodules.projects.send_to_director")),scrollable:"",size:"md"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"success"},on:{click:t.save}},[e("b-overlay",{attrs:{opacity:.1,show:t.commissionModalLoader,rounded:"sm"}},[t._v(" "+t._s(t.$t("actions.send"))+" ")])],1)]},proxy:!0}]),model:{value:t.commissionsModal,callback:function(e){t.commissionsModal=e},expression:"commissionsModal"}},[e("div",{staticStyle:{"min-height":"200px"}},[e("div",{staticClass:"p-2"},[e("BaseMultiselectWithValidation",{staticClass:"required",attrs:{"custom-label":t.customLabelCommissionTypes,label:t.$t("submodules.employees.title"),"max-height":600,options:t.commissionTypes.map((function(t){return t.id})),"show-labels":!1,"label-on-top":"","open-direction":"bottom",placeholder:"",rules:"required"},model:{value:t.commissionTypeId,callback:function(e){t.commissionTypeId=e},expression:"commissionTypeId"}})],1),e("div",{staticClass:"p-2"},[e("BaseMultiselectWithValidation",{staticClass:"required",attrs:{"custom-label":t.customLabelMailingPurpose,label:t.$t("submodules.mailing_purpose.title"),"max-height":600,options:t.mailingPurposes.map((function(t){return t.id})),"show-labels":!1,"label-on-top":"","open-direction":"bottom",placeholder:"",rules:"required"},model:{value:t.mailingPurposeId,callback:function(e){t.mailingPurposeId=e},expression:"mailingPurposeId"}})],1)])]),e("b-modal",{attrs:{title:"".concat(t.$t("submodules.reports.make_sign")),"hide-footer":"",scrollable:"",size:"lg"},model:{value:t.signatureModal,callback:function(e){t.signatureModal=e},expression:"signatureModal"}},[e("SignKeys",{attrs:{dataToSign:t.selectedTrItem},on:{sign:t.signSuccess}})],1),e("b-modal",{attrs:{title:"".concat(t.$t("submodules.reports.reasonRejected")),scrollable:"",size:"md"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"danger"},on:{click:t.rejectConfirm}},[e("b-overlay",{attrs:{opacity:.1,show:t.rejectedLoader,rounded:"sm"}},[t._v(" "+t._s(t.$t("submodules.reports.rejected"))+" ")])],1)]},proxy:!0}]),model:{value:t.isRejectedModal,callback:function(e){t.isRejectedModal=e},expression:"isRejectedModal"}},[e("b-form-textarea",{attrs:{rows:"5"},model:{value:t.reasonRejected,callback:function(e){t.reasonRejected=e},expression:"reasonRejected"}})],1),e("b-modal",{attrs:{scrollable:"",size:"md"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"success"},on:{click:t.quorumConfirm}},[e("b-overlay",{attrs:{opacity:.1,show:t.quorumLoader,rounded:"sm"}},[t._v(" "+t._s(t.$t("actions.send"))+" ")])],1)]},proxy:!0}]),model:{value:t.isQuorumModal,callback:function(e){t.isQuorumModal=e},expression:"isQuorumModal"}},[e("div",{staticClass:"mb-3"},[e("b-row",[e("b-col",{attrs:{cols:"4"}},[t._v(" "+t._s(t.$t("column.last_modified_date"))+" ")]),e("b-col",[e("span",{staticClass:"p-2"},[t._v(" "+t._s(t.selectedTrItem.start)+" ")])])],1)],1),e("div",{staticClass:"row"},[e("BaseDatePickerWithValidation",{staticClass:"required p-2",attrs:{label:t.$t("column.date"),"custom-styles":"grid-template-columns: 60% 40%;",rules:"required"},model:{value:t.quorumDate,callback:function(e){t.quorumDate=e},expression:"quorumDate"}})],1)]),e("b-modal",{attrs:{title:"".concat(t.$t("submodules.reports.reasonRejected")),scrollable:"",size:"md"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"danger"},on:{click:t.rejectSeeConfirm}},[e("b-overlay",{attrs:{opacity:.1,show:t.rejectedSeeLoader,rounded:"sm"}},[t._v(" "+t._s(t.$t("submodules.reports.rejected"))+" ")])],1)]},proxy:!0}]),model:{value:t.isRejectedSeeModal,callback:function(e){t.isRejectedSeeModal=e},expression:"isRejectedSeeModal"}},[e("b-form-textarea",{attrs:{rows:"5"},model:{value:t.reasonRejectedSee,callback:function(e){t.reasonRejectedSee=e},expression:"reasonRejectedSee"}})],1),e("b-modal",{attrs:{title:"".concat(t.$t("submodules.reports.make_sign")),"hide-footer":"",scrollable:"",size:"lg"},model:{value:t.signatureSeeModal,callback:function(e){t.signatureSeeModal=e},expression:"signatureSeeModal"}},[e("SignKeys",{attrs:{dataToSign:t.selectedTrItem},on:{sign:t.signSuccessSee}})],1),e("b-modal",{attrs:{title:t.$t("submodules.doc.completionTime"),id:"widthMM",size:"md","no-close-on-backdrop":!0,"body-class":"p-0"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("div",{staticClass:"w-100"},[e("b-button",{staticClass:"float-right m-1",attrs:{variant:"success"},on:{click:t.handleProjectInformationCompleted}},[t._v(" "+t._s(t.$t("actions.send"))+" ")]),e("b-button",{staticClass:"float-right m-1",attrs:{variant:"danger"},on:{click:function(e){t.modalProjectInformationCompleted=!1}}},[t._v(" "+t._s(t.$t("actions.close"))+" ")])],1)]},proxy:!0}]),model:{value:t.modalProjectInformationCompleted,callback:function(e){t.modalProjectInformationCompleted=e},expression:"modalProjectInformationCompleted"}},[e("div",{staticClass:"p-3 py-4"},[e("div",[e("BaseDatePickerWithValidation",{staticClass:"required",attrs:{rules:"required",required:"","label-on-top":"","disable-before":"",format:"DD.MM.YYYY",label:t.$t("submodules.doc.completionTime"),placeholder:t.$t("submodules.doc.completionTime")},model:{value:t.projectInformationCompletionDate,callback:function(e){t.projectInformationCompletionDate=e},expression:"projectInformationCompletionDate"}})],1)])])],1)},s=[],i=a("c7eb"),n=a("1da1"),r=(a("a434"),a("99af"),a("14d9"),a("d3b7"),a("7db0"),a("6275")),c=a("f574"),l=a("2579"),d=a("c2a4"),u=a("6a2e"),m=a("afdb"),p=function(){var t,e,a,o,s,i,n,r,c=this,l=c._self._c;return l("div",[l("PageHeader",{attrs:{title:c.title,items:c.items}}),l("div",{staticClass:"row mb-2"},[l("div",{staticClass:"col-12"},[l("Back",{attrs:{to:{name:c.isCommission?"CommissionProjects":"ProjectsMain",query:{page:c.applicationPageType}}}})],1)]),l("div",{staticClass:"row"},[l("div",{staticClass:"col-lg-12"},[l("div",{staticClass:"row"},[l("div",{staticClass:"col-4"},[l("div",{staticClass:"card grid-card-height"},[l("div",{staticClass:"card-body"},[l("div",{staticClass:"media"},[l("div",{staticClass:"media-body overflow-hidden"},[l("b-button",{staticClass:"p-0 float-right",attrs:{variant:"link"},on:{click:function(t){return t.preventDefault(),c.getTask.apply(null,arguments)}}},[l("i",{staticClass:"bx bx-task label-icon"}),c._v(" "+c._s(c.$t("tasks_list"))+" ")]),l("h5",{directives:[{name:"b-popover",rawName:"v-b-popover.bottom.hover",modifiers:{bottom:!0,hover:!0}}],staticClass:"font-size-15",attrs:{title:c.proj.name}},[c._v(" "+c._s(c.proj.name)+" ")]),l("h5",{directives:[{name:"b-popover",rawName:"v-b-popover.bottom.hover",modifiers:{bottom:!0,hover:!0}}],staticClass:"text-truncate font-size-13",attrs:{title:c.getName(c.proj)}},[c._v(" "+c._s(c.getName(c.proj))+" ")]),l("span",{staticClass:"badge",class:{"badge-primary":"CREATED"==="".concat(c.proj.status),"badge-success":"FINISHED"==="".concat(c.proj.status)}},[c._v(c._s(c.$t(c.proj.status)))])],1)]),"FROM_DXA"===c.proj.applicationType||"NOT_BELONG"===c.proj.applicationType?l("b-row",[c.proj.applicationDto.applicationDXARegNumber?l("b-col",{attrs:{cols:"6"}},[c._v(" "+c._s(c.$t("submodules.commission.dxa_reg_number"))+" "),l("p",{staticClass:"text-muted"},[c._v(c._s(c.proj.applicationDto.applicationDXARegNumber))])]):c._e(),c.proj.applicationDto.applicationInnerInputRegNumber?l("b-col",{attrs:{cols:"6"}},[c._v(" "+c._s(c.$t("submodules.commission.inner_input_reg_number"))+" "),l("p",{staticClass:"text-muted"},[c._v(c._s(c.proj.applicationDto.applicationInnerInputRegNumber))])]):c._e(),c.proj.applicationDto.contractorNameFromDXA?l("b-col",{attrs:{cols:"12"}},[c._v(" "+c._s(c.$t("column.business_entity"))+" "),l("p",{staticClass:"text-muted"},[c._v(c._s(c.proj.applicationDto.contractorNameFromDXA))])]):c._e(),c.projApplicationDtoApplicationDXATypeName?l("b-col",{attrs:{cols:"12"}},[c._v(" "+c._s(c.$t("submodules.dxa.application_type"))+" "),l("p",{staticClass:"text-muted"},[c._v(c._s(c.projApplicationDtoApplicationDXATypeName))])]):c._e()],1):"INNER"===c.proj.applicationType?l("b-row",[c.proj.applicationDto.applicationInnerInputRegNumber?l("b-col",{attrs:{cols:"6"}},[c._v(" "+c._s(c.$t("submodules.commission.inner_input_reg_number"))+" "),l("p",{staticClass:"text-muted"},[c._v(c._s(c.proj.applicationDto.applicationInnerInputRegNumber))])]):c._e(),c.proj.applicationDto.contractorName?l("b-col",{attrs:{cols:"12"}},[c._v(" "+c._s(c.$t("column.business_entity"))+" "),l("p",{staticClass:"text-muted"},[c._v(c._s(c.proj.applicationDto.contractorName))])]):c._e()],1):c._e(),l("h5",{staticClass:"font-size-15 mt-4"},[c._v(c._s(c.$t("dsp"))+" :")]),l("simplebar",{staticStyle:{height:"100px"}},[l("p",{staticClass:"text-muted"},[c._v(c._s(c.proj.description))])]),c.isCommission&&null!==(t=c.proj.applicationDto)&&void 0!==t&&t.projectId?l("router-link",{staticClass:"btn btn-primary",attrs:{to:"/projects/main?page=overview&id=".concat(null===(e=c.proj.applicationDto)||void 0===e?void 0:e.projectId)}},[c._v(" "+c._s(c.$t("actions.view_project"))+" ")]):c._e(),c.showReopenProjectButton?l("b-btn",{attrs:{variant:"success"},on:{click:c.projectReopenApplication}},[c._v(" "+c._s(c.$t("submodules.dxa.reopen_application"))+" ")]):c._e(),l("div",{staticClass:"row task-dates"},[l("div",{staticClass:"col-lg-4"},[l("div",{staticClass:"mt-4"},[l("h5",{staticClass:"font-size-14"},[l("i",{staticClass:"bx bx-calendar mr-1 text-primary"}),c._v(" "+c._s(c.$t("column.on_date"))+" ")]),l("p",{staticClass:"text-muted mb-0"},[c._v(" "+c._s(c.replaceDate(c.proj.start)?c.replaceDate(c.proj.start).daym_shortyyyy():"")+" ")])])]),l("div",{staticClass:"col-lg-4"},[l("div",{staticClass:"mt-4"},[l("h5",{staticClass:"font-size-14"},[l("i",{staticClass:"bx bx-calendar-check mr-1 text-primary"}),c._v(" "+c._s(c.$t("column.finishing_date"))+" ")]),l("p",{staticClass:"text-muted mb-0"},[c._v(" "+c._s(c.replaceDate(c.proj.end)?c.replaceDate(c.proj.end).daym_shortyyyy():"")+" ")])])]),l("div",{staticClass:"col-lg-4"},[l("div",{staticClass:"mt-4 float-right"},[l("h5",{staticClass:"font-size-14"},[l("i",{staticClass:"bx bx-briefcase-alt-2 mr-1 text-primary"}),c._v(" "+c._s(c.$t("ownerProj"))+" ")]),l("p",{staticClass:"text-muted mb-0"},[c._v(" "+c._s("".concat(null!==(a=null===(o=c.proj)||void 0===o?void 0:o.ownerLastName)&&void 0!==a?a:""," ").concat(null!==(s=null===(i=c.proj)||void 0===i?void 0:i.ownerFirstName)&&void 0!==s?s:""," ").concat(null!==(n=null===(r=c.proj)||void 0===r?void 0:r.ownerMiddleName)&&void 0!==n?n:""))+" ")])])]),l("div",{staticClass:"row task-dates ml-2"},[c.showOnTemporarilyClosedForNotCompleted?l("div",{staticClass:"d-inline-block ml-0"},[l("b-button",{staticClass:"p-2 pb-1",attrs:{variant:"warning"},on:{click:function(t){return t.preventDefault(),c.handleProjectInformationCompleted.apply(null,arguments)}}},[l("i",{staticClass:"bx bxs-badge-check font-size-15"}),c._v(" "+c._s(c.$t("actions.information_completed"))+" ")])],1):c._e(),c.showCloseProjectButton?l("div",{staticClass:"d-inline-block ml-0"},[l("b-button",{staticClass:"p-2 pb-1",attrs:{variant:"danger"},on:{click:function(t){return t.preventDefault(),c.changeStatus(c.proj)}}},[l("i",{staticClass:"bx bxs-hourglass-bottom font-size-15"}),c._v(" "+c._s(c.$t("actions.close_project"))+" ")])],1):c._e(),c.showChangeTermButton?l("b-button",{attrs:{variant:"success"},on:{click:c.changeTerm}},[l("i",{staticClass:"fa fa-calendar-plus"}),c._v(" "+c._s(c.$t("submodules.projects.add_day"))+" ")]):c._e()],1)])],1)])]),l("div",{staticClass:"col-lg-4"},[l("div",{staticClass:"card grid-card-height"},[c.proj.applicationDto?l("div",{staticClass:"card-body"},[l("h4",{staticClass:"card-title mb-4"},[c._v(" "+c._s(c.isCommission?c.$t("commission_attached_files"):c.$t("application_attached_files")))]),c.projectFiles&&c.projectFiles.length?l("simplebar",{ref:"docsRef",attrs:{id:"doc-list"}},c._l(c.projectFiles,(function(t,e){return l("div",{key:e+"FILE",staticClass:"mt-3"},[l("div",{staticClass:"d-flex align-items-center bg-light p-2 justify-content-between"},[l("div",{staticClass:"d-flex align-items-center"},[l("a",{attrs:{download:"pdf"!==c.getExt(t.url),href:"pdf"===c.getExt(t.url)?"#":"".concat(c.baseUrl,"/").concat(t.url)},on:{click:function(e){return c.viewIlova(t.url)}}},[l("BaseFileViewer",{staticClass:"my-card-hovered",attrs:{uploadPath:t.url}})],1),l("span",{staticClass:"ml-2"},[c._v(" "+c._s(t.fileName?t.fileName:t.name)+" ")])])])])})),0):c._e(),l("div",{directives:[{name:"show",rawName:"v-show",value:!c.projectFiles.length,expression:"!projectFiles.length"}],staticClass:"text-center card mt-3"},[l("h5",{staticClass:"p-3",staticStyle:{opacity:"0.3"}},[c._v(" "+c._s(c.$t("messages.data_not_found"))+" ")])])],1):c._e()])]),l("div",{staticClass:"col-lg-4"},[l("FileController",{staticClass:"grid-card-height",attrs:{"is-revision":c.isRevision,project:c.proj},on:{"get-project-by-id":c.getById}})],1)]),l("div",{staticClass:"row"},[l("div",{staticClass:"col-lg-4"},[l("Files",{staticClass:"grid-card-height",attrs:{project:c.proj}})],1),l("div",{staticClass:"col-lg-4"},[l("comments",{staticClass:"grid-card-height",attrs:{project:c.proj}})],1),l("div",{staticClass:"col-lg-4"},[l("Members",{staticClass:"grid-card-height",attrs:{project:c.proj,heightProp:"390"}})],1)])])]),l("b-modal",{attrs:{scrollable:"",size:"xl",title:c.$t("actions.view")},scopedSlots:c._u([{key:"modal-footer",fn:function(){return[l("b-button",{attrs:{variant:"secondary"},on:{click:function(t){c.viewIlovaModal=!1}}},[c._v(c._s(c.$t("actions.close")))])]},proxy:!0}]),model:{value:c.viewIlovaModal,callback:function(t){c.viewIlovaModal=t},expression:"viewIlovaModal"}},[c.ilovaUploadPath?l("div",{staticStyle:{height:"700px"}},[l("embed",{attrs:{width:"100%",height:"800",src:"".concat(c.baseUrl,"/").concat(c.ilovaUploadPath),type:"application/pdf"}})]):c._e()]),l("b-modal",{attrs:{title:c.$t("writeCmt"),id:"widthMM",size:"md","no-close-on-backdrop":!0,"body-class":"p-0"},scopedSlots:c._u([{key:"modal-footer",fn:function(){return[l("div",{staticClass:"w-100"},[l("b-button",{staticClass:"float-right m-1",attrs:{variant:"success"},on:{click:c.sendExtended}},[c._v(" "+c._s(c.$t("actions.send"))+" ")]),l("b-button",{staticClass:"float-right m-1",attrs:{variant:"danger"},on:{click:c.closeIsModal}},[c._v(" "+c._s(c.$t("actions.close"))+" ")])],1)]},proxy:!0}]),model:{value:c.isCommit,callback:function(t){c.isCommit=t},expression:"isCommit"}},[l("div",{staticClass:"p-2"},[l("div",[l("BaseTextareaWithValidation",{staticClass:"required",attrs:{"max-rows":"6",required:"","label-on-top":"",label:c.$t("writeCmt")},model:{value:c.commit,callback:function(t){c.commit=t},expression:"commit"}})],1),l("div",{staticClass:"mt-3"},[l("BaseDatePickerWithValidation",{attrs:{"not-required":"",format:"DD-MM-YYYY","custom-styles":"grid-template-columns: 0% 100%",placeholder:c.$t("submodules.projects.add_day"),lang:"ru"},model:{value:c.extendedDate,callback:function(t){c.extendedDate=t},expression:"extendedDate"}})],1)])]),l("b-modal",{attrs:{title:c.$t("submodules.dxa.reopen_application"),size:"md","no-close-on-backdrop":!0,"body-class":"p-0"},scopedSlots:c._u([{key:"modal-footer",fn:function(){return[l("div",{staticClass:"w-100"},[l("b-button",{staticClass:"float-right m-1",attrs:{variant:"success"},on:{click:c.projectReopenApplication}},[c._v(" "+c._s(c.$t("submodules.dxa.reopen_application"))+" ")]),l("b-button",{staticClass:"float-right m-1",attrs:{variant:"danger"},on:{click:function(t){c.reopen_application.modal=!1}}},[c._v(" "+c._s(c.$t("actions.close"))+" ")])],1)]},proxy:!0}]),model:{value:c.reopen_application.modal,callback:function(t){c.$set(c.reopen_application,"modal",t)},expression:"reopen_application.modal"}},[l("div",{staticClass:"p-2"},[l("div",{staticClass:"mt-3"},[l("BaseDatePickerWithValidation",{staticClass:"required",attrs:{rules:"required",format:"DD-MM-YYYY","disable-before":"","custom-styles":"grid-template-columns: 0% 100%",placeholder:c.$t("submodules.doc.completionTime")},model:{value:c.reopen_application.date,callback:function(t){c.$set(c.reopen_application,"date",t)},expression:"reopen_application.date"}})],1)])])],1)},f=[],h=a("2909"),v=a("ea69"),b=a("3597"),g=a("f021"),C=a("829e"),_=a("8aff"),y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title mb-4"},[t._v(t._s(t.$t("attached_files")))]),e("simplebar",{ref:"filesRef",staticStyle:{height:"384px"},attrs:{id:"file-list"}},[e("div",{staticClass:"table-responsive mb-0"},[e("table",{staticClass:"table table-centered table-hover",staticStyle:{"table-layout":"fixed",width:"100%"}},[e("tbody",t._l(t.files,(function(a,o){return e("tr",{key:o},[e("td",{staticStyle:{width:"53px"}},[e("div",[e("a",{attrs:{download:"pdf"!==t.getExt(a.uploadPath)&&a.uploadPath,href:"pdf"===t.getExt(a.uploadPath)?"#":"".concat(t.baseUrl,"/").concat(a.uploadPath)},on:{click:function(e){return t.viewFile(a.uploadPath)}}},[e("FileView",{staticClass:"my-card-hovered",attrs:{uploadPath:a.uploadPath}}),e("small",{staticClass:"text-center"},[t._v(t._s(t.getFileSize(parseFloat(a.fileSize))))])],1)])]),e("td",{staticStyle:{width:"60%"}},[e("h5",{staticClass:"font-size-14 m-0"},[e("p",{staticClass:"text-dark m-0"},[t._v(t._s(a.fileName))])]),e("p",{staticClass:"text-muted mb-0 font-size-10"},[e("i",{staticClass:"bx bx-calendar mr-1 text-primary"}),t._v(" "+t._s(t.replaceDate(a.createdDate)?t.replaceDate(a.createdDate).daym_shortyyyy_hm():"")+" ")]),e("small",{staticClass:"d-block text-muted"},[t._v(" "+t._s("".concat(a.ownerLastName," ").concat(a.ownerFirstName," ").concat(a.ownerParentName?a.ownerParentName:""))+" ")]),e("small",{staticClass:"d-block"},[t._v(" "+t._s(a.comment)+" ")])]),e("td",{staticStyle:{width:"45px"}},[e("div",{staticClass:"text-center"},[e("a",{staticClass:"text-dark",attrs:{download:"".concat(a.fileName),href:"".concat(t.baseUrl,"/").concat(a.uploadPath)}},[e("i",{staticClass:"bx bx-download h3 m-0"})])])])])})),0)])])])],1),e("b-modal",{attrs:{title:t.$t("actions.view"),scrollable:"",size:"xl"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.viewFileModal=!1}}},[t._v(" "+t._s(t.$t("actions.close"))+" ")])]},proxy:!0}]),model:{value:t.viewFileModal,callback:function(e){t.viewFileModal=e},expression:"viewFileModal"}},[t.fileUploadPath?e("div",{staticStyle:{height:"700px"}},[e("embed",{attrs:{src:"".concat(t.baseUrl,"/").concat(t.fileUploadPath),height:"800",type:"application/pdf",width:"100%"}})]):t._e()]),"FINISHED"!==t.project.status?e("div",{staticClass:"p-3"},[e("form",[e("div",[e("b-button",{attrs:{block:"",variant:"primary"},on:{click:function(e){return e.preventDefault(),t.clickUpload.apply(null,arguments)}}},[e("i",{staticClass:"mdi mdi-upload d-block font-size-16"}),t._v(" "+t._s(t.$t("actions.upload"))+" ")])],1)])]):t._e(),e("upload-file",{ref:"file",attrs:{cmt:!0},on:{sendFile:t.saveFile}})],1)},O=[],E=a("8d3b"),x={props:{project:{type:Object,default:function(){}}},data:function(){return{params:{page:0,itemsPerPage:20},files:[],filePage:0,getFileSize:r["q"],fileUploadPath:null,viewFileModal:!1,replaceDate:r["u"]}},components:{simplebar:E["a"]},created:function(){this.listFiles()},methods:{viewFile:function(t){"pdf"===this.getExt(t)&&(this.fileUploadPath=t,this.viewFileModal=!0)},saveFile:function(t,e){this.leaveFile(t,e)},clickUpload:function(){this.$refs.file.upld()},leaveFile:function(t,e){var a=this,o=this.$route.query.id;o?g["a"].leaveFile(o,t,e).then((function(t){a.file=null,setTimeout((function(){a.listFiles()}),300)})).catch((function(t){})):this.$router.go(-1)},listFiles:function(){var t=this,e=this.$route.query.id;e?g["a"].listFiles(e,this.params).then((function(e){t.files=e.data.list,t.handleScroll()})).catch((function(t){})):this.$router.go(-1)},loadMoreFiles:function(t){var e=this,a=this.$route.query.id;a?g["a"].listFiles(a,{page:t,itemsPerPage:20}).then(function(){var t=Object(n["a"])(Object(i["a"])().mark((function t(a){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=a.data,o.list.length>0?e.files=e.files.concat(o.list):e.filePage;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):this.$router.go(-1)},handleScroll:function(){var t=this;this.$refs.filesRef.$el&&setTimeout((function(){t.$refs.filesRef.SimpleBar.getScrollElement().scrollTop=0}),500)}},mounted:function(){var t=this,e=document.querySelector("#file-list .simplebar-content-wrapper");e&&e.scrollTo({top:500,behavior:"smooth"}),this.$refs.filesRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,o=a.scrollTop,s=a.scrollHeight,i=a.clientHeight,n=1;s-i-n<o&&t.loadMoreFiles(t.filePage+=1)}))}},I=x,w=a("2877"),S=Object(w["a"])(I,y,O,!1,null,null,null),j=S.exports,T=a("7476"),R={components:{PageHeader:l["a"],Comments:C["a"],Files:j,Members:_["a"],simplebar:E["a"],FileController:b["a"]},computed:{projectType:function(){return"CommissionProjects"===this.$route.name?"COMMISSION":"BEFORE_COMMISSION"},isCommission:function(){return"COMMISSION"===this.projectType},projectFiles:function(){return this.isCommission?[].concat(Object(h["a"])(this.proj.applicationDto.allFiles),Object(h["a"])(this.proj.applicationDto.letterFiles)):this.proj.applicationDto.allFiles},isRevision:function(){return"REVISION"===this.proj.status},showChangeTermButton:function(){return"FROM_DXA"===this.proj.applicationType&&"BEFORE_COMMISSION"===this.proj.projectType&&"CREATED"===this.proj.status},showCloseProjectButton:function(){var t;return!(null===(t=this.proj)||void 0===t||!t.status)&&-1===["REVIEW_FINISHED","FINISHED","TEMPORARILY_CLOSED","RETURN_FOR_REVISION_TO_BEFORE_COMMISSION"].indexOf(this.proj.status)},showReopenProjectButton:function(){var t,e;return!(null===(t=this.proj)||void 0===t||!t.status)&&((null===(e=this.proj.applicationDto)||void 0===e?void 0:e.projectId)&&"TEMPORARILY_CLOSED"===this.proj.status&&"FOR_ACCEPT_REOPEN"===this.proj.returnType)},showOnTemporarilyClosedForNotCompleted:function(){return"TEMPORARILY_CLOSED"===this.proj.status&&"FOR_NOT_COMPLETED"===this.proj.returnType},projApplicationDtoApplicationDXATypeName:function(){var t,e,a,o,s,i;return this.getName({nameUz:null===(t=this.proj)||void 0===t||null===(e=t.applicationDto)||void 0===e?void 0:e.applicationDXATypeNameUz,nameLt:null===(a=this.proj)||void 0===a||null===(o=a.applicationDto)||void 0===o?void 0:o.applicationDXATypeNameLt,nameRu:null===(s=this.proj)||void 0===s||null===(i=s.applicationDto)||void 0===i?void 0:i.applicationDXATypeNameRu})},applicationPageType:function(){return T["a"].getApplicationPageType()}},methods:{sendExtended:function(){var t=this;return Object(n["a"])(Object(i["a"])().mark((function e(){var a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={decision_text:t.commit,extendedDate:t.extendedDate},e.next=3,v["a"].extended(a,{id:t.proj.applicationDto.id,applicationDxaId:t.proj.applicationDto.applicationDxaId}).then((function(e){t.$toast(t.$t("succes.title"),{type:"success"}),t.isCommit=!1})).catch((function(e){t.isCommit=!1,console.log(e)})).finally((function(){t.commit=null}));case 3:case"end":return e.stop()}}),e)})))()},closeIsModal:function(){this.isCommit=!1,this.commit=""},changeTerm:function(){this.isCommit=!0},viewIlova:function(t){"pdf"===this.getExt(t)&&(this.ilovaUploadPath=t,this.viewIlovaModal=!0)},getTask:function(t){this.$router.push({name:this.isCommission?"CommissionProjects":"ProjectsMain",query:{page:"tasks",id:this.$route.query.id}})},getById:function(){var t=this,e=this.$route.query.id;e?g["a"].getById(e,this.projectType,!0).then((function(e){t.proj=Object.assign({},e.data)})).catch((function(){})):this.$router.go(-1)},projectReopenApplication:function(){var t=this;this.reopen_application.modal?this.cnf().then((function(e){var a=e.value;a&&g["a"].projectReopenApplication(t.$route.query.id,t.reopen_application.date).then((function(e){e.data;t.forceRouteReload()}))})):this.reopen_application.modal=!0},random:function(t){return Math.floor(Math.random()*t)},changeStatus:function(t){var e=this;return Object(n["a"])(Object(i["a"])().mark((function a(){var o;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$emit("changeStatus",t);case 2:return a.next=4,e.getById();case 4:e.isCommission&&((o=e.items).splice.apply(o,[1,2].concat([{text:e.$t("submodules.commission.projects_menu_title"),href:"/commission"},{text:e.$t("commission_details"),active:!0}])),e.title=e.$t("commission_details"));case 5:case"end":return a.stop()}}),a)})))()},handleProjectInformationCompleted:function(){var t=this;this.$emit("handleProjectInformationCompleted",this.proj.id,(function(){t.forceRouteReload()}))}},created:function(){var t=this;return Object(n["a"])(Object(i["a"])().mark((function e(){var a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getById();case 2:t.isCommission&&((a=t.items).splice.apply(a,[1,2].concat([{text:t.$t("submodules.commission.projects_menu_title"),href:"/commission"},{text:t.$t("commission_details"),active:!0}])),t.title=t.$t("commission_details"));case 3:case"end":return e.stop()}}),e)})))()},data:function(){return{commit:"",extendedDate:"",isCommit:!1,ilovaUploadPath:null,viewIlovaModal:!1,modalProjectInformationCompleted:!1,projectInformationCompletionDate:null,replaceDate:r["u"],barChart:[],title:this.$t("projDetails"),proj:{},reopen_application:{date:null,modal:!1},items:[{text:this.$t("menu"),href:"/"},{text:this.$t("proj"),href:"/projects"},{text:this.$t("projDetails"),active:!0}]}}},D=R,k=(a("ed2b"),Object(w["a"])(D,p,f,!1,null,"7a8fc4df",null)),M=k.exports,N=a("3f4a"),P=a("93c1"),$=a("9225"),F=a("03f4"),L=a("b83d"),A={page:{title:$["default"].t("proj"),meta:[{name:"description",content:d.description}]},components:{ProjectsList:u["a"],Tasks:N["a"],Create:m["default"],Overview:M,Comments:C["a"],SignKeys:c["a"],PageHeader:l["a"],ProjectListButtons:L["a"]},data:function(){return{rejectedLoader:!1,isRejectedModal:!1,rejectedSeeLoader:!1,isRejectedSeeModal:!1,signatureSeeModal:!1,reasonRejectedSee:"",quorumLoader:!1,isQuorumModal:!1,quorumDate:null,reasonRejected:"",selectedTrItem:{},signatureModal:!1,mailingPurposeId:null,mailingPurposes:[],commissionTypeId:null,commissionComment:"",commissionModalLoader:!1,commissionTypes:[],currentProject:null,commissionsModal:!1,totalDeadline:0,totalFinished:0,totalCreated:0,selected:"",currentProj:{},loading:!1,replaceDate:r["u"],searchValue:"",total:0,projectData:[],title:this.$t("proj"),items:[{text:this.$t("menu"),href:"/"},{text:this.$t("proj"),active:!0}],itemsPerPage:12,page:1,modalProjectInformationCompleted:!1,projectInformationCompletionDate:null,projectInformationCompletionProjectId:null}},computed:{params:function(){return{pg:{itemsPerPage:this.itemsPerPage,page:this.page-1},search:this.searchValue}},projectType:function(){return"CommissionProjects"===this.$route.name?"COMMISSION":"BEFORE_COMMISSION"},isCommission:function(){return"COMMISSION"===this.projectType}},created:function(){var t=this;return Object(n["a"])(Object(i["a"])().mark((function e(){var a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getProjects(),t.getTotalCount(),t.isCommission&&((a=t.items).splice.apply(a,[1,2].concat([{text:t.$t("submodules.commission.projects_menu_title"),href:"/commission"}])),t.title=t.$t("submodules.commission.projects_menu_title"));case 3:case"end":return e.stop()}}),e)})))()},watch:{page:function(){this.getProjects()},searchValue:{handler:function(){var t=this;return Object(n["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getProjects();case 2:case"end":return e.stop()}}),e)})))()}},selected:{handler:function(t){this.getProjects(t)}}},methods:{changeListType:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e={};t?(e["page"]=t,T["a"].setApplicationPageType(t)):T["a"].removeApplicationPageType(),this.isCommission?this.$router.push({name:"CommissionProjects",query:e}):this.$router.push({name:"ProjectsMain",query:e})},saveRejected:function(t){var e=this;this.convertToPdf(this.selectedTrItem).then((function(a){e.rejectedLoader=!0,P["a"].saveRejected(e.selectedTrItem.letterId,e.selectedTrItem.id,e.reasonRejected,t).then(Object(n["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isRejectedModal=!1,a=Object.assign({},e.selectedTrItem),t.next=4,e.successSaved();case 4:return t.next=6,e.getList(!0,a.id);case 6:return t.next=8,e.getIncomeTotalCount();case 8:case"end":return t.stop()}}),t)})))).finally((function(){e.rejectedLoader=!1}))}))},showRejectedSeeModal:function(t){this.selectedTrItem=t,this.isRejectedSeeModal=!0},showRejectedModal:function(t){this.selectedTrItem=t,this.isRejectedModal=!0},showQuorumModal:function(t){this.selectedTrItem=t,this.isQuorumModal=!0},quorumConfirm:function(){var t=this;this.quorumLoader=!0,P["a"].sendQuorum(this.selectedTrItem.id,{date:this.quorumDate}).then((function(e){t.successSaved(),t.isQuorumModal=!1})).catch((function(t){})).finally((function(){t.selectedTrItem={},t.quorumLoader=!1}))},rejectSeeConfirm:function(){var t=this;Object(r["g"])(this.$t("messages.reject_title")).then((function(e){e.value&&(t.signatureSeeModal=!0)}))},rejectConfirm:function(){var t=this;Object(r["g"])(this.$t("messages.reject_title")).then((function(e){e.value&&(t.signatureModal=!0)}))},signSuccessSee:function(t){var e=this;return Object(n["a"])(Object(i["a"])().mark((function a(){var o;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o={signedContent:t.content,inn:t.inn,pnfl:t.pnfl},a.next=3,P["a"].onlyDocSignForRevision(o,e.selectedTrItem.id,e.reasonRejectedSee).then(Object(n["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.signatureSeeModal=!1,e.isRejectedSeeModal=!1,Object.assign({},e.selectedTrItem),t.next=5,Object(r["w"])(e.$t("successDocSigned"));case 5:e.getProjects(),e.getTotalCount();case 7:case"end":return t.stop()}}),t)})))).catch((function(t){}));case 3:case"end":return a.stop()}}),a)})))()},signSuccess:function(t){var e=this;return Object(n["a"])(Object(i["a"])().mark((function a(){var o;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(o={signedContent:t.content,inn:t.inn,pnfl:t.pnfl},!e.isRejectedModal){a.next=7;break}e.isModalKeys=!1,e.signatureModal=!1,e.saveRejected(o),a.next=17;break;case 7:if("COMMISSION_SEND"!==e.selectedTrItem.status){a.next=11;break}P["a"].onlyDocSign(o,e.selectedTrItem.id).then(Object(n["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isModalKeys=!1,e.signatureModal=!1,Object.assign({},e.selectedTrItem),t.next=5,Object(r["w"])(e.$t("successDocSigned"));case 5:e.getProjects(),e.getTotalCount();case 7:case"end":return t.stop()}}),t)})))).catch((function(t){})),a.next=17;break;case 11:if("NOT_BELONG"!==e.selectedTrItem.status){a.next=16;break}return a.next=14,P["a"].onlyDocSign(o,e.selectedTrItem.id).then(Object(n["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isModalKeys=!1,e.signatureModal=!1,a=Object.assign({},e.selectedTrItem),t.next=5,Object(r["w"])(e.$t("successDocSigned"));case 5:return t.next=7,e.getList(!0,a.id);case 7:return t.next=9,e.getIncomeTotalCount();case 9:case"end":return t.stop()}}),t)})))).catch((function(t){}));case 14:a.next=17;break;case 16:P["a"].signDoc(o,e.selectedTrItem.id,e.commissionTypeId,e.commissionComment).then(Object(n["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isModalKeys=!1,e.signatureModal=!1,e.commissionsModal=!1,a=Object.assign({},e.selectedTrItem),t.next=6,Object(r["w"])(e.$t("successDocSigned"));case 6:return t.next=8,e.getList(!0,a.id);case 8:return t.next=10,e.getIncomeTotalCount();case 10:case"end":return t.stop()}}),t)})))).catch((function(t){}));case 17:case"end":return a.stop()}}),a)})))()},customLabelMailingPurpose:function(t){var e=this.mailingPurposes.find((function(e){return e.id==t}));return e?"".concat(this.getName({nameRu:e.nameRu,nameLt:e.nameLt,nameUz:e.nameUz})):""},customLabelCommissionTypes:function(t){var e=this.commissionTypes.find((function(e){return e.id==t}));return e?"".concat(e.fullName," -\n        ").concat(this.getName({nameRu:e.directoryPositionNameRu,nameLt:e.directoryPositionNameLt,nameUz:e.directoryPositionNameUz})," "):""},sendToDirector:function(t){var e=arguments,a=this;return Object(n["a"])(Object(i["a"])().mark((function o(){return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.length>1&&void 0!==e[1]?e[1]:null,a.currentProject=t,o.next=4,F["a"].getList("employee/get-all-employee/in-monopoly-department",a.var_default_search_payload,null,!0).then((function(t){a.commissionTypes=t.data})).catch((function(t){console.log(t)}));case 4:return o.next=6,F["a"].searchList("before-commission/directory/mailing-purpose",a.var_default_search_payload).then((function(t){a.mailingPurposes=t.data.list})).catch((function(t){console.log(t)}));case 6:a.commissionsModal=!0;case 7:case"end":return o.stop()}}),o)})))()},save:function(){var t=this;return Object(n["a"])(Object(i["a"])().mark((function e(){var a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commissionModalLoader=!0,a=t.currentProject.id,g["a"].addMember(a,[{employeeId:t.commissionTypeId,mailingPurposeId:t.mailingPurposeId}]).then((function(e){t.successSaved(),t.isModal=!1,t.$emit("success")})).catch((function(t){})).finally((function(){t.commissionModalLoader=!1,t.commissionsModal=!1}));case 3:case"end":return e.stop()}}),e)})))()},visa_btn:function(){var t=this;return Object(n["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commissionModalLoader=!0,P["a"].SignatureGiveVisaForDXA({applicationId:t.selectedTrItem.applicationId,employeeId:t.commissionTypeId,letterId:t.selectedTrItem.id}).then((function(e){t.$toast(t.$t("succes.title"),{type:"success"}),t.commissionTypeId=null,t.commissionComment="",t.commissionsModal=!1})).catch((function(e){t.isCommit=!1,console.log(e)})).finally(Object(n["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commissionModalLoader=!1,e.next=3,t.getList();case 3:t.selectedTrItem={};case 4:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})))()},getTotalCount:function(){var t=this;g["a"].getTotalCount(this.projectType).then((function(e){e.data&&(t.totalCreated=e.data.created,t.totalFinished=e.data.finished,t.totalDeadline=e.data.deadline)}))},selected_changed:function(t){this.getProjects(t)},convertToPdf:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(a,o){var s={url:"".concat(t.url),outputtype:".pdf",forSign:e,key:t.key};P["a"].convertToPdfByApi(s,!0).then((function(t){t.data?a(t.data):a(!1)})).catch((function(t){o(t)}))}))},closeProject:function(t,e){var a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;g["a"].changeStatus(t,e,!0).then((function(t){t.data&&(a.getProjects(o||a.selected),a.getTotalCount(),a.editSuccess(),a.forceRouteReload())}))},changeStatus:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return P["a"].changeStatusService(this,t,e)},handleProjectInformationCompleted:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 0};if(this.modalProjectInformationCompleted){if(this.projectInformationCompletionDate)return P["a"].projectInformationCompleted(this.projectInformationCompletionProjectId,this.projectInformationCompletionDate).then((function(e){e.data;t.projectInformationCompletionCallBack(),t.projectInformationCompletionCallBack=function(){return 0},t.projectInformationCompletionProjectId=null,t.modalProjectInformationCompleted=!1}));this.$toast(this.$t("messages.fill_required_fields"),{type:"error"})}else this.projectInformationCompletionCallBack=a,this.projectInformationCompletionProjectId=e,this.modalProjectInformationCompleted=!0},search_changed:function(t){this.searchValue=t},goComments:function(t){this.currentProj=t,this.$router.push({name:this.isCommission?"CommissionProjects":"ProjectsMain",query:{page:"comments",id:t.id}})},getTasks:function(t){this.$router.push({name:this.isCommission?"CommissionProjects":"ProjectsMain",query:{page:"tasks",id:t.id}})},overView:function(t){this.$router.push({name:this.isCommission?"CommissionProjects":"ProjectsMain",query:{page:"overview",id:t.id}})},edit:function(t){this.$router.push({name:this.isCommission?"CommissionProjects":"ProjectsMain",query:{page:"edit",id:t.id}})},d_page_changed:function(t){this.page=t},dlt:function(t){var e=this;this.cnf().then((function(a){a.value&&g["a"].delete(t).then((function(t){e.deleteSuccess(),e.getProjects()})).catch((function(t){}))}))},random:function(t){return Math.floor(Math.random()*t)},successSave:function(){var t=this;return Object(n["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getProjects();case 2:t.successSaved(),t.$router.push({name:t.isCommission?"CommissionProjects":"ProjectsMain",query:{page:"list"}});case 4:case"end":return e.stop()}}),e)})))()},getProjects:function(t){var e=this;this.loading=!0,g["a"].list(this.params,t,this.projectType).then((function(t){e.projectData=t.data.list,e.total=t.data.total})).catch((function(t){})).finally((function(){e.loading=!1}))},splitLargeText:function(t,e){return Object(r["x"])(t,e)}}},B=A,z=(a("fd8d"),a("a492"),Object(w["a"])(B,o,s,!1,null,"fcadaa38",null));e["default"]=z.exports},"73b5":function(t,e,a){"use strict";a("fecd")},"829e":function(t,e,a){"use strict";a("99af");var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title mb-4"},[t._v(t._s(t.$t("cmts")))]),e("simplebar",{ref:"commentsRef",style:t.height?"height:330px":"height: 330px",attrs:{id:"comment-list"}},t._l(t.comments,(function(a,o){return e("div",{key:o,staticClass:"media mb-4"},[e("div",{staticClass:"mr-3"},[a.employeeUploadPath?e("img",{staticClass:"media-object rounded-circle avatar-xs",attrs:{alt:"",src:"".concat(t.hrUrl,"/").concat(a.employeeUploadPath)}}):e("div",{staticClass:"avatar-xs mr-3"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white font-size-16"},[t._v(" "+t._s(a.ownerLastName.charAt(0))+" ")])])]),e("div",{staticClass:"media-body"},[e("h5",{staticClass:"font-size-13 font-weight-bold mb-1"},[t._v(" "+t._s("".concat(a.ownerLastName," ").concat(a.ownerFirstName," ").concat(a.ownerMiddleName))+" ")]),a.uploadPath?e("div",[e("p",{staticClass:"mb-1 d-flex align-items-center"},[e("a",{staticClass:"fa fas fa-arrow-alt-circle-down text-primary",staticStyle:{"font-size":"35px"},attrs:{href:"".concat(t.baseUrl,"/").concat(a.uploadPath),download:"file.".concat(a.fileExtension)}}),e("span",{staticClass:"ml-2"},[t._v(t._s(a.fileName))])])]):t._e(),e("p",{staticClass:"mb-1",staticStyle:{"word-break":"break-all !important"}},[t._v(" "+t._s(a.comment)+" ")]),e("p",{staticClass:"text-muted mb-0 font-size-10"},[e("i",{staticClass:"bx bx-calendar mr-1 text-primary"}),t._v(" "+t._s(t.replaceDate(a.date).daym_shortyyyy_hm())+" ")])])])})),0)],1),e("div",{staticClass:"pl-3 pr-3 pt-3"},[t.project&&"FINISHED"!=t.project.status?e("form",[e("div",{staticClass:"form-group m-0",staticStyle:{position:"relative"}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"form-control",staticStyle:{resize:"none"},attrs:{id:"commentmessage-input",placeholder:t.$t("writeCmt"),rows:"3"},domProps:{value:t.comment},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.leaveComment(t.comment)},input:function(e){e.target.composing||(t.comment=e.target.value)}}}),e("b-button",{staticClass:"iconUpload",staticStyle:{padding:"1px"},attrs:{variant:"white",size:"sm"},on:{click:function(e){return e.preventDefault(),t.clickUpload.apply(null,arguments)}}},[e("i",{staticClass:"bx bxs-file-doc text-primary font-size-20"})])],1),e("b-button",{staticClass:"mt-1 float-right mb-3",attrs:{variant:"primary"},on:{click:function(e){return t.leaveComment(t.comment)}}},[e("b-overlay",{attrs:{show:t.loaderCmt,rounded:"sm",opacity:"0.1"}},[t._v(" "+t._s(t.$t("actions.send"))+" "),e("i",{staticClass:"bx bx-send"})])],1)],1):t._e(),e("upload-file",{ref:"file",attrs:{cmt:!0},on:{sendFile:t.sendFile}})],1)])},s=[],i=a("c7eb"),n=a("1da1"),r=(a("d3b7"),a("f021")),c=a("8d3b"),l=a("6275"),d={props:["height","project"],watch:{file:{handler:function(t){t&&(this.fileModal=!0)}}},data:function(){return{replaceDate:l["u"],fileModal:!1,comment:"",file:null,params:{page:0,itemsPerPage:20},comments:[],commentPage:0,loaderCmt:!1}},components:{simplebar:c["a"]},created:function(){this.listComments()},methods:{sendFile:function(t,e){this.leaveComment(t,e),this.fileModal=!1,this.file=null},clickUpload:function(){this.$refs.file.upld()},leaveComment:function(t,e){var a=this,o=this.$route.query.id;o?(this.loaderCmt=!0,r["a"].leaveComment(o,t,e).then((function(t){a.comment="",setTimeout((function(){a.listComments()}),300)})).catch((function(t){})).finally((function(){a.loaderCmt=!1}))):this.$router.go(-1)},listComments:function(){var t=this,e=this.$route.query.id;e?r["a"].listComments(e,this.params,!0).then((function(e){t.comments=e.data.list,t.handleScroll()})).catch((function(t){})):this.$router.go(-1)},loadMoreComments:function(t){var e=this,a=this.$route.query.id;a?r["a"].listComments(a,{page:t,itemsPerPage:20}).then(function(){var t=Object(n["a"])(Object(i["a"])().mark((function t(a){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=a.data,o.list.length>0?e.comments=e.comments.concat(o.list):e.commentPage;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){})):this.$router.go(-1)},handleScroll:function(){var t=this;this.$refs.commentsRef.$el&&setTimeout((function(){t.$refs.commentsRef.SimpleBar.getScrollElement().scrollTop=0}),500)}},mounted:function(){var t=this,e=document.querySelector("#comment-list .simplebar-content-wrapper");e&&e.scrollTo({top:500,behavior:"smooth"}),this.$refs.commentsRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,o=a.scrollTop,s=a.scrollHeight,i=a.clientHeight,n=1;s-i-n<o&&t.loadMoreComments(t.commentPage+=1)}))}},u=d,m=(a("9ef6"),a("2877")),p=Object(m["a"])(u,o,s,!1,null,null,null);e["a"]=p.exports},8534:function(t,e,a){"use strict";a("eea2")},"8aff":function(t,e,a){"use strict";a("99af"),a("caad");var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card mb-0"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title mb-4"},[t._v(t._s(t.$t("members")))]),e("simplebar",{key:t.cmpKey+"MEMBER",ref:"membersRef",style:"height: ".concat(t.heightProp,"px"),attrs:{"data-simplebar-auto-hide":"false",id:"member-list"}},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-centered"},[e("tbody",t._l(t.members,(function(a,o){return e("tr",{key:o},[e("td",{staticStyle:{width:"50px"}},[a.employeePhotoUploadPath?e("div",{staticClass:"avatar-xs mr-3"},[e("span",{staticClass:"avatar-title rounded-circle bg-soft-primary text-white font-size-16"},[t._v(" "+t._s("".concat(a.firstName.charAt(0)).concat(a.lastName.charAt(0)))+" ")])]):e("img",{staticClass:"rounded-circle avatar-xs",attrs:{src:"".concat(t.hrUrl,"/").concat(a.employeePhotoUploadPath),alt:""}})]),e("td",{staticStyle:{"vertical-align":"middle"}},[e("h5",{staticClass:"font-size-14 m-0"},[e("p",{staticClass:"text-dark m-0 p-0",attrs:{href:"#"}},[t._v(" "+t._s("".concat(a.lastName," ").concat(a.firstName," ").concat(a.middleName))+" ")])]),e("p",{staticClass:"m-0 text-muted"},[t._v(" "+t._s(t.getName({nameLt:a.departmentNameLt,nameUz:a.departmentNameUz,nameRu:a.departmentNameRu}))+" ")]),e("p",{staticClass:"m-0 text-muted"},[t._v(" "+t._s(t.getName({nameLt:a.staffPositionNameLt,nameUz:a.staffPositionNameUz,nameRu:a.staffPositionNameRu}))+" ")]),a.mailingPurposeId?e("p",{staticClass:"m-0"},[t._v(" "+t._s(t.getName({nameLt:a.mailingPurposeNameLt,nameUz:a.mailingPurposeNameUz,nameRu:a.mailingPurposeNameRu}))+" ")]):t._e()]),e("td",[t.isCommission?e("div",[a.isAdmin?e("i",{staticClass:"mdi mdi-shield-account-outline text-success font-size-20 hi"}):t.project.isAdmin&&!["FINISHED","REVIEW_FINISHED","TEMPORARILY_CLOSED"].includes(t.project.status)?e("i",{staticClass:"bx bx-trash font-size-20 hi",on:{click:function(e){return e.preventDefault(),t.deleteMember(a.employeeId)}}}):t._e()]):e("div",[a.isAdmin?e("i",{staticClass:"mdi mdi-shield-account-outline text-success font-size-20 hi"}):t.project.isAdmin&&!["FINISHED","REVIEW_FINISHED","COMMISSION_REVIEW_CLOSED","TEMPORARILY_CLOSED"].includes(t.project.status)?e("i",{staticClass:"bx bx-trash font-size-20 hi",on:{click:function(e){return e.preventDefault(),t.deleteMember(a.employeeId)}}}):t._e()])])])})),0)])])])],1),t.project&&!["TEMPORARILY_CLOSED","REVIEW_FINISHED","COMMISSION_REVIEW_CLOSED","FINISHED"].includes(t.project.status)?e("div",{staticClass:"p-3"},[e("div",[e("b-button",{attrs:{variant:"primary",block:""},on:{click:function(e){return e.preventDefault(),t.clickAdd.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-user-plus d-block font-size-16"}),t._v(" "+t._s(t.$t("actions.add"))+" ")])],1)]):t._e(),e("b-sidebar",{staticClass:"sidebar1",attrs:{"backdrop-variant":"dark",backdrop:"",shadow:"","sidebar-class":"p-0","no-header":!0,right:""},model:{value:t.isModal,callback:function(e){t.isModal=e},expression:"isModal"}},[e("div",[t.isModal?e("members",{ref:"empMembersRef",attrs:{notIn:!0,"for-project":""},on:{save:t.save,cancel:function(e){t.isModal=!1}}}):t._e()],1)])],1)},s=[],i=a("c7eb"),n=a("1da1"),r=(a("b0c0"),a("d81d"),a("f021")),c=a("8d3b"),l=a("93e8"),d={props:["heightProp","close","isMembers","project"],data:function(){return{params:{page:0,itemsPerPage:20},members:[],memberPage:0,isModal:!1,cmpKey:0}},computed:{projectType:function(){return"CommissionProjects"===this.$route.name?"COMMISSION":"BEFORE_COMMISSION"},isCommission:function(){return"COMMISSION"===this.projectType}},components:{simplebar:c["a"],Members:l["a"]},created:function(){"overview"!==this.$route.query.page&&"tasks"!==this.$route.query.page||this.listMembers()},methods:{recalculate:function(){var t=this;this.cmpKey+=1,setTimeout((function(){t.scrollActive()}),200)},scrollActive:function(){var t=this;this.isMembers&&this.$refs.membersRef.SimpleBar.getScrollElement().addEventListener("scroll",(function(e){var a=event.target,o=a.scrollTop,s=a.scrollHeight,i=a.clientHeight,n=1;s-i-n<o&&t.loadMoreMembers(t.memberPage+=1)}))},save:function(t){var e=this,a=this.$route.query.id;t.length>0&&r["a"].addMember(a,t.map((function(t){return{employeeId:t.employeeId,mailingPurposeId:t.mailingPurposeId}}))).then((function(t){e.successSaved(),e.isModal=!1,e.listMembers(),e.$emit("success")})).catch((function(t){}))},deleteMember:function(t){var e=this,a=this.$route.query.id;this.cnf().then((function(o){o.value&&r["a"].deleteMember(a,t).then((function(t){e.deleteSuccess(),e.listMembers()})).catch((function(t){}))}))},clickAdd:function(){var t=this;this.isModal=!0,setTimeout((function(){t.$refs.empMembersRef.reset()}))},leaveMember:function(t){var e=this,a=this.$route.query.id;a?r["a"].leaveComment(a,null,t).then((function(t){setTimeout((function(){e.listMembers()}),300)})).catch((function(t){})):this.$router.go(-1)},listMembers:function(){var t=this,e=this.$route.query.id;e?r["a"].listMembers(e,this.params,this.projectType).then((function(e){t.members=e.data.list})).catch((function(t){})):this.$router.go(-1)},loadMoreMembers:function(t){var e=this,a=this.$route.query.id;a?r["a"].listMembers(a,{page:this.memberPage+=1,itemsPerPage:20},this.projectType).then(function(){var t=Object(n["a"])(Object(i["a"])().mark((function t(a){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=a.data,o.list.length>0?e.members=e.members.concat(o.list):e.memberPage-=2;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):this.$router.go(-1)}},mounted:function(){var t=this,e=document.querySelector("#member-list .simplebar-content-wrapper");e&&e.scrollTo({top:500,behavior:"smooth"}),setTimeout((function(){t.scrollActive()}),200)}},u=d,m=(a("8534"),a("2877")),p=Object(m["a"])(u,o,s,!1,null,null,null);e["a"]=p.exports},"92a2":function(t,e,a){"use strict";a("de9c")},"9ef6":function(t,e,a){"use strict";a("fd75")},"9f9c":function(t,e,a){"use strict";a("4f78")},a492:function(t,e,a){"use strict";a("c457")},b83d:function(t,e,a){"use strict";a("14d9");var o=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"list-inline mb-0 mt-3 float-right"},[t.project.isAdmin&&"FINISHED"===t.project.status&&"COMMISSION"!==t.project.projectType&&!t.project.applicationSeen?e("li",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"list-inline-item",attrs:{title:t.$t("goToWorkWithProjectsPage")}},[e("b-button",{staticClass:"btn btn-outline-primary pl-3 pr-3 pb-1 pt-1 text-white font-size-16",attrs:{variant:"primary"},on:{click:function(e){return e.preventDefault(),t.$router.push({name:"LetterCreate",query:{type:"FROM_DXA"===t.project.applicationType?"dxa":null}})}}},[t._v(t._s(t.$t("submodules.application_before_commission.confirm_explore_results"))+" ")])],1):t._e(),e("li",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"list-inline-item ml-0",attrs:{title:t.$t("cmts")}},[e("b-button",{staticClass:"pl-2 pr-2 pb-1 pt-2",attrs:{variant:"light"},on:{click:function(e){return e.preventDefault(),t.$emit("goComments",t.project)}}},[e("i",{staticClass:"bx bx-comment-dots font-size-15"})])],1),t.project.isAdmin&&"FINISHED"!==t.project.status?e("li",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"list-inline-item",attrs:{title:t.$t("actions.delete")}},[e("b-button",{staticClass:"pl-2 pr-2 pb-1 pt-2",attrs:{variant:"light"},on:{click:function(e){return e.preventDefault(),t.$emit("dlt",t.project.id)}}},[e("i",{staticClass:"bx bx-trash font-size-15"})])],1):t._e(),e("li",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"list-inline-item",attrs:{title:t.$t("tasks_list")}},[e("b-button",{staticClass:"pl-2 pr-2 pb-1 pt-2",attrs:{variant:"light"},on:{click:function(e){return e.preventDefault(),t.$emit("getTask",t.project)}}},[e("i",{staticClass:"bx bx-task font-size-15"})])],1),"COMMISSION"!==t.project.projectType||"FROM_DXA"!==t.project.applicationType||!t.project.isAdmin||"COMMISSION_REVISION"!==t.project.status&&"CREATED"!==t.project.status&&"RECREATED"!==t.project.status?t._e():e("li",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"list-inline-item ml-0"},[e("b-button",{staticClass:"list-inline-item ml-0",attrs:{variant:"primary",title:t.$t("submodules.commission.kvorm_no")},on:{click:function(e){return e.preventDefault(),t.$emit("showQuorumModal",t.project)}}},[e("i",{staticClass:"fa fa-calendar-plus"})])],1),"COMMISSION"===t.project.projectType&&"FROM_DXA"===t.project.applicationType&&t.project.isAdmin&&"CREATED"===t.project.status||"RECREATED"===t.project.status?e("li",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"list-inline-item ml-0"},[e("b-button",{directives:[{name:"show",rawName:"v-show",value:"FROM_DXA"!==t.selectedTrItem.applicationTypeInProject&&t.isCommission&&t.project.isAdmin,expression:"selectedTrItem.applicationTypeInProject !== 'FROM_DXA' && isCommission && project.isAdmin"}],staticClass:"list-inline-item ml-0",attrs:{variant:"info",title:t.$t("submodules.commission.returnsee")},on:{click:function(e){return e.preventDefault(),t.$emit("showRejectedSeeModal",t.project)}}},[e("i",{staticClass:"fa fa-reply"})])],1):t._e(),-1===["REVIEW_FINISHED","FINISHED","TEMPORARILY_CLOSED","RETURN_FOR_REVISION_TO_BEFORE_COMMISSION"].indexOf(t.project.status)?e("li",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"list-inline-item ml-0",attrs:{title:t.$t("actions.close_project")}},[e("b-button",{staticClass:"pl-2 pr-2 pb-1 pt-2",attrs:{variant:"danger"},on:{click:function(e){return e.preventDefault(),t.$emit("changeStatus",t.project)}}},[e("i",{staticClass:"bx bxs-hourglass-bottom font-size-15"})])],1):t._e(),t.showOnTemporarilyClosedForNotCompleted?e("li",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"list-inline-item ml-0",attrs:{title:t.$t("actions.information_completed")}},[e("b-button",{staticClass:"pl-2 pr-2 pb-1 pt-2",attrs:{variant:"warning"},on:{click:function(e){return e.preventDefault(),t.handleProjectInformationCompleted.apply(null,arguments)}}},[e("i",{staticClass:"bx bxs-badge-check font-size-15"})])],1):t._e()])},s=[],i={name:"project-list-buttons",props:{project:{type:Object,required:function(){return{}}},selectedTrItem:{type:Object,required:function(){return{}}},isCommission:{type:Boolean,required:!0}},computed:{showOnTemporarilyClosedForNotCompleted:function(){return"TEMPORARILY_CLOSED"===this.project.status&&"FOR_NOT_COMPLETED"===this.project.returnType}},methods:{handleProjectInformationCompleted:function(){var t=this;this.$emit("handleProjectInformationCompleted",this.project.id,(function(){t.forceRouteReload()}))}}},n=i,r=a("2877"),c=Object(r["a"])(n,o,s,!1,null,"0b2bce20",null);e["a"]=c.exports},bd1a:function(t,e,a){},c457:function(t,e,a){},c878:function(t,e,a){!function(t,a){a(e)}(0,(function(t){"use strict";var e,a,o="smooth-dnd-container-instance",s="smooth-dnd-draggable-wrapper",i="animated",n="__smooth_dnd_draggable_translation_value",r="__smooth_dnd_draggable_visibility_value",c="smooth-dnd-ghost",l="smooth-dnd-container",d="smooth-dnd-extra-size-for-insertion",u="smooth-dnd-stretcher-element",m="smooth-dnd-stretcher-instance",p="smooth-dnd-disable-touch-action",f="smooth-dnd-no-user-select",h="smooth-dnd-prevent-auto-scroll-class",v="smooth-dnd-drop-preview-default-class",b="smooth-dnd-drop-preview-inner-class",g="smooth-dnd-drop-preview-constant-class",C="smooth-dnd-drop-preview-flex-container-class",_=Object.freeze({containerInstance:o,defaultGroupName:"@@smooth-dnd-default-group@@",wrapperClass:s,defaultGrabHandleClass:"smooth-dnd-default-grap-handle",animationClass:i,translationValue:n,visibilityValue:r,ghostClass:c,containerClass:l,extraSizeForInsertion:d,stretcherElementClass:u,stretcherElementInstance:m,isDraggableDetached:"smoth-dnd-is-draggable-detached",disbaleTouchActions:p,noUserSelectClass:f,preventAutoScrollClass:h,dropPlaceholderDefaultClass:v,dropPlaceholderInnerClass:b,dropPlaceholderWrapperClass:g,dropPlaceholderFlexContainerClass:C}),y={groupName:void 0,behaviour:"move",orientation:"vertical",getChildPayload:void 0,animationDuration:250,autoScrollEnabled:!0,shouldAcceptDrop:void 0,shouldAnimateDrop:void 0};function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function x(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function I(t,e,a){return"x"===a?{left:Math.max(t.left,e.left),top:t.top,right:Math.min(t.right,e.right),bottom:t.bottom}:{left:t.left,top:Math.max(t.top,e.top),right:t.right,bottom:Math.min(t.bottom,e.bottom)}}function w(t){var a=window.getComputedStyle(t),o=a.overflow;if("auto"===o||"scroll"===o)return e.xy;var s=a["overflow-x"],i="auto"===s||"scroll"===s,n=a["overflow-y"],r="auto"===n||"scroll"===n;return i&&r?e.xy:i?e.x:r?e.y:null}function S(t,e){var a=window.getComputedStyle(t),o=a.overflow,s=a["overflow-".concat(e)];return"auto"===o||"scroll"===o||"auto"===s||"scroll"===s}(a=e||(e={})).x="x",a.y="y",a.xy="xy";var j=function(t,e){return{left:Math.max(t.left,e.left),top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom)}},T=function(t){var e=t.getBoundingClientRect(),a={left:e.left,right:e.right,top:e.top,bottom:e.bottom};if(D(t,"x")&&!R(t,"x")){var o=a.right-a.left;a.right=a.right+t.scrollWidth-o}if(D(t,"y")&&!R(t,"y")){var s=a.bottom-a.top;a.bottom=a.bottom+t.scrollHeight-s}return a},R=function(t,e){var a=window.getComputedStyle(t),o=a.overflow,s=a["overflow-".concat(e)];return"auto"===o||"scroll"===o||"hidden"===o||"auto"===s||"scroll"===s||"hidden"===s},D=function(t,e){return"x"===e?t.scrollWidth>t.clientWidth:t.scrollHeight>t.clientHeight},k=function(t,e){var a=t,o=e||T(t);for(a=t.parentElement;a;)D(a,"x")&&R(a,"x")&&(o=I(o,a.getBoundingClientRect(),"x")),D(a,"y")&&R(a,"y")&&(o=I(o,a.getBoundingClientRect(),"y")),a=a.parentElement;return o},M=function(t,e){for(var a=t;a;){if(a[o]){var s=function(){var t=a[o];if(e.some((function(e){return e===t})))return{v:t}}();if("object"===O(s))return s.v}a=a.parentElement}return null},N=function(t,e){for(var a=t;a;){if(a.matches(e))return a;a=a.parentElement}return null},P=function(t,e){return-1<t.className.split(" ").map((function(t){return t})).indexOf(e)},$=function(t,e){if(t){var a=t.className.split(" ").filter((function(t){return t}));-1===a.indexOf(e)&&(a.unshift(e),t.className=a.join(" "))}},F=function(t,e){if(t){var a=t.className.split(" ").filter((function(t){return t&&t!==e}));t.className=a.join(" ")}},L=function(t,e){return t.removeChild(t.children[e])},A=function(t,e,a){a>=t.children.length?t.appendChild(e):t.insertBefore(e,t.children[a])},B=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():window.document.selection&&window.document.selection.empty()},z=function(t){if(t){var e=window.getComputedStyle(t);if(e)return e.cursor}return null};function U(t){return!(t.bottom<=t.top||t.right<=t.left)}function q(t){var e=t.element,a=t.draggables;return function(t,o){var i=t,n=i.removedIndex,r=i.addedIndex,c=i.droppedElement,l=null;if(null!==n&&(l=L(e,n),a.splice(n,1)),null!==r){var d=window.document.createElement("div");d.className="".concat(s),d.appendChild(l&&l.firstElementChild?l.firstElementChild:c),A(e,d,r),r>=a.length?a.push(d):a.splice(r,0,d)}o&&o(t)}}var V=Object.freeze({domDropHandler:q,reactDropHandler:function(){return{handler:function(){return function(t,e){e&&e(t)}}}}}),H={size:"offsetWidth",distanceToParent:"offsetLeft",translate:"transform",begin:"left",end:"right",dragPosition:"x",scrollSize:"scrollWidth",offsetSize:"offsetWidth",scrollValue:"scrollLeft",scale:"scaleX",setSize:"width",setters:{translate:function(t){return"translate3d(".concat(t,"px, 0, 0)")}}},W={size:"offsetHeight",distanceToParent:"offsetTop",translate:"transform",begin:"top",end:"bottom",dragPosition:"y",scrollSize:"scrollHeight",offsetSize:"offsetHeight",scrollValue:"scrollTop",scale:"scaleY",setSize:"height",setters:{translate:function(t){return"translate3d(0,".concat(t,"px, 0)")}}};function G(t,e,a){t[d]=0;var o=function(t){return{get:function(e,a){return e[t[a]||a]},set:function(e,a,o){e[t[a]]=t.setters[a]?t.setters[a](o):o}}}("horizontal"===e?H:W),s={translation:0};function i(){c(t),function(t){var e=t.getBoundingClientRect();s.scaleX=t.offsetWidth?(e.right-e.left)/t.offsetWidth:1,s.scaleY=t.offsetHeight?(e.bottom-e.top)/t.offsetHeight:1}(t)}function c(t){s.rect=T(t);var e=k(t,s.rect);U(e)&&(s.lastVisibleRect=s.visibleRect),s.visibleRect=e}function l(t){var a=t;if(a.tagName){var i=a.getBoundingClientRect();return"vertical"===e?i.bottom-i.top:i.right-i.left}return o.get(t,"size")*o.get(s,"scale")}function u(t){return o.get(t,"dragPosition")}return window.addEventListener("resize",(function(){c(t)})),setTimeout((function(){i()}),10),{getSize:l,getContainerRectangles:function(){return{rect:s.rect,visibleRect:s.visibleRect,lastVisibleRect:s.lastVisibleRect}},getBeginEndOfDOMRect:function(t){return{begin:o.get(t,"begin"),end:o.get(t,"end")}},getBeginEndOfContainer:function(){return{begin:o.get(s.rect,"begin")+s.translation,end:o.get(s.rect,"end")+s.translation}},getBeginEndOfContainerVisibleRect:function(){return{begin:o.get(s.visibleRect,"begin")+s.translation,end:o.get(s.visibleRect,"end")+s.translation}},getBeginEnd:function(e){var a=function(t){return(o.get(t,"distanceToParent")+(t[n]||0))*o.get(s,"scale")}(e)+(o.get(s.rect,"begin")+s.translation)-o.get(t,"scrollValue");return{begin:a,end:a+l(e)*o.get(s,"scale")}},getAxisValue:u,setTranslation:function(t,e){e?o.set(t.style,"translate",e):t.style.removeProperty("transform"),t[n]=e},getTranslation:function(t){return t[n]},setVisibility:function(t,e){void 0!==t[r]&&t[r]===e||(e?t.style.removeProperty("visibility"):t.style.visibility="hidden",t[r]=e)},isVisible:function(t){return void 0===t[r]||t[r]},isInVisibleRect:function(t,a){var o=s.visibleRect,i=o.left,n=o.top,r=o.right,c=o.bottom;c-n<2&&(c=n+30);var l=s.rect;return"vertical"===e?t>l.left&&t<l.right&&n<a&&a<c:i<t&&t<r&&a>l.top&&a<l.bottom},setSize:function(t,e){o.set(t,"setSize",e)},getTopLeftOfElementBegin:function(t){var a=0;return{top:"horizontal"===e?(a=t,s.rect.top):(a=s.rect.left,t),left:a}},getScrollSize:function(t){return o.get(t,"scrollSize")},getScrollValue:function(t){return o.get(t,"scrollValue")},setScrollValue:function(t,e){return o.set(t,"scrollValue",e)},invalidate:i,invalidateRects:function(){c(t)},getPosition:function(t){return u(t)},setBegin:function(t,e){o.set(t,"begin",e)}}}function K(t,e,a){var o,s,i,n=a.left,r=a.right,c=a.top,l=a.bottom,d=t.x,u=t.y;if(d<n||r<d||u<c||l<u)return null;i="x"===e?(o=n,s=r,d):(o=c,s=l,u);var m=s-o,p=400<m?100:m/4;return s-i<p?{direction:"end",speedFactor:(p-(s-i))/p}:i-o<p?{direction:"begin",speedFactor:(p-(i-o))/p}:null}function Y(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"y",a=null,o=null,s=null,i=null;return{animate:function(n,r){s=n,i=r,function n(){null===a&&(a=requestAnimationFrame((function(r){null===o&&(o=r);var c=r-o;o=r;var l,d,u,m=c/1e3*i;d=e,u=m="begin"===s?0-m:m,(l=t)&&(l!==window?"x"===d?l.scrollLeft+=u:l.scrollTop+=u:"x"===d?l.scrollBy(u,0):l.scrollBy(0,u)),a=null,n()})))}()},stop:function(){null!==a&&(cancelAnimationFrame(a),a=null),o=null}}}function X(t){return function(){return k(t,t.getBoundingClientRect())}}var Q,Z,J,tt=function(t){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1500,o=t.reduce((function(t,a){var o=function(t){for(var a=[],o=t.element;o;){var s=w(o);if(s&&!P(o,h)){var i={};switch(s){case e.xy:i.x={animator:Y(o,"x")},i.y={animator:Y(o,"y")};break;case e.x:i.x={animator:Y(o,"x")};break;case e.y:i.y={animator:Y(o,"y")}}a.push({axisAnimations:i,getRect:X(o),scrollerElement:o})}o=o.parentElement}return a}(a).filter((function(e){return!t.find((function(t){return t.scrollerElement===e.scrollerElement}))}));return[].concat(x(t),x(o))}),[]);return function(t){var e=t.draggableInfo;if(t.reset)o.forEach((function(t){t.axisAnimations.x&&t.axisAnimations.x.animator.stop(),t.axisAnimations.y&&t.axisAnimations.y.animator.stop()}));else if(e){!function(t,e){t.forEach((function(t){var a=t.axisAnimations,o=(0,t.getRect)();a.x&&(a.x.scrollParams=K(e,"x",o),t.cachedRect=o),a.y&&(a.y.scrollParams=K(e,"y",o),t.cachedRect=o)}))}(o,e.mousePosition),o.forEach((function(t){var e=t.axisAnimations,o=e.x,s=e.y;if(o)if(o.scrollParams){var i=o.scrollParams,n=i.direction,r=i.speedFactor;o.animator.animate(n,r*a)}else o.animator.stop();if(s)if(s.scrollParams){var c=s.scrollParams,l=c.direction,d=c.speedFactor;s.animator.animate(l,d*a)}else s.animator.stop()}));var s=o.filter((function(t){return t.cachedRect}));if(s.length&&1<s.length){var i=function(t,e){for(var a=document.elementFromPoint(e.x,e.y);a;){var o=t.find((function(t){return t.scrollerElement===a}));if(o)return o;a=a.parentElement}return null}(s,e.mousePosition);i&&s.forEach((function(t){t!==i&&(t.axisAnimations.x&&t.axisAnimations.x.animator.stop(),t.axisAnimations.y&&t.axisAnimations.y.animator.stop())}))}}}};"undefined"!=typeof window&&((Q=Element)&&Q.prototype&&!Q.prototype.matches&&(Q.prototype.matches=Q.prototype.matchesSelector||Q.prototype.mozMatchesSelector||Q.prototype.msMatchesSelector||Q.prototype.oMatchesSelector||Q.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),a=e.length;0<=--a&&e.item(a)!==this;);return-1<a}),(Z=Node||Element)&&Z.prototype&&null==Z.prototype.firstElementChild&&Object.defineProperty(Z.prototype,"firstElementChild",{get:function(){for(var t,e=this.childNodes,a=0;t=e[a++];)if(1===t.nodeType)return t;return null}}),Array.prototype.some||(Array.prototype.some=function(t){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof t)throw new TypeError;for(var e=Object(this),a=e.length>>>0,o=2<=arguments.length?arguments[1]:void 0,s=0;s<a;s++)if(s in e&&t.call(o,e[s],s,e))return!0;return!1}));var et={overflow:"hidden",display:"block"},at={height:"100%",display:"table-cell","vertical-align":"top"},ot=(E(J={},".".concat(l),{position:"relative","min-height":"30px","min-width":"30px"}),E(J,".".concat(l,".horizontal"),{display:"table"}),E(J,".".concat(l,".horizontal > .").concat(u),{display:"inline-block"}),E(J,".".concat(l,".horizontal > .").concat(s),at),E(J,".".concat(l,".vertical > .").concat(s),et),E(J,".".concat(s),{"box-sizing":"border-box"}),E(J,".".concat(s,".horizontal"),at),E(J,".".concat(s,".vertical"),et),E(J,".".concat(s,".animated"),{transition:"transform ease"}),E(J,".".concat(c),{"box-sizing":"border-box"}),E(J,".".concat(c,".animated"),{transition:"all ease-in-out"}),E(J,".".concat(c," *"),{"pointer-events":"none"}),E(J,".".concat(p," *"),{"touch-action":"none","-ms-touch-action":"none"}),E(J,".".concat(f),{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),E(J,".".concat(b),{flex:"1"}),E(J,".".concat(l,".horizontal > .").concat(g),{height:"100%",overflow:"hidden",display:"table-cell","vertical-align":"top"}),E(J,".".concat(l,".vertical > .").concat(g),{overflow:"hidden",display:"block",width:"100%"}),E(J,".".concat(C),{width:"100%",height:"100%",display:"flex","justify-content":"stretch","align-items":"stretch"}),E(J,".".concat(v),{"background-color":"rgba(150, 150, 150, 0.1)",border:"1px solid #ccc"}),J);function st(t){return Object.keys(t).reduce((function(e,a){var o=t[a];return"object"===O(o)?"".concat(e).concat(a,"{").concat(st(o),"}"):"".concat(e).concat(a,":").concat(o,";")}),"")}function it(t){if(t&&"undefined"!=typeof window){var e=window.document.head||window.document.getElementsByTagName("head")[0],a=window.document.createElement("style"),o=st({"body *":{cursor:"".concat(t," !important")}});return a.type="text/css",a.styleSheet?a.styleSheet.cssText=o:a.appendChild(window.document.createTextNode(o)),e.appendChild(a),a}return null}var nt,rt,ct=["mousedown","touchstart"],lt=["mousemove","touchmove"],dt=["mouseup","touchend"],ut=null,mt=null,pt=null,ft=null,ht=[],vt=!1,bt=!1,gt=!1,Ct=!1,_t=null,yt=null,Ot=null,Et=null,xt=(nt=null,rt=!1,{start:function(){rt||(rt=!0,function t(){nt=requestAnimationFrame((function(){ut.forEach((function(t){return t.layout.invalidateRects()})),setTimeout((function(){null!==nt&&t()}),50)}))}())},stop:function(){null!==nt&&(cancelAnimationFrame(nt),nt=null),rt=!1}}),It="undefined"!=typeof window&&!!(window.navigator.userAgent.match(/Android/i)||window.navigator.userAgent.match(/webOS/i)||window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/iPod/i)||window.navigator.userAgent.match(/BlackBerry/i)||window.navigator.userAgent.match(/Windows Phone/i));function wt(){"undefined"!=typeof window&&ct.forEach((function(t){window.document.addEventListener(t,Bt,{passive:!1})}))}function St(){return ft&&ft.ghostParent?ft.ghostParent:mt&&mt.parentElement||window.document.body}var jt,Tt,Rt,Dt,kt,Mt,Nt=(Dt=null,kt=1,Mt=5,function(t,e,a){jt=Yt(t),Rt=a,(Tt="number"==typeof e?e:It?200:0)&&(Dt=setTimeout(At,Tt)),lt.forEach((function(t){return window.document.addEventListener(t,Pt)}),{passive:!1}),dt.forEach((function(t){return window.document.addEventListener(t,$t)}),{passive:!1}),window.document.addEventListener("drag",Ft,{passive:!1})});function Pt(t){var e=Yt(t),a=e.clientX,o=e.clientY;if(Tt)(Math.abs(jt.clientX-a)>Mt||Math.abs(jt.clientY-o)>Mt)&&Lt();else if(Math.abs(jt.clientX-a)>kt||Math.abs(jt.clientY-o)>kt)return At()}function $t(){Lt()}function Ft(){Lt()}function Lt(){clearTimeout(Dt),lt.forEach((function(t){return window.document.removeEventListener(t,Pt)}),{passive:!1}),dt.forEach((function(t){return window.document.removeEventListener(t,$t)}),{passive:!1}),window.document.removeEventListener("drag",Ft,{passive:!1})}function At(){clearTimeout(Dt),Lt(),Rt()}function Bt(t){var e=Yt(t);if(!vt&&(void 0===e.button||0===e.button)&&(mt=N(e.target,"."+s))){var a=N(mt,"."+l),o=ht.filter((function(t){return t.element===a}))[0],i=o.getOptions().dragHandleSelector,n=o.getOptions().nonDragAreaSelector,r=!0;i&&!N(e.target,i)&&(r=!1),n&&N(e.target,n)&&(r=!1),r&&(o.layout.invalidate(),$(window.document.body,p),$(window.document.body,f),window.document.addEventListener("mouseup",(function t(){F(window.document.body,p),F(window.document.body,f),window.document.removeEventListener("mouseup",t)}))),r&&Nt(e,o.getOptions().dragBeginDelay,(function(){B(),te(e,z(t.target)),lt.forEach((function(t){window.document.addEventListener(t,zt,{passive:!1})})),dt.forEach((function(t){window.document.addEventListener(t,Kt,{passive:!1})}))}))}}function zt(t){t.preventDefault();var e=Yt(t);if(ft){var a=ft.container.getOptions();"contain"===a.behaviour?function(t){var e,a,o,s,i=t.clientX,n=t.clientY,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"vertical",c=ft.container.layout.getBeginEndOfContainerVisibleRect();s="vertical"===r?(e=n,a="y",o="top",ft.size.offsetHeight):(e=i,a="x",o="left",ft.size.offsetWidth);var l=c.begin,d=c.end-s,u=Math.max(l,Math.min(d,e+pt.positionDelta[o]));pt.topLeft[a]=u,ft.position[a]=Math.max(c.begin,Math.min(c.end,e+pt.centerDelta[a])),ft.mousePosition[a]=Math.max(c.begin,Math.min(c.end,e)),ft.position[a]<c.begin+s/2&&(ft.position[a]=c.begin+2),ft.position[a]>c.end-s/2&&(ft.position[a]=c.end-2)}(e,a.orientation):Ot?"y"===Ot?(pt.topLeft.y=e.clientY+pt.positionDelta.top,ft.position.y=e.clientY+pt.centerDelta.y,ft.mousePosition.y=e.clientY):"x"===Ot&&(pt.topLeft.x=e.clientX+pt.positionDelta.left,ft.position.x=e.clientX+pt.centerDelta.x,ft.mousePosition.x=e.clientX):(pt.topLeft.x=e.clientX+pt.positionDelta.left,pt.topLeft.y=e.clientY+pt.positionDelta.top,ft.position.x=e.clientX+pt.centerDelta.x,ft.position.y=e.clientY+pt.centerDelta.y,ft.mousePosition.x=e.clientX,ft.mousePosition.y=e.clientY),ae(),(Ct=!_t(ft))&&Wt()}else te(e,z(t.target))}var Ut,qt,Vt,Ht,Wt=(Ut=Gt,Vt=!(qt=20),Ht=null,function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];Ht&&clearTimeout(Ht),Vt&&!Ht?Ut.call.apply(Ut,[null].concat(e)):Ht=setTimeout((function(){Ht=null,Ut.call.apply(Ut,[null].concat(e))}),qt)});function Gt(){Ct&&(Ct=!1,Xt(ft,ut))}function Kt(){lt.forEach((function(t){window.document.removeEventListener(t,zt,{passive:!1})})),dt.forEach((function(t){window.document.removeEventListener(t,Kt,{passive:!1})})),yt({reset:!0}),Et&&(function(t){t&&"undefined"!=typeof window&&(window.document.head||window.document.getElementsByTagName("head")[0]).removeChild(t)}(Et),Et=null),ft&&(xt.stop(),Gt(),gt=!0,function(t){function e(){F(pt.ghost,"animated"),pt.ghost.style.transitionDuration=null,St().removeChild(pt.ghost),t()}function a(t,a,o){var s=t.top,i=t.left;$(pt.ghost,"animated"),o&&$(pt.ghost.firstElementChild,o),pt.topLeft.x=i,pt.topLeft.y=s,ae(a),setTimeout((function(){e()}),a+20)}function o(t,e){$(pt.ghost,"animated"),ae(t,.9,!0),setTimeout((function(){e()}),t+20)}if(ft.targetElement){var s=ht.filter((function(t){return t.element===ft.targetElement}))[0];!(h=s.getOptions()).shouldAnimateDrop||h.shouldAnimateDrop(ft.container.getOptions(),ft.payload)?a(s.getDragResult().shadowBeginEnd.rect,Math.max(150,s.getOptions().animationDuration/2),s.getOptions().dropClass):e()}else{var i=ht.filter((function(t){return t===ft.container}))[0];if(i){var n=i.getOptions(),r=n.behaviour,c=n.removeOnDropOut;if("move"!==r&&"contain"!==r||!bt&&c||!i.getDragResult())o(i.getOptions().animationDuration,e);else{var l=i.layout.getContainerRectangles();if(!U(l.visibleRect)&&U(l.lastVisibleRect))a({top:l.lastVisibleRect.top,left:l.lastVisibleRect.left},i.getOptions().animationDuration,i.getOptions().dropClass);else{var d=i.getDragResult(),u=d.removedIndex,m=d.elementSize,p=i.layout;i.getTranslateCalculator({dragResult:{removedIndex:u,addedIndex:u,elementSize:m,pos:void 0,shadowBeginEnd:void 0}});var f=0<u?p.getBeginEnd(i.draggables[u-1]).end:p.getBeginEndOfContainer().begin;a(p.getTopLeftOfElementBegin(f),i.getOptions().animationDuration,i.getOptions().dropClass)}}}else o(y.animationDuration,e)}var h}((function(){Jt(vt=!1);for(var t=ut||[],e=t.shift();void 0!==e;)e.handleDrop(ft),e=t.shift();_t=Ot=ft=pt=mt=ut=null,gt=!1})))}function Yt(t){return t.touches?t.touches[0]:t}function Xt(t,e){var a=!1;e.forEach((function(e){var o=e.handleDrag(t);a=!!o.containerBoxChanged||!1,o.containerBoxChanged=!1})),a&&(a=!1,requestAnimationFrame((function(){ht.forEach((function(t){t.layout.invalidateRects(),t.onTranslated()}))})))}function Qt(t){var e=t,a=null;return function(t){return!(null!==a||!vt||gt)&&(a=requestAnimationFrame((function(){vt&&!gt&&(Xt(t,e),yt({draggableInfo:t})),a=null})),!0)}}function Zt(t,e){return t.getOptions().autoScrollEnabled?tt(e,t.getScrollMaxSpeed()):function(t){return null}}function Jt(t){ht.forEach((function(e){var a=t?e.getOptions().onDragStart:e.getOptions().onDragEnd;if(a){var o={isSource:e===ft.container,payload:ft.payload};e.isDragRelevant(ft.container,ft.payload)?o.willAcceptDrop=!0:o.willAcceptDrop=!1,a(o)}}))}function te(t,e){if(null!==mt){vt=!0;var a=ht.filter((function(t){return mt.parentElement===t.element}))[0];a.setDraggables(),Ot=a.getOptions().lockAxis?a.getOptions().lockAxis.toLowerCase():null,ft=function(t){var e=ht.filter((function(e){return t.parentElement===e.element}))[0],a=e.draggables.indexOf(t),o=e.getOptions().getGhostParent,s=t.getBoundingClientRect();return{container:e,element:t,size:{offsetHeight:s.bottom-s.top,offsetWidth:s.right-s.left},elementIndex:a,payload:e.getOptions().getChildPayload?e.getOptions().getChildPayload(a):void 0,targetElement:null,position:{x:0,y:0},groupName:e.getOptions().groupName,ghostParent:o?o():null,invalidateShadow:null,mousePosition:null,relevantContainers:null}}(mt),pt=function(t,e,a,o){var s=e.x,i=e.y,n=t.getBoundingClientRect(),r=n.left,l=n.top,d=n.right,u=n.bottom,m=j(a.layout.getContainerRectangles().visibleRect,n),p=m.left+(m.right-m.left)/2,f=m.top+(m.bottom-m.top)/2,h=t.cloneNode(!0);return h.style.zIndex="1000",h.style.boxSizing="border-box",h.style.position="fixed",h.style.top="0px",h.style.left="0px",h.style.transform=null,h.style.removeProperty("transform"),a.shouldUseTransformForGhost()?h.style.transform="translate3d(".concat(r,"px, ").concat(l,"px, 0)"):(h.style.top="".concat(l,"px"),h.style.left="".concat(r,"px")),h.style.width=d-r+"px",h.style.height=u-l+"px",h.style.overflow="visible",h.style.transition=null,h.style.removeProperty("transition"),h.style.pointerEvents="none",h.style.userSelect="none",a.getOptions().dragClass?setTimeout((function(){$(h.firstElementChild,a.getOptions().dragClass);var t=window.getComputedStyle(h.firstElementChild).cursor;Et=it(t)})):Et=it(o),$(h,a.getOptions().orientation||"vertical"),$(h,c),{ghost:h,centerDelta:{x:p-s,y:f-i},positionDelta:{left:r-s,top:l-i},topLeft:{x:r,y:l}}}(mt,{x:t.clientX,y:t.clientY},ft.container,e),ft.position={x:t.clientX+pt.centerDelta.x,y:t.clientY+pt.centerDelta.y},ft.mousePosition={x:t.clientX,y:t.clientY},ut=ht.filter((function(t){return t.isDragRelevant(a,ft.payload)})),ft.relevantContainers=ut,_t=Qt(ut),yt&&yt({reset:!0,draggableInfo:void 0}),yt=Zt(a,ut),ut.forEach((function(t){return t.prepareDrag(t,ut)})),Jt(!0),_t(ft),St().appendChild(pt.ghost),xt.start()}}var ee=null;function ae(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=pt,s=o.ghost,i=o.topLeft,n=i.x,r=i.y,c=!ft.container||ft.container.shouldUseTransformForGhost(),l=c?"translate3d(".concat(n,"px,").concat(r,"px, 0)"):null;if(1!==e&&(l=l?"".concat(l," scale(").concat(e,")"):"scale(".concat(e,")")),0<t)return pt.ghost.style.transitionDuration=t+"ms",void requestAnimationFrame((function(){l&&(s.style.transform=l),c||(s.style.left=n+"px",s.style.top=r+"px"),ee=null,a&&(s.style.opacity="0")}));null===ee&&(ee=requestAnimationFrame((function(){l&&(s.style.transform=l),c||(s.style.left=n+"px",s.style.top=r+"px"),ee=null,a&&(s.style.opacity="0")})))}function oe(){if(vt&&!bt&&!gt){Ct=!(bt=!0);var t=Object.assign({},ft,{targetElement:null,position:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},mousePosition:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER}});ut.forEach((function(e){e.handleDrag(t)})),ft.targetElement=null,ft.cancelDrop=!0,Kt(),bt=!1}}"undefined"!=typeof window&&function(){if("undefined"!=typeof window){var t=window.document.head||window.document.getElementsByTagName("head")[0],e=window.document.createElement("style");e.id="smooth-dnd-style-definitions";var a=st(ot);e.type="text/css",e.styleSheet?e.styleSheet.cssText=a:e.appendChild(window.document.createTextNode(a)),t.appendChild(e)}}();var se=(wt(),{register:function(t){!function(t){ht.push(t),vt&&ft&&t.isDragRelevant(ft.container,ft.payload)&&(ut.push(t),t.prepareDrag(t,ut),yt&&yt({reset:!0,draggableInfo:void 0}),yt=Zt(t,ut),_t=Qt(ut),t.handleDrag(ft))}(t)},unregister:function(t){!function(t){if(ht.splice(ht.indexOf(t),1),vt&&ft){ft.container===t&&t.fireRemoveElement(),ft.targetElement===t.element&&(ft.targetElement=null);var e=ut.indexOf(t);-1<e&&(ut.splice(e,1),yt&&yt({reset:!0,draggableInfo:void 0}),yt=Zt(t,ut),_t=Qt(ut))}}(t)},isDragging:function(){return vt},cancelDrag:oe});function ie(t,e){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:y.animationDuration;e?($(t,i),t.style.transitionDuration=a+"ms"):(F(t,i),t.style.removeProperty("transition-duration"))}function ne(t){var e=[];return Array.prototype.forEach.call(t.children,(function(a){if(a.nodeType===Node.ELEMENT_NODE){var o=a;P(a,s)||(o=function(t){if(Te.wrapChild){var e=window.document.createElement("div");return e.className="".concat(s),t.parentElement.insertBefore(e,t),e.appendChild(t),e}return t}(a)),o[n]=0,e.push(o)}else t.removeChild(a)})),e}function re(t){var e=t.layout;return function(t,a){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return function t(a,o,s,i){var n=4<arguments.length&&void 0!==arguments[4]&&arguments[4];if(i<s)return s;if(s===i){var r=e.getBeginEnd(a[s]),c=r.begin,l=r.end;return n?o<(l+c)/2?s:s+1:s}var d=Math.floor((i+s)/2),u=e.getBeginEnd(a[d]),m=u.begin,p=u.end;return o<m?t(a,o,s,d-1,n):p<o?t(a,o,d+1,i,n):n?o<(p+m)/2?d:d+1:d}(t,a,0,t.length-1,o)}}function ce(t){var e=t.element,a=t.draggables,o=t.layout,s=t.getOptions,i=function(t){var e=t.element,a=t.draggables,o=t.layout;return function(){a.forEach((function(t){ie(t,!1),o.setTranslation(t,0),o.setVisibility(t,!0)})),e[m]&&(e[m].parentNode.removeChild(e[m]),e[m]=null)}}({element:e,draggables:a,layout:o,getOptions:s}),n=(Te.dropHandler||q)({element:e,draggables:a,layout:o,getOptions:s});return function(t,e){var a=e.addedIndex,o=e.removedIndex,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(i(),!t.cancelDrop&&(t.targetElement||s().removeOnDropOut||r)){var c={removedIndex:o,addedIndex:null!==a?null!==o&&o<a?a-1:a:null,payload:t.payload};n(c,s().onDrop)}}}function le(t){var e=t.element,a=t.getOptions,o=null;return function(t){var s=t.draggableInfo,i=o;return null==o&&s.container.element===e&&"copy"!==a().behaviour&&(i=o=s.elementIndex),{removedIndex:i}}}function de(t){var e=t.draggables,a=t.layout;return function(t){var o=t.dragResult;null!==o.removedIndex&&a.setVisibility(e[o.removedIndex],!1)}}function ue(t){var e=t.element,a=t.layout;return function(t){var o=t.draggableInfo,s=document.elementFromPoint(o.position.x,o.position.y);if(s){var i=M(s,o.relevantContainers);if(i&&i.element===e)return{pos:a.getPosition(o.position)}}return{pos:null}}}function me(t){var e=t.layout,a=null;return function(t){var o=t.draggableInfo;return null===t.dragResult.pos?a=null:{elementSize:a=a||e.getSize(o.size)}}}function pe(t){var e=t.element;return function(t){var a=t.draggableInfo,o=t.dragResult;!function(t,e){var a=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];e&&a?t.targetElement=e:t.targetElement===e&&(t.targetElement=null)}(a,e,!!o.pos)}}function fe(){return function(t){return null!==t.dragResult.pos?{addedIndex:0}:{addedIndex:null}}}function he(t){var e=t.layout,a=null;return function(t){var o=t.dragResult.addedIndex;if(o===a)return null;a=o;var s=e.getBeginEndOfContainer(),i=s.begin;return s.end,{shadowBeginEnd:{rect:e.getTopLeftOfElementBegin(i)}}}}function ve(t){var e=t.layout,a=t.element,o=t.getOptions,s=null;return function(t){var i=t.dragResult,n=i.elementSize,r=i.shadowBeginEnd,c=i.addedIndex,l=i.dropPlaceholderContainer,d=o();if(d.dropPlaceholder){var u="boolean"==typeof d.dropPlaceholder?{}:d.dropPlaceholder,m=u.animationDuration,p=u.className,f=u.showOnTop;if(null===c)return l&&null!==s&&a.removeChild(l),s=null,{dropPlaceholderContainer:void 0};if(!l){var h=document.createElement("div"),_=document.createElement("div");_.className=C,h.className="".concat(b," ").concat(p||v),(l=document.createElement("div")).className="".concat(g),l.style.position="absolute",void 0!==m&&(l.style.transition="all ".concat(m,"ms ease")),l.appendChild(_),_.appendChild(h),e.setSize(l.style,n+"px"),l.style.pointerEvents="none",f?a.appendChild(l):a.insertBefore(l,a.firstElementChild)}return s!==c&&r.dropArea&&e.setBegin(l.style,r.dropArea.begin-e.getBeginEndOfContainer().begin+"px"),s=c,{dropPlaceholderContainer:l}}return null}}function be(t){var e=Oe(t);return function(t){var a=t.draggableInfo,o=t.dragResult;return a.invalidateShadow?e({draggableInfo:a,dragResult:o}):null}}function ge(t){var e=function(t){var e=t.draggables,a=re({layout:t.layout});return function(t){var o=t.dragResult,s=o.shadowBeginEnd,i=o.pos;if(s)return s.begin+s.beginAdjustment<=i&&s.end>=i?null:i<s.begin+s.beginAdjustment?a(e,i):i>s.end?a(e,i)+1:e.length;var n=a(e,i,!0);return null!==n?n:e.length}}(t);return function(t){var a=t.dragResult,o=null;return null!==a.pos&&null===(o=e({dragResult:a}))&&(o=a.addedIndex),{addedIndex:o}}}function Ce(){var t=null;return function(e){var a=e.dragResult,o=a.addedIndex,s=a.shadowBeginEnd;o!==t&&null!==t&&s&&(s.beginAdjustment=0),t=o}}function _e(t){var e=t.element,a=t.draggables,o=t.layout,s=t.getOptions,i=null;return function(t){var r=t.dragResult,c=r.addedIndex,l=r.removedIndex,d=r.elementSize;if(null===l)if(null!==c){if(!i){var p=o.getBeginEndOfContainer();p.end=p.begin+o.getSize(e);var f=o.getScrollSize(e)>o.getSize(e)?p.begin+o.getScrollSize(e)-o.getScrollValue(e):p.end,h=0<a.length?o.getBeginEnd(a[a.length-1]).end-a[a.length-1][n]:p.begin;if(f<h+d){(i=window.document.createElement("div")).className=u+" "+s().orientation;var v=0<a.length?d+h-f:d;return o.setSize(i.style,"".concat(v,"px")),e.appendChild(i),e[m]=i,{containerBoxChanged:!0}}}}else if(i){o.setTranslation(i,0);var b=i;return i=null,e.removeChild(b),{containerBoxChanged:!(e[m]=null)}}}}function ye(t){var e=t.draggables,a=t.layout,o=null,s=null;return function(t){var i=t.dragResult,n=i.addedIndex,r=i.removedIndex,c=i.elementSize;if(n!==o||r!==s){for(var l=0;l<e.length;l++)if(l!==r){var d=e[l],u=0;null!==r&&r<l&&(u-=c),null!==n&&n<=l&&(u+=c),a.setTranslation(d,u)}return{addedIndex:o=n,removedIndex:s=r}}}}function Oe(t){var e=t.draggables,a=t.layout,o=null;return function(t){var s=t.draggableInfo,i=t.dragResult,n=i.addedIndex,r=i.removedIndex,c=i.elementSize,l=i.pos,d=i.shadowBeginEnd;if(null===l)return{shadowBeginEnd:o=null};if(null===n||!s.invalidateShadow&&n===o)return null;var u=n-1,m=Number.MIN_SAFE_INTEGER,p=0,f=0,h=null,v=null;if(u===r&&u--,-1<u){var b=a.getSize(e[u]);if(v=a.getBeginEnd(e[u]),c<b){var g=(b-c)/2;m=v.end-g}else m=v.end;p=v.end}else v={end:a.getBeginEndOfContainer().begin},p=a.getBeginEndOfContainer().begin;var C=Number.MAX_SAFE_INTEGER,_=n;if(_===r&&_++,_<e.length){var y=a.getSize(e[_]);if(h=a.getBeginEnd(e[_]),c<y){var O=(y-c)/2;C=h.begin+O}else C=h.begin;f=h.begin}else h={begin:a.getContainerRectangles().rect.end},f=a.getContainerRectangles().rect.end-a.getContainerRectangles().rect.begin;var E=v&&h?a.getTopLeftOfElementBegin(v.end):null;return o=n,{shadowBeginEnd:{dropArea:{begin:p,end:f},begin:m,end:C,rect:E,beginAdjustment:d?d.beginAdjustment:0}}}}function Ee(){var t=null;return function(e){var a=e.dragResult,o=a.pos,s=a.addedIndex,i=a.shadowBeginEnd;if(null!==o){if(null!=s&&null===t){if(o<i.begin){var n=o-i.begin-5;i.beginAdjustment=n}t=s}}else t=null}}function xe(t){var e=t.getOptions,a=!1,o=e();return function(t){var e=!!t.dragResult.pos;e!==a&&((a=e)?o.onDragEnter&&o.onDragEnter():o.onDragLeave&&o.onDragLeave())}}function Ie(t){var e=t.getOptions,a=null,o=e();return function(t){var e=t.dragResult,s=e.addedIndex,i=e.removedIndex,n=t.draggableInfo,r=n.payload,c=n.element;if(o.onDropReady&&null!==s&&a!==s){var l=a=s;null!==i&&i<s&&l--,o.onDropReady({addedIndex:l,removedIndex:i,payload:r,element:c?c.firstElementChild:void 0})}}}function we(t){return"drop-zone"===t.getOptions().behaviour?Se(t)(le,de,ue,me,pe,fe,he,xe,Ie):Se(t)(le,de,ue,me,pe,be,ge,Ce,_e,ye,Oe,ve,Ee,xe,Ie)}function Se(t){return function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];var s=a.map((function(e){return e(t)})),i=null;return function(t){return i=s.reduce((function(e,a){return Object.assign(e,a({draggableInfo:t,dragResult:e}))}),i||{addedIndex:null,removedIndex:null,elementSize:null,pos:null,shadowBeginEnd:null})}}}function je(t){return function(e){var a=Object.assign({},y,e),o=null,i=null,n=function(t,e){var a=ne(t),o=e();return $(t,"".concat(l," ").concat(o.orientation)),{element:t,draggables:a,getOptions:e,layout:G(t,o.orientation,o.animationDuration)}}(t,p),r=we(n),c=ce(n),d=function(t,e){var a=[];function o(){a&&(a.forEach((function(t){return t.removeEventListener("scroll",e)})),window.removeEventListener("scroll",e))}return function(){for(var e=t;e;)(S(e,"x")||S(e,"y"))&&a.push(e),e=e.parentElement}(),{dispose:function(){o(),a=null},start:function(){a&&(a.forEach((function(t){return t.addEventListener("scroll",e)})),window.addEventListener("scroll",e))},stop:o}}(t,(function(){n.layout.invalidateRects(),u()}));function u(){null!==i&&(i.invalidateShadow=!0,o=r(i),i.invalidateShadow=!1)}function m(t,e){for(var a=ne(e),o=0;o<a.length;o++)t[o]=a[o];for(var s=0;s<t.length-a.length;s++)t.pop()}function p(){return a}return{element:t,draggables:n.draggables,isDragRelevant:function(t){var e=t.element,a=t.getOptions;return function(t,o){var i=a();if(i.shouldAcceptDrop)return i.shouldAcceptDrop(t.getOptions(),o);var n=t.getOptions();return"copy"!==i.behaviour&&N(e,"."+s)!==t.element&&(t.element===e||!(!n.groupName||n.groupName!==i.groupName))}}(n),layout:n.layout,dispose:function(t){d.dispose(),function(t){Te.wrapChild&&Array.prototype.forEach.call(t.children,(function(e){e.nodeType===Node.ELEMENT_NODE&&P(e,s)&&(t.insertBefore(e.firstElementChild,e),t.removeChild(e))}))}(t.element)},prepareDrag:function(t,e){var a=t.element,o=n.draggables;m(o,a),t.layout.invalidateRects(),o.forEach((function(t){return ie(t,!0,p().animationDuration)})),d.start()},handleDrag:function(t){return o=r(i=t)},handleDrop:function(e){d.stop(),o&&o.dropPlaceholderContainer&&t.removeChild(o.dropPlaceholderContainer),i=null,r=we(n),c(e,o),o=null},fireRemoveElement:function(){c(i,Object.assign({},o,{addedIndex:null}),!0),o=null},getDragResult:function(){return o},getTranslateCalculator:function(t){return ye(n)(t)},onTranslated:function(){u()},setDraggables:function(){m(n.draggables,t)},getScrollMaxSpeed:function(){return Te.maxScrollSpeed},shouldUseTransformForGhost:function(){return!0===Te.useTransformForGhost},getOptions:p,setOptions:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];a=!1===e?Object.assign({},y,t):Object.assign({},y,a,t)}}}}var Te=function(t,e){var a=je(t)(e);return t[o]=a,se.register(a),{dispose:function(){se.unregister(a),a.dispose(a)},setOptions:function(t,e){a.setOptions(t,e)}}};function Re(t,e,a){Object.defineProperty(t,a,{set:function(t){e[a]=t},get:function(){return e[a]}})}function De(t,e){return console.warn('default export is deprecated. please use named export "smoothDnD"'),Te(t,e)}Te.wrapChild=!0,Te.cancelDrag=function(){se.cancelDrag()},Te.isDragging=function(){return se.isDragging()},De.cancelDrag=function(){Te.cancelDrag()},De.isDragging=function(){return Te.isDragging()},Re(De,Te,"useTransformForGhost"),Re(De,Te,"maxScrollSpeed"),Re(De,Te,"wrapChild"),Re(De,Te,"dropHandler"),t.smoothDnD=Te,t.constants=_,t.dropHandlers=V,t.default=De,Object.defineProperty(t,"__esModule",{value:!0})}))},de9c:function(t,e,a){},ed2b:function(t,e,a){"use strict";a("0e05")},eea2:function(t,e,a){},f574:function(t,e,a){"use strict";var o=function(){var t=this,e=t._self._c;return e("div",[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("div",[0===t.keysList.length?e("div",[e("b-row",[e("b-col",[e("div",{staticClass:"card p-5 text-center"},[e("i",{staticClass:"bx bx-info-circle text-danger",staticStyle:{"font-size":"40px"}}),e("h4",{staticClass:"text-danger m-0",staticStyle:{"font-size":"18px"}},[t._v(" "+t._s(t.$t("auth.no_e_signatures_found"))+" ")])])])],1)],1):t._e(),t.loading?e("div",{staticClass:"text-center p-10"},[e("b-spinner",{attrs:{variant:"primary",type:"grow"}})],1):e("div",t._l(t.keysList,(function(a,o){return e("b-row",{key:o,staticClass:"mb-2"},[e("b-col",[e("b-overlay",{attrs:{opacity:.1,show:t.loadingButton&&t.currentItem.TIN==a.TIN,rounded:"sm"}},[e("b-card",{attrs:{"no-body":""}},[e("b-card-body",[e("div",{staticClass:"d-flex align-items-center justify-content-between"},[e("p",{staticClass:"m-0 text-primary",staticStyle:{"font-size":"1rem","font-weight":"700"}},[t._v(" "+t._s(a.CN)+" ")]),e("button",{staticClass:"btn btn-success btn-md float-right",staticStyle:{width:"200px"},attrs:{disabled:a.expired},on:{click:function(e){return t.openSignModal(a)}}},[e("i",{staticClass:"fa fa-check"}),t._v(" "+t._s(t.$t("actions.selectKey"))+" ")])]),e("br"),e("div",{staticClass:"d-flex mt-2 align-items-center justify-content-start"},[e("div",[e("p",{staticClass:"m-0 text-muted font-weight-bold",staticStyle:{"font-size":"0.875rem"}},[t._v(" "+t._s(t.$t("login.inn"))+" ")]),e("p",{staticClass:"m-0 text-dark"},[t._v(t._s(a.TIN))])]),e("div",{staticClass:"pl-5 ml-3"},[e("p",{staticClass:"m-0 text-muted font-weight-bold text",staticStyle:{"font-size":"0.875rem"}},[t._v(" "+t._s(t.$t("login.numberLicence"))+" ")]),e("p",{staticClass:"m-0 text-dark"},[t._v(t._s(a.serialNumber))])]),e("div",{staticClass:"pl-5 ml-3"},[e("p",{staticClass:"m-0 text-muted font-weight-bold text",staticStyle:{"font-size":"0.875rem"}},[t._v(" "+t._s(t.$t("login.srokLicence"))+" ")]),e("p",{staticClass:"m-0 text-dark"},[t._v(" "+t._s(t.getDateFormat(a.validFrom))+" - "+t._s(t.getDateFormat(a.validTo))+" ")])])])])],1)],1)],1)],1)})),1)])])],1),e("b-modal",{attrs:{"no-close-on-backdrop":!0,"hide-header":!0,"ok-title":t.$t("actions.yes"),"cancel-title":t.$t("actions.no")},on:{close:function(e){return t.hideModal("signModal")},cancel:function(e){return t.hideModal("signModal")},ok:t.signByEimzo},model:{value:t.signModal,callback:function(e){t.signModal=e},expression:"signModal"}},[e("h4",[t._v(t._s(t.modalTitle))]),t.loadingButton?e("div",{staticClass:"text-center p-10"},[e("b-spinner",{attrs:{variant:"primary",type:"grow"}})],1):t._e()])],1)},s=[],i=a("c7eb"),n=a("1da1"),r=(a("e9c4"),a("d3b7"),a("25f0"),a("14d9"),a("1f92")),c=3,l=37,d="   E-IMZO.       E-IMZO   E-IMZO.",u="    WebSocket.    .",m=' !!!     E-IMZO   E-IMZO.<br /><a href="https://e-imzo.uz/main/downloads/" role="button">  E-IMZO</a>',p=" .",f={props:["dataToSign"],data:function(){return{loading:!1,keysList:[],currentItem:null,modalTitle:null,signModal:!1,loadingButton:!1}},name:"LOGINESP",created:function(){var t=this;return Object(n["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.appLoad();case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()},methods:{hideModal:function(t){this.$data[t]=!1},wsError:function(t){var e=this;return Object(n["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t?e.uiShowMessage("errorCAPIWS : "+t):e.uiShowMessage("errorBrowserWS");case 1:case"end":return a.stop()}}),a)})))()},signByEimzo:function(t){var e=this;return Object(n["a"])(Object(i["a"])().mark((function t(){var a,o,s;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loadingButton=!0,a=e,o=JSON.stringify(e.dataToSign),s=new Promise((function(t,e){EIMZOClient.loadKey(a.currentItem,(function(s){EIMZOClient.createPkcs7(s,o,null,(function(e){t(e)}),(function(t,o){if(e("error"),a.loadingButton=!1,o)-1!=o.indexOf("BadPaddingException")?a.showMsgError(p):a.showMsgError(o);else{var s=document.getElementById("keyId");s&&(s.innerHTML=""),a.showMsgError(u)}t&&a.wsError(t)}))}),(function(t,o){e("error"),a.loadingButton=!1,o?-1!=o.indexOf("BadPaddingException")?a.showMsgError(p):a.showMsgError(o):a.$showMsgErro(u),t&&a.wsError(t)}))})),s.then((function(t){a.$emit("sign",{inn:a.currentItem.TIN,content:t,pnfl:a.currentItem.PINFL})}),(function(t){console.log(t),a.showMsgError("Server error...")})).finally((function(){a.signModal=!1,a.loadingButton=!1}));case 5:case"end":return t.stop()}}),t)})))()},openSignModal:function(t){var e=this;return Object(n["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.currentItem=t,e.modalTitle=t.serialNumber+" - "+t.CN,e.signByEimzo();case 3:case"end":return a.stop()}}),a)})))()},getDateFormat:function(t){var e=new Date(t),a=e.getMonth()+1;return e.getDate().toString()+"."+(a<=9?"0"+a:a).toString()+"."+e.getFullYear().toString()},uiCreateItem:function(t,e){var a=this,o=new Date;e.expired=dates.compare(o,e.validTo)>0;var s=document.createElement("option");return s.value=t,s.text=e.CN,e.expired&&(s.style.color="gray",s.text=s.text+" ( )"),a.keysList.push(e),s.setAttribute("vo",JSON.stringify(e)),s.setAttribute("id",t),s},uiLoadKeys:function(){var t=this;return Object(n["a"])(Object(i["a"])().mark((function e(){var a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,EIMZOClient.listAllUserKeys((function(t,e){var a="itm-"+t.serialNumber+"-"+e;return a}),(function(t,e){return a.uiCreateItem(t,e)}),(function(t,e){}),(function(t,e){a.showMsgError(d)}));case 2:case"end":return e.stop()}}),e)})))()},appLoad:function(){var t=this;t.loading=!0,EIMZOClient.API_KEYS=r.api_keys,EIMZOClient.checkVersion((function(e,a){var o=100*c+l,s=100*parseInt(e)+parseInt(a);s<o?(t.loading=!1,t.showMsgError(m)):EIMZOClient.installApiKeys((function(){t.loading=!1,t.uiLoadKeys()}),(function(e,a){t.loading=!1,a?t.showMsgError(a):t.wsError(e)}))}),(function(e,a){t.loading=!1,a?t.showMsgError(a):t.showMsgError(e)}))},close:function(){var t=this;return Object(n["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$emit("close");case 2:case"end":return e.stop()}}),e)})))()}}},h=f,v=a("2877"),b=Object(v["a"])(h,o,s,!1,null,null,null);e["a"]=b.exports},fd75:function(t,e,a){},fd8d:function(t,e,a){"use strict";a("bd1a")},fecd:function(t,e,a){}}]);