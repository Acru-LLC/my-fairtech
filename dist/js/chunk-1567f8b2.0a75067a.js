(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1567f8b2"],{2532:function(t,e,a){"use strict";var n=a("23e7"),o=a("e330"),r=a("5a34"),i=a("1d80"),c=a("577e"),s=a("ab13"),d=o("".indexOf);n({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~d(c(i(this)),c(r(t)),arguments.length>1?arguments[1]:void 0)}})},"3c65":function(t,e,a){"use strict";var n=a("23e7"),o=a("7b0b"),r=a("07fa"),i=a("3a34"),c=a("083a"),s=a("3511"),d=1!==[].unshift(0),l=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}();n({target:"Array",proto:!0,arity:1,forced:d||l},{unshift:function(t){var e=o(this),a=r(e),n=arguments.length;if(n){s(a+n);var d=a;while(d--){var l=d+n;d in e?e[l]=e[d]:c(e,l)}for(var u=0;u<n;u++)e[u]=arguments[u]}return i(e,a+n)}})},"412f":function(t,e,a){"use strict";a("43d1")},"43d1":function(t,e,a){},"5b9c":function(t,e,a){},"62aa":function(t,e,a){},"8aaa":function(t,e,a){"use strict";a("62aa")},a7b9:function(t,e,a){"use strict";var n=a("5530"),o=(a("99af"),a("ac1f"),a("841c"),a("d81d"),a("f2db"));e["a"]={stopFormingTheReport:function(t){return o["a"].post("/docReport/changeReportType?reportId=".concat(t))},deleteRowId:function(t,e){return o["a"].delete("/docReport/delete/report-data/".concat(t,"?reportId=").concat(e))},deleteDocReport:function(t){return o["a"].delete("/docReport/delete/".concat(t))},saveGatheredReport:function(t,e,a){var n=t.tableId,r=t.childDateTypeId;return o["a"].post("/docReport/saveGatheredDocReportData?childDateTypeId=".concat(r.id,"&tableId=").concat(n.id,"&reportDate=").concat(new Date(e.date).ddmmyyyyWithDash()),a)},checkEmployeeIfWorksInDep:function(){return o["a"].get("/docReportDepartment/checkEmployeeIfWorksInDep")},makeCancelled2:function(t,e){return o["a"].post("/docReport/makeCancelled2/".concat(t,"?decidedComment=").concat(e))},makeApproved2:function(t){return o["a"].post("/docReport/makeApproved2/".concat(t))},getGather:function(t){var e=t.tableId,a=t.childDateTypeId;return o["a"].post("/docReport/gatherDocReport/".concat(e.id,"/").concat(a.id))},getQrCode:function(t){return o["a"].get("/docReport/getQRCode/".concat(t))},saveRejectedReport:function(t,e){return o["a"].post("/docReport/makeCancelled/".concat(t,"?comment=").concat(e))},signDocReport:function(t,e){return o["a"].post("/docReport/makeSigned/".concat(e),t)},getReceivers:function(t){return o["a"].get("/docReport/getAssigmentByReportId/".concat(t))},sendDocReport:function(t){var e=t.receiverDepId,a=t.signerId,n=t.reportId;return o["a"].post("/docReport/sendDocReport?receiverDepId=".concat(e,"&reportId=").concat(n,"&signerId=").concat(a))},sendDocReportSignerMe:function(t,e){return o["a"].post("/docReport/sendDocReportAndMakeSigned?receiverDepId=".concat(t.receiverDepId,"&reportId=").concat(t.reportId),e)},listDocReportIncome:function(t,e){var a=t.params,n=t.search,r=Object.assign({},a);return r.itemsPerPage=a.limit,delete r.limit,o["a"].post("/docReport/incomeList?search=".concat(n),r)},listDepartmentForDocument:function(t){return o["a"].post("/department/list-search/for-document/".concat(t))},listDocReportSent:function(t,e){var a=t.params,n=t.search,r=Object.assign({},a);return r.itemsPerPage=a.limit,delete r.limit,o["a"].post("/docReport/sendList?search=".concat(n),r)},listDocReportDraft:function(t,e){var a=t.params,n=t.search,r=Object.assign({},a);return r.itemsPerPage=a.limit,delete r.limit,o["a"].post("/docReport/draftList?search=".concat(n),r)},listDocReportGathered:function(t,e){var a=t.params,n=t.search,r=Object.assign({},a);return r.itemsPerPage=a.limit,delete r.limit,o["a"].post("/docReport/gatherList?search=".concat(n),r)},deleteDepartmentsTashkiliy:function(t){return o["a"].delete("/docReportDepartment/delete/".concat(t))},saveDepartmentsTashkiliy:function(t){return o["a"].post("/docReportDepartment/create",t)},getDepartmentsTashkiliy:function(t){var e=t.params,a=t.search,n=Object.assign({},e);return n.itemsPerPage=e.limit,delete n.limit,o["a"].post("/docReportDepartment/list?search=".concat(a),n)},getByparentId:function(t){return o["a"].post("directoryDepartment/listByParentId/".concat(t))},deleteFormula:function(t){return o["a"].delete("/docTable/delete-formula/".concat(t))},reportGetById:function(t){return o["a"].get("/docReport/get-by-id/".concat(t))},sendReportForConfirmation:function(t){return o["a"].post("/docReport/sendDocReport?reportId=".concat(t))},getOwnTable:function(t){var e=t.params,a=t.search,n=Object.assign({},e);return n.itemsPerPage=e.limit,delete n.limit,o["a"].post("/departmentTable/ownDocTableList?search=".concat(a),n)},getOwnTableForGather:function(t){var e=t.params,a=t.search,n=Object.assign({},e);return n.itemsPerPage=e.limit,delete n.limit,o["a"].post("/departmentTable/ownDocTableList/for-gather?search=".concat(a),n)},getOwnTableForGather_D:function(t){var e=t.params,a=t.search,n=Object.assign({},e);return n.itemsPerPage=e.limit,delete n.limit,o["a"].post("/departmentTable/ownDocTableList/for-gather?search=".concat(a),n)},getByDepartments:function(t){return o["a"].get("/departmentTable/depsByTableId/".concat(t))},getListDateTypes:function(t,e){var a=Object.assign({},t);return a.itemsPerPage=t.limit,delete a.limit,o["a"].post("/dateType/list-search?keyword=".concat(null!==e&&void 0!==e?e:""),a)},getListByParentId:function(t,e){return o["a"].post("/dateType/listByParentId/".concat(t),e)},addDepartmentTable:function(t,e){var a={departmentIds:t,docTableIds:[e.id]};return o["a"].post("/departmentTable/fullCreate",a)},getAllYuridik:function(){return o["a"].post("/department/list-search")},saveTable:function(t,e,a,r,i){var c=Object(n["a"])(Object(n["a"])({},t),{},{columnIds:e.map((function(t){return t.id})),rowIds:a.map((function(t){return t.id})),columnObjects:r,rowObjects:i});return o["a"].post("/docTable/create",c)},getReportById:function(t){return o["a"].get("/docReport/getDataById/".concat(t))},autoGenerateReport:function(t,e){return o["a"].post("/docReport/automatic-generate?reportId=".concat(t,"&columnIds=").concat(e),{})},fillDocReport:function(t,e){return o["a"].post("/docReport/fillDocReport?reportId=".concat(e),t)},getListTable:function(t){var e=t.params,a=t.search,n=t.departmentId,r={itemsPerPage:e.limit,page:e.page};return o["a"].post("/docTable/list-search?keyword=".concat(a,"&departmentId=").concat(n||""),r)},getByIdTable:function(t){return o["a"].get("/docTable/mixTableByTableId/".concat(t))},getByIdTableWithReportId:function(t,e){return o["a"].get("/docTable/mixTableByReportId/".concat(t,"/").concat(e))},getDocTableFormulasList:function(t){return o["a"].get("/docTable/get-tables-formulas/".concat(t))},deleteDocTableFormulas:function(t,e){return o["a"].delete("/docTable/delete-tables-formulas/".concat(t,"/").concat(e))},saveFormulaRight:function(t,e){return o["a"].post("/docTable/add-formula/".concat(e,"?disabledF1=",!0),t)},saveFormula:function(t,e){return o["a"].post("/docTable/add-formula/".concat(e),t)},saveAddReturnableDepartment:function(t,e){return o["a"].post("/docTable/add-returnable-department/".concat(t,"/").concat(e))},formulasByTableId_2:function(t){return o["a"].get("/docTable/formulasByTableId/".concat(t,"?disabledF1=",!0))},formulasByTableId:function(t){return o["a"].get("/docTable/formulasByTableId/".concat(t))},createDocReport:function(t){return o["a"].post("/docReport/createDocReport?date=".concat(t.date,"&tableId=").concat(t.tableId?t.tableId.id:"","&dateTypeId=").concat(t.dateTypeId?t.dateTypeId.id:"","&nameUz=").concat(t.nameUz,"&nameLt=").concat(t.nameLt,"&nameRu=").concat(t.nameRu))},createCopyDocReport:function(t){return o["a"].post("/docReport/createDuplicateDocReport?date=".concat(t.date,"&reportId=").concat(t.id,"&dateTypeId=").concat(t.dateTypeId?t.dateTypeId.id:"","&nameUz=").concat(t.nameUz,"&nameLt=").concat(t.nameLt,"&nameRu=").concat(t.nameRu))},listDocReport:function(t,e){var a=t.params,n=t.search;return o["a"].post("/docReport/list?search=".concat(n,"&status=").concat(e),a)},getListColumnWithChildren:function(t){var e=t.params,a=t.search,n={itemsPerPage:e.limit,page:e.page};return o["a"].post("/docColumn/list-with-children?search=".concat(a),n)},getListColumn:function(t){var e=t.params,a=t.search;return o["a"].post("/docColumn/list?search=".concat(a),e)},createColumn:function(t){return o["a"].post("/docColumn/create",t)},deleteColumn:function(t){return o["a"].delete("/docColumn/delete/".concat(t))},updateColumn:function(t){return o["a"].post("/docColumn/update",t)},createColumnWithParent:function(t,e,a){return o["a"].post("/docColumn/create/joinColumn?childIds=".concat(e.map((function(t){return t.id}))),Object(n["a"])(Object(n["a"])({},t),{childObjects:a}))},getValueList:function(){var t={itemsPerPage:50,page:0};return o["a"].post("/directory-type/list-search?keyword=",t)},getListRowWithChildren:function(t){var e=t.params,a=t.search,n=Object.assign({},e);return n.itemsPerPage=e.limit,delete n.limit,o["a"].post("/docRow/list-with-children?search=".concat(a),n)},createRowWithParent:function(t,e,a){return o["a"].post("/docRow/create/joinRow?childIds=".concat(e.map((function(t){return t.id}))),Object(n["a"])(Object(n["a"])({},t),{childObjects:a}))},getListRow:function(t){var e=t.params,a=t.search,n={itemsPerPage:e.limit,page:e.page};return o["a"].post("/docRow/list?search=".concat(a),n)},createRow:function(t){return o["a"].post("/docRow/create",t)},deleteRow:function(t){return o["a"].delete("/docRow/delete/".concat(t))},updateRow:function(t){return o["a"].post("/docRow/update",t)},statusChangeRow:function(t,e){return o["a"].post("/docTable/change-status/?id=".concat(t,"&statusId=").concat(e))},updateRowInfo:function(t){return o["a"].put("/docTable/update/".concat(t.id),t)},getListDateTypesChild:function(t,e){var a=t.params,n=t.search,r=Object.assign({},a);return r.itemsPerPage=a.limit,delete r.limit,o["a"].post("/dateType/listByParentId/".concat(e,"?search=").concat(n),r)},reportListForCollection:function(t,e,a){var n=Object.assign({},a);return n.page-=1,o["a"].post("/docReport/list/for-collection/".concat(t,"/").concat(e),n)},createAndFillGatherReport:function(t,e,a){var n=Object.assign({reportInfoForGather:t,reportData:e},a);return n.page-=1,o["a"].post("/docReport/create-and-fill/gather-report",n)}}},bd089:function(t,e,a){"use strict";a("5b9c")},e5d2:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"col-md-12 text-center"},[e("div",{staticClass:"h4 mb-4 d-inline-block"},[t._v(t._s(t.$t("reportRoles")))])]),e("div",[e("b-modal",{attrs:{"cancel-variant":"outline-danger","ok-variant":"success","no-close-on-backdrop":!0,"ok-title":t.$t("actions.save"),"cancel-title":t.$t("actions.cancel"),size:"lg",scrollable:"",title:t.$t("yuridikDep")},on:{close:function(e){t.modalShare=!1},cancel:function(e){t.modalShare=!1},ok:t.okModal},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.modalShare=!1}}},[t._v(t._s(t.$t("actions.close"))+" ")]),e("b-overlay",{attrs:{opacity:.1,show:t.loaderShare,rounded:"sm"}},[e("b-button",{attrs:{variant:"success"},on:{click:t.okShareModal}},[t._v(" "+t._s(t.$t("actions.save"))+" ")])],1)]},proxy:!0}]),model:{value:t.modalShare,callback:function(e){t.modalShare=e},expression:"modalShare"}},[e("Oraganizations",{ref:"organizationsRef",attrs:{selectedDepsIds:t.list}})],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row mb-2"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"mr-2 mb-2 d-inline-block"},[e("div",{staticClass:"search-box"},[e("div",{staticClass:"position-relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"form-control rounded bg-light border-light",staticStyle:{width:"300px"},attrs:{type:"text",placeholder:t.$t("actions.search")},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value)}}}),e("i",{staticClass:"mdi mdi-magnify search-icon"})])])])]),e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"text-sm-right"},[e("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.share}},[e("i",{staticClass:"mdi mdi-plus mr-1"}),t._v(" "+t._s(t.$t("actions.add"))+" ")])],1)])]),e("Table",{ref:"tableRef",attrs:{page:t.page,limit:t.limit,list:t.list,loading:t.loading},on:{share:t.share,showModal:t.actionClick},scopedSlots:t._u([{key:"thead",fn:function(){return[e("tr",[e("th",{staticClass:"text-center",staticStyle:{width:"10px !important"}},[t._v(" â„– ")]),e("th",[t._v(t._s(t.$t("column.department")))]),e("th",{staticClass:"text-center",staticStyle:{width:"14% !important"}},[t._v(" "+t._s(t.$t("column.actions"))+" ")])])]},proxy:!0},{key:"pagination",fn:function(){return[t.total>0?e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("b-pagination",{staticClass:"m-0",attrs:{size:"sm","total-rows":t.total,"per-page":t.limit},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)]):t._e()]},proxy:!0}])})],1)])])])],1)])},o=[],r=(a("a4d3"),a("e01a"),a("d3b7"),a("14d9"),a("d81d"),function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"table-responsive mb-0"},[e("b-overlay",{attrs:{opacity:.1,show:t.loading,rounded:"sm"}},[e("table",{staticClass:"table table-centered table-nowrap"},[e("thead",{staticClass:"thead-light"},[t._t("thead")],2),e("tbody",[t._l(t.list,(function(a,n){return[e("Tr",{key:a.id+"Room",attrs:{index:n,data:a},scopedSlots:t._u([{key:"index",fn:function(){return[e("td",{staticClass:"text-center"},[e("strong",[t._v(t._s(t.paginate(n,t.limit,t.page-1)))])])]},proxy:!0},{key:"name",fn:function(){return[e("td",{staticClass:"text-center"},[e("span",{},[t._v(" "+t._s(t.getName({nameLt:a.nameLt,nameRu:a.nameRu,nameUz:a.nameUz}))+" ")])])]},proxy:!0},{key:"actions",fn:function(){return[e("td",{staticClass:"text-center"},[e("b-button",{staticClass:"ml-2",attrs:{size:"sm",variant:"light"},on:{click:function(e){return t.$emit("showModal","delete",a)}}},[e("i",{staticClass:"bx bx-trash font-size-18",on:{click:function(e){return t.$emit("showModal","delete",a)}}})])],1)]},proxy:!0}],null,!0)})]})),0==t.list.length?e("tr",{staticClass:"text-center"},[e("td",{staticStyle:{"vertical-align":"middle"},style:t.loading?"height:50px":"height:40px",attrs:{colspan:"9"}},[e("h6",{staticClass:"m-0"},[t._v(" "+t._s(t.$t("messages.data_not_found"))+" ")])])]):t._e()],2)])])],1),t._t("pagination")],2)}),i=[],c=(a("a9e3"),function(){var t=this,e=t._self._c;return e("tr",[t._t("index"),e("td",[e("h5",{staticClass:"font-size-14 m-0"},[e("span",{staticClass:"text-muted"},[t._v(" "+t._s("".concat(t.getName({nameLt:t.data.parentNameLt,nameRu:t.data.parentNameRu,nameUz:t.data.parentNameUz})))+" ")]),t._v(" - "),e("span",{staticClass:"text-primary font-weight-bold"},[t._v(" "+t._s("".concat(t.getName({nameLt:t.data.nameLt,nameRu:t.data.nameRu,nameUz:t.data.nameUz})))+" ")])])]),e("td"),t._t("actions")],2)}),s=[],d={data:function(){return{}},props:["data"]},l=d,u=a("2877"),p=Object(u["a"])(l,c,s,!1,null,null,null),m=p.exports,h={props:{page:{default:1,type:Number},limit:{default:20,type:Number},list:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},data:function(){return{}},components:{Tr:m}},f=h,g=Object(u["a"])(f,r,i,!1,null,null,null),b=g.exports,v=a("a7b9"),y=a("c2a4"),C=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"text-center"},[e("strong",[t._v(" "+t._s(t.$t("reportRoles"))+" ")]),e("span",{staticClass:"text-success"},[t._v(" ("+t._s(t.members.length)+") ")])]),e("div",[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[t.computedData.length>0?e("ul",{staticStyle:{"list-style-type":"none","padding-left":"0"}},[t._l(t.computedData,(function(a){return[e("org-str-tree-view",{key:a.id+"dep",staticClass:"item",attrs:{"department-for-tree":a,members:t.members},on:{toggleActiveClass:t.toggleActiveClass}})]}))],2):[e("h5",[t._v(t._s(t.$t("not_translated.not_added_sections")))])]],2)])])])},R=[],w=a("c7eb"),T=a("1da1"),D=(a("4de4"),a("a434"),a("3c65"),a("159b"),a("caad"),a("2532"),function(){var t=this,e=t._self._c;return e("li",[e("div",{staticClass:"hoverable"},[e("div",{staticClass:"d-flex align-items-center",class:{bold:t.isFolder,notBold:!t.isFolder}},[t.isFolder?[t.open?t.open?e("i",{staticClass:"mdi mdi-domain building-icon",on:{click:t.toggle}}):t._e():e("i",{staticClass:"mdi mdi-office-building building-icon",on:{click:t.toggle}})]:[e("i",{staticClass:"mdi mdi-office-building-outline building-icon"})],e("p",{ref:"depRef-".concat(t.departmentForTree.id),staticClass:"dep-name",class:1==t.members.includes(t.departmentForTree.id)?"active":"",attrs:{id:"depId-".concat(t.departmentForTree.id)},on:{click:function(e){return t.$emit("toggleActiveClass",t.departmentForTree)}}},[t._v(" "+t._s(t.departmentForTree?t.getName({nameRu:t.departmentForTree.nameRu,nameLt:t.departmentForTree.nameLt,nameUz:t.departmentForTree.nameUz}):""))])],2),e("div",[t.members.includes(t.departmentForTree.id)?e("i",{staticClass:"mdi mdi-check-decagram delete text-primary"}):t._e()])]),t.isFolder?e("ul",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}]},t._l(t.departmentForTree.children?t.departmentForTree.children:[],(function(a,n){return e("org-str-tree-view",{key:n+"depChild",staticClass:"item",attrs:{"without-actions":t.withoutActions,"without-add-action":t.withoutAddAction,"without-edit-action":t.withoutEditAction,"without-delete-action":t.withoutDeleteAction,"department-for-tree":a,members:t.members},on:{addClicked:t.emitAddClicked,editClicked:t.emitEditClicked,deleteClicked:t.emitDeleteClicked,toggleActiveClass:t.emitToggleActiveClass}})})),1):t._e()])}),I=[],k={name:"OrgStrTreeView",props:{departmentForTree:{type:Object,default:function(){}},members:{type:Array,default:function(){return[]}},withoutActions:{type:Boolean,default:!1},withoutAddAction:{type:Boolean,default:!1},withoutEditAction:{type:Boolean,default:!1},withoutDeleteAction:{type:Boolean,default:!1}},data:function(){return{open:!1,hoverState:!1}},computed:{isFolder:function(){return this.departmentForTree?this.departmentForTree.children&&this.departmentForTree.children.length:0}},methods:{emitAddClicked:function(t){this.$emit("addClicked",t)},emitEditClicked:function(t){this.$emit("editClicked",t)},emitDeleteClicked:function(t){this.$emit("deleteClicked",t)},emitToggleActiveClass:function(t){this.$emit("toggleActiveClass",t)},toggle:function(){this.isFolder&&(this.open=!this.open)}},created:function(){this.departmentForTree.parentId||(this.open=!0)}},_=k,x=(a("bd089"),Object(u["a"])(_,D,I,!1,null,"06518b08",null)),L=x.exports,O={props:{notIn:{type:Boolean,default:!1},selectedDepsIds:{type:Array,default:function(){}},async:{type:Boolean,default:!1}},components:{OrgStrTreeView:L},data:function(){return{showSelectedModal:!1,members:[],objectMembers:[],searchValue:"",contactList:[],loader:!1,children:[],childView:!1,searchValue2:"",dataStep:"this.contactList",childDataObj:{},currenData:{},oldData:{}}},mounted:function(){this.members=this.selectedDepsIds.map((function(t){return t.id}))},computed:{computedData:function(){var t=this;return this._empty(this.searchValue)?this.contactList:this.contactList.filter((function(e){return e.nameUz.toLowerCase().indexOf(t.searchValue.toLowerCase())>-1||e.nameRu.toLowerCase().indexOf(t.searchValue.toLowerCase())>-1||e.nameLt.toLowerCase().indexOf(t.searchValue.toLowerCase())>-1}))},computedDataChildren:function(){var t=this;return this._empty(this.searchValue2)?this.children:this.children.filter((function(e){return e.nameUz.toLowerCase().indexOf(t.searchValue2.toLowerCase())>-1||e.nameRu.toLowerCase().indexOf(t.searchValue2.toLowerCase())>-1||e.nameLt.toLowerCase().indexOf(t.searchValue2.toLowerCase())>-1}))}},methods:{toggleActiveClass:function(t){if(t.id){var e=this.members.indexOf(t.id),a=e>-1;a?(this.members.splice(e,1),this.objectMembers.splice(e,1)):(this.members.unshift(t.id),this.objectMembers.unshift(t.id));var n=this;t.children&&t.children.length&&t.children.forEach((function t(e){var o=n.members.indexOf(e.id),r=o>-1;a?r&&n.members.splice(o,1):r||n.members.unshift(e.id),e.children&&e.children.length&&e.children.forEach((function(e){t(e)}))}))}},giveActiveClassToDep:function(){this.members.forEach((function(t){document.getElementById("depId-".concat(t))}))},getByDepartments:function(t){var e=this;v["a"].getByDepartments(t).then((function(t){e.members=t.data.map((function(t){return t.id}))}))},pushMember:function(t){var e=this.members.indexOf(t.id);e>-1?(this.members.splice(e,1),this.objectMembers.splice(e,1)):(this.members.unshift(t.id),this.objectMembers.unshift(t))},check:function(t){var e=this.members.indexOf(t.id);return e>-1&&["font-weight-bold","text-primary"]},getContacts:function(){var t=this;this.loader=!0,v["a"].getAllYuridik().then((function(e){t.$nextTick((function(){t.contactList=[e.data]}))})).finally((function(){t.loader=!1}))}},created:function(){var t=this;return Object(T["a"])(Object(w["a"])().mark((function e(){return Object(w["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getContacts();case 2:case"end":return e.stop()}}),e)})))()},watch:{objectMembers:{handler:function(t){var e=this;return Object(T["a"])(Object(w["a"])().mark((function a(){return Object(w["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.async&&e.$emit("asyncValue",t);case 1:case"end":return a.stop()}}),a)})))()}}}},j=O,S=(a("412f"),a("8aaa"),Object(u["a"])(j,C,R,!1,null,"21e947ff",null)),F=S.exports,P=a("9225"),A=a("6275"),B={page:{title:P["default"].t("reportRows"),meta:[{name:"description",content:y.description}]},components:{Table:b,Oraganizations:F},data:function(){return{title:this.$t("reportRoles"),items:[{text:this.$t("Hisobotlar"),href:"/"},{text:this.$t("reportRoles"),active:!0}],list:[],selectedDepsIds:[],searchValue:"",page:1,limit:20,total:1,showModal:!1,mode:"create",currentSort:"block",currentSortDir:"asc",loading:!1,loader:!1,modalShare:!1,loaderShare:!1,currentReport:{}}},created:function(){this.getList()},watch:{page:function(){this.getList()},searchValue:{handler:function(){this.getList()}}},computed:{params:function(){return{params:{limit:this.limit,page:this.page-1},search:this.searchValue}}},methods:{share:function(t){this.modalShare=!0},okShareModal:function(){var t=this,e=this.$refs.organizationsRef.members;e&&e.length?(this.loaderShare=!0,v["a"].saveDepartmentsTashkiliy(e).then((function(){t.modalShare=!1,t.getList(),t.successSaved()})).catch((function(t){})).finally((function(){return t.loaderShare=!1}))):this.enterInfo()},okModal:function(){},sort:function(t){t===this.currentSort&&(this.currentSortDir="asc"===this.currentSortDir?"desc":"asc"),this.currentSort=t},toggleModal:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"create",n=arguments.length>2?arguments[2]:void 0;this.showModal=t,this.mode=a,setTimeout((function(){e.$refs.addRef.setFormData(n)}),200)},delete:function(t){var e=this;this.cnf().then((function(a){a.value&&v["a"].deleteDepartmentsTashkiliy(t.id).then((function(t){e.deleteSuccess(),e.getList()})).catch((function(t){}))}))},actionClick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;"delete"==t?this.delete(e):"edit"==t?this.toggleModal(!0,t,e):"view"==t&&this.$router.push("/report/templates/".concat(Object(A["k"])(e.id)))},successCreateAndEdit:function(){this.getList(),"create"==this.mode?this.successSaved():this.successEdited(),this.showModal=!1},create:function(t){var e=this;this.loader=!0,v["a"].createRow(this.$refs.addRef.form).then((function(t){t.data&&e.successCreateAndEdit()})).catch((function(t){})).finally((function(){e.loader=!1}))},update:function(){var t=this;this.loader=!0,v["a"].updateRow(this.$refs.addRef.form).then((function(e){e.data&&t.successCreateAndEdit()})).catch((function(t){})).finally((function(){t.loader=!1}))},getList:function(){var t=this;this.loading=!0,v["a"].getDepartmentsTashkiliy(this.params).then((function(e){t.list=e.data.list,t.total=e.data.total,t.selectedDepsIds=e.data.list.map((function(t){return t.id}))})).catch((function(t){})).finally((function(){t.loading=!1}))}}},$=B,z=Object(u["a"])($,n,o,!1,null,null,null);e["default"]=z.exports}}]);