{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\reestr-contractors\\modules\\natural\\ReestrHistoryForContractor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\reestr-contractors\\modules\\natural\\ReestrHistoryForContractor.vue","mtime":1667352074519},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpjb25zdCBNQUlOX0FQSV9VUkwgPSAncmVlc3RyL2NvbnRyYWN0b3ItcmVlc3RyLWRvY3VtZW50cycNCmNvbnN0IEFQUEVORF9BUElfVVJMX05BVFVSQUwgPSAnZm9yLWNvbnRyYWN0b3IvZXN0ZXN0dmVuaXknDQpjb25zdCBBUFBFTkRfQVBJX1VSTF9ET01JTkFOVCA9ICdmb3ItY29udHJhY3Rvci9kYW1pbmlyaXVzaGl5Jw0KaW1wb3J0IGNydWRBbmRMaXN0c1NlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvY3J1ZF9hbmRfbGlzdC5zZXJ2aWNlJw0KaW1wb3J0IGhlbHBlclNlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvaGVscGVyLnNlcnZpY2UnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAnUmVlc3RySGlzdG9yeUZvckNvbnRyYWN0b3JOYXR1cmFsJywNCiAgICBjb21wb25lbnRzOiB7fSwNCiAgICBkYXRhICgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHB1YmxpY1BhdGg6IHByb2Nlc3MuZW52LkJBU0VfVVJMLA0KICAgICAgICAgICAgLy8gYWN0aXZlVGFiSWR4Rm9yQ29udHJhY3RvcjogMCwNCiAgICAgICAgICAgIC8vIGFjdGl2ZVRhYklkeE9mSW5uZXJUYWJzOiAwLA0KICAgICAgICAgICAgZm91bmRlclRhYnM6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGtleTogImxlZ2FsIiwNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2NvbHVtbi5sZWdhbF9lbnRpdHknKSwNCiAgICAgICAgICAgICAgICAgICAgZmllbGRzOiBbDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICIjIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydGFibGU6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogImluZGV4IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnbmFtZScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5uYW1lJyksDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ3RpbicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5pbm4nKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnZm91bmRlclR5cGUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4udHlwZScpLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdmb3VuZGVyU2hhcmVQZXJjZW50JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnNoYXJlX3BlcmNlbnRhZ2UnKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnZm91bmRlclNoYXJlU3VtJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnNoYXJlX3N1bScpLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBrZXk6ICJpbmRpdmlkdWFsIiwNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2NvbHVtbi5pbmRpdmlkdWFsJyksDQogICAgICAgICAgICAgICAgICAgIGZpZWxkczogWw0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAiIyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhDbGFzczogInRleHQtY2VudGVyIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICJpbmRleCIsDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ2Z1bGxOYW1lJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLm5hbWUnKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAndGluJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmlubicpLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdwaW5mbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5wZXJzb25hbF9udW1iZXInKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnZm91bmRlclR5cGUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4udHlwZScpLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdmb3VuZGVyU2hhcmVQZXJjZW50JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnNoYXJlX3BlcmNlbnRhZ2UnKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnZm91bmRlclNoYXJlU3VtJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnNoYXJlX3N1bScpLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBjb250cmFjdG9yVGFiczogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAga2V5OiAiZ2VuZXJhbEluZm8iLA0KICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy4kdCgnY29sdW1uLmdlbmVyYWxfaW5mbycpLA0KICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IFsNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogIiMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRDbGFzczogInRleHQtY2VudGVyIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAiaW5kZXgiLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5mdWxsX25hbWUnKSwga2V5OiAiZnVsbE5hbWUiLCB0aFN0eWxlOiB7ICdtaW4td2lkdGgnOiAnMTdyZW0nIH0gfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5zdXBlcmlvcl9wYXJlbnQnKSwga2V5OiAicGFyZW50IiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnN0YXR1cycpLCBrZXk6ICJzdGF0dXMiIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdzdWJtb2R1bGVzLmZvcm1fb2Zfb3duZXJzaGlwLnRpdGxlJyksIGtleTogImZvcm1PZk93bmVyc2hpcCIgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmNhbl9sb2dpbicpLCBrZXk6ICJjYW5SZWdpc3RlciIsIHRkQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmlubicpLCBrZXk6ICJpbm4iIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ub2tlZCcpLCBrZXk6ICJva2VkIiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgLy8geyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmRpcmVjdG9yJyksIGtleTogImRpcmVjdG9yIiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgLy8geyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmFjY291bnRlcicpLCBrZXk6ICJhY2NvdW50ZXIiIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ubW9iaWxlX251bWJlcicpLCBrZXk6ICJtb2JpbGVOdW1iZXIiIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ucmVnaW9uJyksIGtleTogInJlZ2lvbk5hbWUiIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uZGlzdHJpY3QnKSwga2V5OiAiZGlzdHJpY3ROYW1lIiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmFkZHJlc3MnKSwga2V5OiAiYWRkcmVzcyIgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5waG9uZV9udW1iZXInKSwga2V5OiAicGhvbmVOdW1iZXIiIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ubWFpbCcpLCBrZXk6ICJlbWFpbCIgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5mYXhfbnVtYmVyJyksIGtleTogImZheE51bWJlciIgfQ0KICAgICAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGtleTogImRpcmVjdG9yIiwNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2NvbHVtbi5kaXJlY3RvcicpLA0KICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IFsNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdpbmRleCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICcjJw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdkaXJlY3Rvck9yQWNjb3VudGVyRnVsbE5hbWUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ubmFtZScpDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ2lubicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5pbm4nKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAncG5mbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5wZXJzb25hbF9udW1iZXInKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAga2V5OiAiYWNjb3VudGVyIiwNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2NvbHVtbi5hY2NvdW50ZXInKSwNCiAgICAgICAgICAgICAgICAgICAgZmllbGRzOiBbDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnaW5kZXgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnIycNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnZGlyZWN0b3JPckFjY291bnRlckZ1bGxOYW1lJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLm5hbWUnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdpbm4nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uaW5uJyksDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ3BuZmwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ucGVyc29uYWxfbnVtYmVyJyksDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGtleTogImZvdW5kZXJzIiwNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2NvbHVtbi5mb3VuZGVycycpLA0KICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IFsNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogIiMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRDbGFzczogInRleHQtY2VudGVyIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAiaW5kZXgiLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdmdWxsTmFtZScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5uYW1lJyksDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ2lubicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5pbm4nKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAncG5mbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5wZXJzb25hbF9udW1iZXInKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnZm91bmRlclR5cGUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4udHlwZScpLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdmb3VuZGVyU2hhcmVQZXJjZW50JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnNoYXJlX3BlcmNlbnRhZ2UnKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnZm91bmRlclNoYXJlU3VtJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnNoYXJlX3N1bScpLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICB0YWJsZUlubmVyVGFiczogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAga2V5OiAiY29udHJhY3RvciIsDQogICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCdjb2x1bW4uYnVzaW5lc3NfZW50aXR5JyksDQogICAgICAgICAgICAgICAgICAgIGZpZWxkczogWw0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ2luZGV4JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJyMnDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ25hbWUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ubmFtZScpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAga2V5OiAicHJpY2VzIiwNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2NvbHVtbi5wcmljZXMnKSwNCiAgICAgICAgICAgICAgICAgICAgZmllbGRzOiBbDQogICAgICAgICAgICAgICAgICAgICAgICB7IGxhYmVsOiBgJHt0aGlzLiR0KCdjb2x1bW4ucHJpY2VfYXBwcm92YWxfYmFzaXMnKX0gJHt0aGlzLiR0KCdjb2x1bW4uZGF0ZScpfWAsIGtleTogInByaWNlQXBwcm92YWxEYXRlIiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogYCR7dGhpcy4kdCgnY29sdW1uLmVmZmVjdGl2ZV9kYXRlX3ByaWNlJyl9YCwga2V5OiAicHJpY2VFZmZlY3RpdmVEYXRlIiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogYCR7dGhpcy4kdCgnY29sdW1uLnByaWNlX2FwcHJvdmFsX2Jhc2lzJyl9ICR7dGhpcy4kdCgnY29sdW1uLm51bWJlcicpfWAsIGtleTogInByaWNlQXBwcm92YWxOdW1iZXIiIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7IGxhYmVsOiBgJHt0aGlzLiR0KCdjb2x1bW4uY3VycmVudF9wcmljZV93aXRoX2R1dHknKX1gLCBrZXk6ICJjdXJyZW50UHJpY2VXaXRoRHV0eSIgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6IGAke3RoaXMuJHQoJ2NvbHVtbi5jdXJyZW50X3ByaWNlX3dpdGhvdXRfZHV0eScpfWAsIGtleTogImN1cnJlbnRQcmljZVdpdGhvdXREdXR5IiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogYCR7dGhpcy4kdCgnY29sdW1uLmFkZGl0aW9uYWxfaW5mbycpfWAsIGtleTogImFkZGl0aW9uYWxJbmZvcm1hdGlvbiIgfSwNCiAgICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBrZXk6ICJhbm5vdW5jZWRNZWRpYSIsDQogICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCdjb2x1bW4uYW5ub3VuY2VkX21lZGlhJyksDQogICAgICAgICAgICAgICAgICAgIGZpZWxkczogWw0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAiIyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhDbGFzczogInRleHQtY2VudGVyIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICJpbmRleCIsDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLm5hbWUnKSwga2V5OiAiYW5ub3VuY2VkTWVkaWFOYW1lIiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmxpbmsnKSwga2V5OiAiYW5ub3VuY2VkTWVkaWFMaW5rIiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmRhdGUnKSwga2V5OiAiYW5ub3VuY2VkTWVkaWFEYXRlIiB9DQogICAgICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAga2V5OiAiY29taXNzaW9uIiwNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2NvbHVtbi5jb21taXNzaW9uX2FwcGxpY2F0aW9ucycpLA0KICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IFsNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogIiMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRDbGFzczogInRleHQtY2VudGVyIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAiaW5kZXgiLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5udW1iZXInKSwga2V5OiAiY29tbWVuY2VtZW50TnVtYmVyIiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmRhdGUnKSwga2V5OiAiY29tbWVuY2VtZW50RGF0ZSIgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5pbml0aWF0b3InKSwga2V5OiAiaW5pdGlhdG9yTmFtZSIgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5maW5pc2hpbmdfdHlwZScpLCBrZXk6ICJjb21wbGV0aW9uV29ya1R5cGUiIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uZmluaXNoaW5nX2RhdGUnKSwga2V5OiAiY29tcGxldGlvbldvcmtEYXRlIiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnNob3djYXNlX2Ftb3VudCcpLCBrZXk6ICJpbnN0cnVjdGlvbkFtb3VudCIgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5yZW1haW5kZXJfYW1vdW50JyksIGtleTogInJlc2lkdWVBbW91bnQiIH0NCiAgICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgcmVnaW9uSWQ6IG51bGwsDQogICAgICAgICAgICBsb2FkaW5nVGFibGVJdGVtczogZmFsc2UsDQogICAgICAgICAgICByZWdpb25zOiBbXSwNCiAgICAgICAgICAgIGpzb25fZmllbGRzOiB7DQogICAgICAgICAgICAgICAgIk9yZGVyIE51bWJlciI6ICJvcmRlck51bWJlciIsDQogICAgICAgICAgICAgICAgIlJlZXN0ciBBY2NlcHRlZCBEYXRlIjogInJlZXN0ckFjY2VwdGVkRGF0ZSIsDQogICAgICAgICAgICAgICAgIlJlZXN0ciBDbG9zZWQgRGF0ZSI6ICJyZWVzdHJDbG9zZWREYXRlIiwNCiAgICAgICAgICAgICAgICAiQ29udHJhY3RvciBGdWxsTmFtZSI6ICJjb250cmFjdG9yRnVsbE5hbWUiLA0KICAgICAgICAgICAgICAgICJHb3Zlcm5tZW50IFBlcmNlbnRhZ2UiOiAiZ292ZXJubWVudFBlcmNlbnRhZ2UiLA0KICAgICAgICAgICAgICAgICJTdGF0dXMiOiAic3RhdHVzIiwNCiAgICAgICAgICAgICAgICAiUHJvZHVjdCBvciBTZXJ2aWNlIFR5cGUiOiAicHJvZHVjdE9yU2VydmljZVR5cGUiLA0KICAgICAgICAgICAgICAgICJQcm9kdWN0IG9yIFNlcnZpY2VzIjogInByb2R1Y3RPclNlcnZpY2VzIiwNCiAgICAgICAgICAgICAgICAiVW5pdCI6ICJ1bml0IiwNCiAgICAgICAgICAgICAgICAiT2tlZCI6ICJva2VkIiwNCiAgICAgICAgICAgICAgICAiU2twIjogInNrcCIsDQogICAgICAgICAgICAgICAgIlRudmVkIjogInRudmVkIiwNCiAgICAgICAgICAgICAgICAiQ29tbWVudCI6ICJjb21tZW50IiwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBqc29uX2RhdGE6IFtdLA0KICAgICAgICAgICAganNvbl9tZXRhOiBbDQogICAgICAgICAgICAgICAgWw0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICJjaGFyc2V0IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAidXRmLTgiLA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgc2VhcmNoS2V5d29yZDogJycsDQogICAgICAgICAgICBzZWxlY3RlZDogMjAsDQogICAgICAgICAgICBvcHRpb25zVGFibGU6IFsNCiAgICAgICAgICAgICAgICB7IHZhbHVlOiAyMCwgdGV4dDogMjAgfSwNCiAgICAgICAgICAgICAgICB7IHZhbHVlOiA1MCwgdGV4dDogNTAgfSwNCiAgICAgICAgICAgICAgICB7IHZhbHVlOiAxMDAsIHRleHQ6IDEwMCB9LA0KICAgICAgICAgICAgICAgIHsgdmFsdWU6IDE1MCwgdGV4dDogMTUwIH0sDQogICAgICAgICAgICAgICAgeyB2YWx1ZTogMjAwLCB0ZXh0OiAyMDAgfSwNCiAgICAgICAgICAgICAgICB7IHZhbHVlOiAnYWxsJywgdGV4dDogdGhpcy4kdCgnY29sdW1uLmFsbCcpIH0sDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgYWN0aXZlRGVwOiB7fSwNCiAgICAgICAgICAgIHRhYmxlSXRlbXM6IFtdLA0KICAgICAgICAgICAgdG90YWxJdGVtczogMCwNCiAgICAgICAgICAgIHRhYmxlRmllbGRzOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBsYWJlbDogIiMiLA0KICAgICAgICAgICAgICAgICAgICB0aENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgICAgICAgICAgICB0ZENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIGtleTogImluZGV4IiwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5vcmRlcl9udW1iZXInKSwga2V5OiAib3JkZXJOdW1iZXIiIH0sDQogICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmFkZGVkX2RhdGVfdG9fcmVlc3RyJyksIGtleTogInJlZXN0ckFjY2VwdGVkRGF0ZSIgfSwNCiAgICAgICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ucmVtb3ZlZF9kYXRlX2Zyb21fcmVlc3RyJyksIGtleTogInJlZXN0ckNsb3NlZERhdGUiIH0sDQogICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmJ1c2luZXNzX2VudGl0eScpLCBrZXk6ICJjb250cmFjdG9yRnVsbE5hbWUiIH0sDQogICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnJlZ2lvbicpLCBrZXk6ICJyZWdpb24iIH0sDQogICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmdvdmVybm1lbnRfcGVyY2VudGFnZScpLCBrZXk6ICJnb3Zlcm5tZW50UGVyY2VudGFnZSIgfSwNCiAgICAgICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uZm91bmRlcnNfcGVyY2VudGFnZScpLCBrZXk6ICJmb3VuZGVyc1BlcmNlbnRhZ2UiIH0sDQogICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmRvY3VtZW50X3R5cGUnKSwga2V5OiAiZG9jdW1lbnRUeXBlIiB9LA0KICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5zdGF0dXMnKSwga2V5OiAic3RhdHVzIiB9LA0KICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5wcm9kdWN0X29yX3NlcnZpY2VfdHlwZScpLCBrZXk6ICJwcm9kdWN0T3JTZXJ2aWNlVHlwZSIgfSwNCiAgICAgICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdzdWJtb2R1bGVzLnByb2R1Y3Rfb3Jfc2VydmljZXMudGl0bGUnKSwga2V5OiAicHJvZHVjdE9yU2VydmljZXMiIH0sDQogICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnVuaXQnKSwga2V5OiAidW5pdCIgfSwNCiAgICAgICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ub2tlZCcpLCBrZXk6ICJva2VkIiB9LA0KICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5jb21tZW50JyksIGtleTogImNvbW1lbnQiIH0sDQogICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmxhc3RfbW9kaWZpZWRfYnknKSwga2V5OiAibGFzdE1vZGlmaWVkQnkiIH0sDQogICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmFwcHJvdmVkX2J5JyksIGtleTogImFwcHJvdmVkQnkiIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmFjdGlvbnMnKSwNCiAgICAgICAgICAgICAgICAgICAga2V5OiAiYWN0aW9ucyIsDQogICAgICAgICAgICAgICAgICAgIHRoQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgICAgICAgICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgLyogbWVkaWFUYWJsZUZpZWxkczogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICIjIiwNCiAgICAgICAgICAgICAgICAgICAgdGhDbGFzczogInRleHQtY2VudGVyIiwNCiAgICAgICAgICAgICAgICAgICAgdGRDbGFzczogInRleHQtY2VudGVyIiwNCiAgICAgICAgICAgICAgICAgICAgc29ydGFibGU6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICBrZXk6ICJpbmRleCIsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4ubmFtZScpLCBrZXk6ICJhbm5vdW5jZWRNZWRpYU5hbWUiIH0sDQogICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmxpbmsnKSwga2V5OiAiYW5ub3VuY2VkTWVkaWFMaW5rIiB9LA0KICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5kYXRlJyksIGtleTogImFubm91bmNlZE1lZGlhRGF0ZSIgfQ0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIGNvbWlzc2lvblRhYmxlRmllbGRzOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBsYWJlbDogIiMiLA0KICAgICAgICAgICAgICAgICAgICB0aENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgICAgICAgICAgICB0ZENsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIGtleTogImluZGV4IiwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5udW1iZXInKSwga2V5OiAiY29tbWVuY2VtZW50TnVtYmVyIiB9LA0KICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5kYXRlJyksIGtleTogImNvbW1lbmNlbWVudERhdGUiIH0sDQogICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmluaXRpYXRvcicpLCBrZXk6ICJpbml0aWF0b3JOYW1lIiB9LA0KICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5maW5pc2hpbmdfdHlwZScpLCBrZXk6ICJjb21wbGV0aW9uV29ya1R5cGUiIH0sDQogICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmZpbmlzaGluZ19kYXRlJyksIGtleTogImNvbXBsZXRpb25Xb3JrRGF0ZSIgfSwNCiAgICAgICAgICAgICAgICB7IGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uc2hvd2Nhc2VfYW1vdW50JyksIGtleTogImluc3RydWN0aW9uQW1vdW50IiB9LA0KICAgICAgICAgICAgICAgIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5yZW1haW5kZXJfYW1vdW50JyksIGtleTogInJlc2lkdWVBbW91bnQiIH0NCiAgICAgICAgICAgIF0gKi8NCiAgICAgICAgfTsNCiAgICB9LA0KICAgIC8qDQogICAgQ09NUFVURUQgKi8NCiAgICBjb21wdXRlZDogew0KICAgICAgICAvKiBhY3RpdmVJbm5lclRhYiAoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy50YWJsZUlubmVyVGFic1t0aGlzLmFjdGl2ZVRhYklkeE9mSW5uZXJUYWJzXS5rZXkNCiAgICAgICAgfSwNCiAgICAgICAgYWN0aXZlQ29udHJhY3RvclRhYiAoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5jb250cmFjdG9yVGFic1t0aGlzLmFjdGl2ZVRhYklkeEZvckNvbnRyYWN0b3JdLmtleQ0KICAgICAgICB9LCAqLw0KICAgICAgICBudW1iZXJPZlBhZ2VzICgpIHsNCiAgICAgICAgICAgIHJldHVybiAoIXRoaXMudG90YWxJdGVtcyB8fCB0aGlzLnRvdGFsSXRlbXMgPD0gMCB8fCB0aGlzLnRvdGFsSXRlbXMgPCB0aGlzLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLml0ZW1zUGVyUGFnZSkgPyAxIDogdGhpcy50b3RhbEl0ZW1zIC8gdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZC5pdGVtc1BlclBhZ2UNCiAgICAgICAgfSwNCiAgICAgICAgaXNEb21pbmFudCAoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kcm91dGUubmFtZSA9PT0gJ1JlZXN0ckhpc3RvcnlGb3JDb250cmFjdG9yRG9taW5hbnQnDQogICAgICAgIH0sDQogICAgICAgIGlzTmF0dXJhbCAoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kcm91dGUubmFtZSA9PT0gJ1JlZXN0ckhpc3RvcnlGb3JDb250cmFjdG9yTmF0dXJhbCcNCiAgICAgICAgfSwNCiAgICAgICAgaXNEb21pbmFudFJlcHVibGljICgpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5uYW1lID09PSAnUmVlc3RySGlzdG9yeUZvclJlcHVibGljQ29udHJhY3RvckRvbWluYW50Jw0KICAgICAgICB9LA0KICAgICAgICBpc05hdHVyYWxSZXB1YmxpYyAoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kcm91dGUubmFtZSA9PT0gJ1JlZXN0ckhpc3RvcnlGb3JSZXB1YmxpY0NvbnRyYWN0b3JOYXR1cmFsJw0KICAgICAgICB9LA0KICAgICAgICBqc29uRmllbGRzQ29tcHV0ZWQgKCkgew0KICAgICAgICAgICAgbGV0IHRtcCA9IHt9DQogICAgICAgICAgICB0aGlzLnRhYmxlRmllbGRzLmZvckVhY2goKGZpZWxkLCBpbmRleCkgPT4gew0KICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPSAwICYmIGluZGV4ICE9IHRoaXMudGFibGVGaWVsZHMubGVuZ3RoIC0gMSkgew0KICAgICAgICAgICAgICAgICAgICB0bXBbZmllbGQubGFiZWxdID0gZmllbGQua2V5DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHJldHVybiB0bXANCiAgICAgICAgfSwNCiAgICAgICAgY2FuVXBkYXRlUmVlc3RyICgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmlzRG9taW5hbnQgfHwgdGhpcy5pc0RvbWluYW50UmVwdWJsaWMpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kY2FuKCd1cGRhdGUnLCAnY29udHJhY3RvciByZWVzdHIgZG9jdW1lbnQgZm9yIGFjY2VwdGFuY2UgZGFtaW5pcml1c2hpeScpDQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNOYXR1cmFsIHx8IHRoaXMuaXNOYXR1cmFsUmVwdWJsaWMpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kY2FuKCd1cGRhdGUnLCAnY29udHJhY3RvciByZWVzdHIgZG9jdW1lbnQgZm9yIGFjY2VwdGFuY2UgZXN0ZXN0dmVuaXknKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgIH0sDQogICAgICAgIGNhbkFwcHJvdmVSZWVzdHIgKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGNhbignY29udHJhY3RvcicsICdyZWVzdHIgZG9jdW1lbnQgY29uZmlybWF0aW9uJykNCiAgICAgICAgfQ0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICBhcHByb3ZlUmVlc3RyRG9jIChkb2MpIHsNCiAgICAgICAgICAgIHRoaXMuJGJ2TW9kYWwubXNnQm94Q29uZmlybSh0aGlzLiR0KCdtZXNzYWdlcy55b3Vfc3VyZV90aXRsZScpLCB7DQogICAgICAgICAgICAgICAgb2tUaXRsZTogdGhpcy4kdCgnYWN0aW9ucy5jb25maXJtJyksDQogICAgICAgICAgICAgICAgY2FuY2VsVGl0bGU6IHRoaXMuJHQoJ2FjdGlvbnMuY2FuY2VsJykNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLnRoZW4odmFsdWUgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGhlbHBlclNlcnZpY2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwcm92ZVJlZXN0ckRvYyhkb2MuaWQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZldGNoVGFibGVJdGVtcygpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICAgICAgICAgIC8vIEFuIGVycm9yIG9jY3VycmVkDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgYWN0aXZlSW5uZXJUYWIgKGFjdGl2ZVRhYklkeE9mSW5uZXJUYWJzKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy50YWJsZUlubmVyVGFic1thY3RpdmVUYWJJZHhPZklubmVyVGFic10ua2V5DQogICAgICAgIH0sDQogICAgICAgIGFjdGl2ZUNvbnRyYWN0b3JUYWIgKGFjdGl2ZVRhYklkeEZvckNvbnRyYWN0b3IpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRyYWN0b3JUYWJzW2FjdGl2ZVRhYklkeEZvckNvbnRyYWN0b3JdLmtleQ0KICAgICAgICB9LA0KICAgICAgICBzZXRSb3dzSW5uZXJUYWJzRGF0YSAoaXRlbSwgaW5kZXgsIHNlbGVjdGVkVGFiSW5kZXgsIGlzRm9yQ29udHJhY3RvciA9IGZhbHNlLCBpc0ZvckZvdW5kZXJzID0gZmFsc2UsIGZvdW5kZXJUYWJJbmRleCA9IDApIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlSW5uZXJUYWJzW3NlbGVjdGVkVGFiSW5kZXhdLmtleSA9PSAnY29udHJhY3RvcicgfHwgaXNGb3JDb250cmFjdG9yKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdsb2FkaW5nSW5uZXJEYXRhJywgdHJ1ZSkNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb250cmFjdG9yVGFic1tzZWxlY3RlZFRhYkluZGV4XS5rZXkgPT0gJ2dlbmVyYWxJbmZvJykgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2NvbnRyYWN0b3JUYWJJdGVtcycsIFtpdGVtLmNvbnRyYWN0b3JEdG9dKQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2xvYWRpbmdJbm5lckRhdGEnLCBmYWxzZSkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29udHJhY3RvclRhYnNbc2VsZWN0ZWRUYWJJbmRleF0ua2V5ID09ICdkaXJlY3RvcicpIHsNCiAgICAgICAgICAgICAgICAgICAgaGVscGVyU2VydmljZS5nZXRDb250cmFjdG9yRGlyZWN0b3IoaXRlbS5jb250cmFjdG9yRHRvLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2NvbnRyYWN0b3JUYWJJdGVtcycsIFtyZXMuZGF0YV0pDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNldChpdGVtLCAnY29udHJhY3RvclRhYkl0ZW1zJywgW10pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7IHRoaXMuJHNldChpdGVtLCAnbG9hZGluZ0lubmVyRGF0YScsIGZhbHNlKSB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb250cmFjdG9yVGFic1tzZWxlY3RlZFRhYkluZGV4XS5rZXkgPT0gJ2FjY291bnRlcicpIHsNCiAgICAgICAgICAgICAgICAgICAgaGVscGVyU2VydmljZS5nZXRDb250cmFjdG9yQWNjb3VudGVyKGl0ZW0uY29udHJhY3RvckR0by5pZCkNCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdjb250cmFjdG9yVGFiSXRlbXMnLCBbcmVzLmRhdGFdKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2NvbnRyYWN0b3JUYWJJdGVtcycsIFtdKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4geyB0aGlzLiRzZXQoaXRlbSwgJ2xvYWRpbmdJbm5lckRhdGEnLCBmYWxzZSkgfSkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29udHJhY3RvclRhYnNbc2VsZWN0ZWRUYWJJbmRleF0ua2V5ID09ICdmb3VuZGVycycpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRm9yRm91bmRlcnMgJiYgaXRlbS5mb3VuZGVyc0Z1bGxEYXRhKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mb3VuZGVyVGFic1tpdGVtLmFjdGl2ZVRhYklkeEZvckNvbnRyYWN0b3JGb3VuZGVyXS5rZXkgPT0gJ2xlZ2FsJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNldChpdGVtLCAnY29udHJhY3RvclRhYkl0ZW1zJywgaXRlbS5mb3VuZGVyc0Z1bGxEYXRhLmZvdW5kZXJMZWdhbER0bykNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5mb3VuZGVyVGFic1tpdGVtLmFjdGl2ZVRhYklkeEZvckNvbnRyYWN0b3JGb3VuZGVyXS5rZXkgPT0gJ2luZGl2aWR1YWwnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdjb250cmFjdG9yVGFiSXRlbXMnLCBpdGVtLmZvdW5kZXJzRnVsbERhdGEuZm91bmRlckluZGl2aWR1YWxEdG8pDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2xvYWRpbmdJbm5lckRhdGEnLCBmYWxzZSkNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGhlbHBlclNlcnZpY2UuZ2V0Q29udHJhY3RvckZvdW5kZXJzKGl0ZW0uY29udHJhY3RvckR0by5pZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2ZvdW5kZXJzRnVsbERhdGEnLCByZXMuZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZm91bmRlclRhYnNbaXRlbS5hY3RpdmVUYWJJZHhGb3JDb250cmFjdG9yRm91bmRlcl0ua2V5ID09ICdsZWdhbCcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNldChpdGVtLCAnY29udHJhY3RvclRhYkl0ZW1zJywgcmVzLmRhdGEuZm91bmRlckxlZ2FsRHRvKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZm91bmRlclRhYnNbaXRlbS5hY3RpdmVUYWJJZHhGb3JDb250cmFjdG9yRm91bmRlcl0ua2V5ID09ICdpbmRpdmlkdWFsJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdjb250cmFjdG9yVGFiSXRlbXMnLCByZXMuZGF0YS5mb3VuZGVySW5kaXZpZHVhbER0bykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2ZvdW5kZXJzRnVsbERhdGEnLCBudWxsKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2NvbnRyYWN0b3JUYWJJdGVtcycsIFtdKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4geyB0aGlzLiRzZXQoaXRlbSwgJ2xvYWRpbmdJbm5lckRhdGEnLCBmYWxzZSkgfSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy50YWJsZUlubmVyVGFic1tzZWxlY3RlZFRhYkluZGV4XS5rZXkgPT0gJ3ByaWNlcycpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2lubmVyVGFiSXRlbXMnLCBpdGVtLnByaWNlQXBwcm92YWxEdG9zKQ0KICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhYmxlSW5uZXJUYWJzW3NlbGVjdGVkVGFiSW5kZXhdLmtleSA9PSAnYW5ub3VuY2VkTWVkaWEnKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdpbm5lclRhYkl0ZW1zJywgaXRlbS5hbm5vdW5jZWRNZWRpYUR0b3MpDQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGFibGVJbm5lclRhYnNbc2VsZWN0ZWRUYWJJbmRleF0ua2V5ID09ICdjb21pc3Npb24nKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdpbm5lclRhYkl0ZW1zJywgaXRlbS5jb21taXNzaW9uQXBwbGljYXRpb25EdG9zKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICByb3dDbGlja2VkIChpdGVtLCBpbmRleCkgew0KICAgICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdfc2hvd0RldGFpbHMnLCAhaXRlbS5fc2hvd0RldGFpbHMpDQogICAgICAgICAgICBpZiAoIWl0ZW0uYWN0aXZlVGFiSWR4T2ZJbm5lclRhYnMpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2FjdGl2ZVRhYklkeE9mSW5uZXJUYWJzJywgMCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICghaXRlbS5hY3RpdmVUYWJJZHhGb3JDb250cmFjdG9yKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdhY3RpdmVUYWJJZHhGb3JDb250cmFjdG9yJywgMCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICghaXRlbS5hY3RpdmVUYWJJZHhGb3JDb250cmFjdG9yRm91bmRlcikgew0KICAgICAgICAgICAgICAgIHRoaXMuJHNldChpdGVtLCAnYWN0aXZlVGFiSWR4Rm9yQ29udHJhY3RvckZvdW5kZXInLCAwKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5zZXRSb3dzSW5uZXJUYWJzRGF0YShpdGVtLCBpbmRleCwgMCwgdHJ1ZSkNCiAgICAgICAgICAgIC8vIHRoaXMuZmV0Y2hSZWVzdHJEb2NzQnlUeXBlSWQobnVsbCwgaXRlbS50eXBlSWQsIGluZGV4KQ0KICAgICAgICB9LA0KICAgICAgICBmZXRjaFJlZXN0ckRvY3NCeVR5cGVJZCAodG9nZ2xlRGV0YWlscywgdHlwZUlkLCBpbmRleCkgew0KICAgICAgICAgICAgaWYgKHRvZ2dsZURldGFpbHMpIHsNCiAgICAgICAgICAgICAgICB0b2dnbGVEZXRhaWxzKCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnRhYmxlSXRlbXNbaW5kZXhdLCAnbG9hZGluZ0lubmVyRGF0YScsIHRydWUpDQogICAgICAgICAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlDQogICAgICAgICAgICAgICAgLnNlYXJjaExpc3QoTUFJTl9BUElfVVJMLCBudWxsLCBgJHt0aGlzLmlzRG9taW5hbnQgPyBBUFBFTkRfQVBJX1VSTF9ET01JTkFOVCA6IHRoaXMuaXNOYXR1cmFsID8gQVBQRU5EX0FQSV9VUkxfTkFUVVJBTCA6ICcnfT9yZWdpb25JZD0ke3RoaXMucmVnaW9uSWR9JnR5cGVJZD0ke3R5cGVJZH1gKQ0KICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMudGFibGVJdGVtc1tpbmRleF0sICdyZWVzdHInLCByZXMuZGF0YSkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMudGFibGVJdGVtc1tpbmRleF0sICdyZWVzdHInLCBbXSkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMudGFibGVJdGVtc1tpbmRleF0sICdsb2FkaW5nSW5uZXJEYXRhJywgZmFsc2UpDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgYXN5bmMgcmVnaW9uU2VsZWN0ZWQgKCRldmVudCwgZG9udFJlc2V0RGlzdHJpY3QgPSBmYWxzZSkgew0KICAgICAgICAgICAgaWYgKCRldmVudCkgew0KICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hUYWJsZUl0ZW1zKCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZG93bmxvYWRFeGNlbCAoKSB7DQogICAgICAgICAgICB0aGlzLmpzb25fZGF0YSA9IFtdDQogICAgICAgICAgICB0aGlzLnRhYmxlSXRlbXMuZm9yRWFjaChyZXMgPT4gew0KICAgICAgICAgICAgICAgIGxldCBvYmogPSB7fQ0KICAgICAgICAgICAgICAgIG9iai5vcmRlck51bWJlciA9IHJlcy5vcmRlck51bWJlcg0KICAgICAgICAgICAgICAgIG9iai5yZWVzdHJBY2NlcHRlZERhdGUgPSByZXMucmVlc3RyQWNjZXB0ZWREYXRlDQogICAgICAgICAgICAgICAgb2JqLnJlZXN0ckNsb3NlZERhdGUgPSByZXMucmVlc3RyQ2xvc2VkRGF0ZQ0KICAgICAgICAgICAgICAgIG9iai5jb250cmFjdG9yRnVsbE5hbWUgPSByZXMuY29udHJhY3RvckR0by5mdWxsTmFtZSArICctJyArIHJlcy5jb250cmFjdG9yRHRvLmlubg0KICAgICAgICAgICAgICAgIG9iai5nb3Zlcm5tZW50UGVyY2VudGFnZSA9IHJlcy5nb3Zlcm5tZW50UGVyY2VudGFnZQ0KICAgICAgICAgICAgICAgIG9iai5kb2N1bWVudFR5cGUgPSByZXMuZG9jdW1lbnRUeXBlDQogICAgICAgICAgICAgICAgb2JqLnN0YXR1cyA9IHRoaXMuZ2V0TmFtZSh7IG5hbWVMdDogcmVzLmRvY3VtZW50U3RhdHVzTmFtZUx0LCBuYW1lVXo6IHJlcy5kb2N1bWVudFN0YXR1c05hbWVVeiwgbmFtZVJ1OiByZXMuZG9jdW1lbnRTdGF0dXNOYW1lUnUgfSkNCiAgICAgICAgICAgICAgICBvYmoucHJvZHVjdE9yU2VydmljZVR5cGUgPSB0aGlzLmdldE5hbWUoeyBuYW1lTHQ6IHJlcy5kaXJlY3RvcnlQcm9kdWN0T3JTZXJ2aWNlVHlwZUR0by5uYW1lTHQsIG5hbWVVejogcmVzLmRpcmVjdG9yeVByb2R1Y3RPclNlcnZpY2VUeXBlRHRvLm5hbWVVeiwgbmFtZVJ1OiByZXMuZGlyZWN0b3J5UHJvZHVjdE9yU2VydmljZVR5cGVEdG8ubmFtZVJ1IH0pDQogICAgICAgICAgICAgICAgb2JqLnByb2R1Y3RPclNlcnZpY2VzID0gdGhpcy5nZXROYW1lKHsgbmFtZUx0OiByZXMuZGlyZWN0b3J5UHJvZHVjdE9yU2VydmljZUR0by5uYW1lTHQsIG5hbWVVejogcmVzLmRpcmVjdG9yeVByb2R1Y3RPclNlcnZpY2VEdG8ubmFtZVV6LCBuYW1lUnU6IHJlcy5kaXJlY3RvcnlQcm9kdWN0T3JTZXJ2aWNlRHRvLm5hbWVSdSB9KQ0KICAgICAgICAgICAgICAgIG9iai51bml0ID0gdGhpcy5nZXROYW1lKHsgbmFtZUx0OiByZXMudW5pdE5hbWVMdCwgbmFtZVV6OiByZXMudW5pdE5hbWVVeiwgbmFtZVJ1OiByZXMudW5pdE5hbWVSdSB9KQ0KICAgICAgICAgICAgICAgIG9iai5za3AgPSByZXMuaW5mb1NLUER0byA/IHJlcy5pbmZvU0tQRHRvLmNvZGUgKyAnLScgKyB0aGlzLmdldE5hbWUoeyBuYW1lTHQ6IHJlcy5pbmZvU0tQRHRvLm5hbWVMdCwgbmFtZVV6OiByZXMuaW5mb1NLUER0by5uYW1lVXosIG5hbWVSdTogcmVzLmluZm9TS1BEdG8ubmFtZVJ1IH0pIDogJycNCiAgICAgICAgICAgICAgICBvYmoub2tlZCA9IHJlcy5pbmZvT2tlZER0byA/IHJlcy5pbmZvT2tlZER0by5jb2RlICsgJy0nICsgdGhpcy5nZXROYW1lKHsgbmFtZUx0OiByZXMuaW5mb09rZWREdG8ubmFtZUx0LCBuYW1lVXo6IHJlcy5pbmZvT2tlZER0by5uYW1lVXosIG5hbWVSdTogcmVzLmluZm9Pa2VkRHRvLm5hbWVSdSB9KSA6ICcnDQogICAgICAgICAgICAgICAgb2JqLnRudmVkID0gcmVzLmluZm9UTlZFRER0byA/IHJlcy5pbmZvVE5WRUREdG8uY29kZSArICctJyArIHRoaXMuZ2V0TmFtZSh7IG5hbWVMdDogcmVzLmluZm9UTlZFRER0by5uYW1lTHQsIG5hbWVVejogcmVzLmluZm9UTlZFRER0by5uYW1lVXosIG5hbWVSdTogcmVzLmluZm9UTlZFRER0by5uYW1lUnUgfSkgOiAnJw0KICAgICAgICAgICAgICAgIG9iai5jb21tZW50ID0gcmVzLmNvbW1lbnQNCiAgICAgICAgICAgICAgICBvYmoubGFzdE1vZGlmaWVkQnkgPSBgJHtyZXMudXBkYXRlZEJ5RW1wbG95ZWVGdWxsTmFtZSA/IChyZXMudXBkYXRlZEJ5RW1wbG95ZWVGdWxsTmFtZSArICcgJyArIChyZXMudXBkYXRlZEJ5RGlyZWN0b3J5UG9zaXRpb25OYW1lVXogPyAoJygnICsgcmVzLnVwZGF0ZWRCeURpcmVjdG9yeVBvc2l0aW9uTmFtZVV6ICsgJywgJyArIHRoaXMuJHQoJ2F1dGgudXNlcm5hbWUnKSArICcgLSAnICsgcmVzLnVwZGF0ZWRCeVVzZXJOYW1lICsgJyknKSA6ICcnKSkgOiB0aGlzLiR0KCdhdXRoLnVzZXJuYW1lJykgKyAnIC0gJyArIHJlcy51cGRhdGVkQnlVc2VyTmFtZSArICcgJyArIChyZXMudXBkYXRlZEJ5RGF0ZSA/IHJlcy51cGRhdGVkQnlEYXRlIDogJycpfWANCiAgICAgICAgICAgICAgICBvYmouYXBwcm92ZWRCeSA9IGAke3Jlcy5jb25maXJtZWRCeUVtcGxveWVlRnVsbE5hbWUgPyAocmVzLmNvbmZpcm1lZEJ5RW1wbG95ZWVGdWxsTmFtZSArICcgJyArIChyZXMuY29uZmlybWVkQnlEaXJlY3RvcnlQb3NpdGlvbk5hbWVVeiA/ICgnKCcgKyByZXMuY29uZmlybWVkQnlEaXJlY3RvcnlQb3NpdGlvbk5hbWVVeiArICcsICcgKyB0aGlzLiR0KCdhdXRoLnVzZXJuYW1lJykgKyAnIC0gJyArIHJlcy5jb25maXJtZWRCeVVzZXJOYW1lICsgJyknKSA6ICcnKSkgOiB0aGlzLiR0KCdhdXRoLnVzZXJuYW1lJykgKyAnIC0gJyArIHJlcy5jb25maXJtZWRCeVVzZXJOYW1lICsgJyAnICsgKHJlcy5jb25maXJtZWRCeURhdGUgPyByZXMuY29uZmlybWVkQnlEYXRlIDogJycpfWANCiAgICAgICAgICAgICAgICBvYmouZm91bmRlcnNQZXJjZW50YWdlID0gJycNCiAgICAgICAgICAgICAgICByZXMuY29udHJhY3RvckR0by5mb3VuZGVyc0R0b3MuZm9yRWFjaChlbCA9PiB7DQogICAgICAgICAgICAgICAgICAgIG9iai5mb3VuZGVyc1BlcmNlbnRhZ2UgKz0gYCR7ZWwuZm91bmRlck5hbWV9ICgke2VsLnBlcmNlbnRhZ2V9KSwgYA0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgb2JqLnJlZ2lvbiA9ICcnDQogICAgICAgICAgICAgICAgcmVzLnJlZ2lvbkR0b3MuZm9yRWFjaChlbCA9PiB7DQogICAgICAgICAgICAgICAgICAgIG9iai5yZWdpb24gKz0gYCR7dGhpcy5nZXROYW1lKHsgbmFtZUx0OiBlbC5uYW1lTHQsIG5hbWVVejogZWwubmFtZVV6LCBuYW1lUnU6IGVsLm5hbWVSdSB9KX0sIGANCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRG9taW5hbnQgfHwgdGhpcy5pc05hdHVyYWwpIHsNCiAgICAgICAgICAgICAgICAgICAgb2JqLmRpc3RyaWN0ID0gJycNCiAgICAgICAgICAgICAgICAgICAgcmVzLmRpc3RyaWN0RHRvcy5mb3JFYWNoKGVsID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kaXN0cmljdCArPSBgJHt0aGlzLmdldE5hbWUoeyBuYW1lTHQ6IGVsLm5hbWVMdCwgbmFtZVV6OiBlbC5uYW1lVXosIG5hbWVSdTogZWwubmFtZVJ1IH0pfSwgYA0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc05hdHVyYWwgfHwgdGhpcy5pc05hdHVyYWxSZXB1YmxpYykgew0KICAgICAgICAgICAgICAgICAgICBvYmoucHJpY2VBcHByb3ZhbERhdGUgPSByZXMucHJpY2VBcHByb3ZhbERhdGUNCiAgICAgICAgICAgICAgICAgICAgb2JqLnByaWNlRWZmZWN0aXZlRGF0ZSA9IHJlcy5wcmljZUVmZmVjdGl2ZURhdGUNCiAgICAgICAgICAgICAgICAgICAgb2JqLnByaWNlQXBwcm92YWxOdW1iZXIgPSByZXMucHJpY2VBcHByb3ZhbE51bWJlcg0KICAgICAgICAgICAgICAgICAgICBvYmouY3VycmVudFByaWNlV2l0aER1dHkgPSByZXMuY3VycmVudFByaWNlV2l0aER1dHkNCiAgICAgICAgICAgICAgICAgICAgb2JqLmN1cnJlbnRQcmljZVdpdGhvdXREdXR5ID0gcmVzLmN1cnJlbnRQcmljZVdpdGhvdXREdXR5DQogICAgICAgICAgICAgICAgICAgIG9iai5hZGRpdGlvbmFsSW5mb3JtYXRpb24gPSByZXMuYWRkaXRpb25hbEluZm9ybWF0aW9uDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuanNvbl9kYXRhLnB1c2gob2JqKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgc2VsZWN0TGlzdCAoJGV2ZW50KSB7DQogICAgICAgICAgICBpZiAoJGV2ZW50ID09ICdhbGwnKSB7DQogICAgICAgICAgICAgICAgdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZC5pdGVtc1BlclBhZ2UgPSB0aGlzLnRvdGFsSXRlbXMNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZC5pdGVtc1BlclBhZ2UgPSAkZXZlbnQNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZmV0Y2hUYWJsZUl0ZW1zKCk7DQogICAgICAgIH0sDQogICAgICAgIGFzeW5jIGZldGNoVGFibGVJdGVtcyAoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc0RvbWluYW50UmVwdWJsaWMgfHwgdGhpcy5pc05hdHVyYWxSZXB1YmxpYykgew0KICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZ1RhYmxlSXRlbXMgPSB0cnVlDQogICAgICAgICAgICAgICAgaGVscGVyU2VydmljZQ0KICAgICAgICAgICAgICAgICAgICAuc2VhcmNoUmVlc3RySGlzdG9yeUxpc3RCeUNvbnRyYWN0b3JJZChgJHt0aGlzLmlzRG9taW5hbnRSZXB1YmxpYyA/IEFQUEVORF9BUElfVVJMX0RPTUlOQU5UIDogdGhpcy5pc05hdHVyYWxSZXB1YmxpYyA/IEFQUEVORF9BUElfVVJMX05BVFVSQUwgOiAnJ30/Y29udHJhY3RvcklkPSR7dGhpcy4kcm91dGUucGFyYW1zLmlkfWAsIHRydWUpDQogICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVJdGVtcyA9IHJlcy5kYXRhOw0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlSXRlbXMgPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nVGFibGVJdGVtcyA9IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZ1RhYmxlSXRlbXMgPSB0cnVlDQogICAgICAgICAgICAgICAgLy8gdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZC5rZXl3b3JkID0gdGhpcy5zZWFyY2hLZXl3b3JkDQogICAgICAgICAgICAgICAgLyogdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZC5zb3J0RGVzYy5wdXNoKGZhbHNlKQ0KICAgICAgICAgICAgICAgIGlmICh0aGlzLiRpMThuLmxvY2FsZSA9PSAndXonKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQuc29ydEJ5LnB1c2goJ25hbWVMdCcpDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLiRpMThuLmxvY2FsZSA9PSAncnUnKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQuc29ydEJ5LnB1c2goJ25hbWVSdScpDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLiRpMThuLmxvY2FsZSA9PSAndXpDeXJpbGxpYycpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZC5zb3J0QnkucHVzaCgnbmFtZVV6JykNCiAgICAgICAgICAgICAgICB9ICovDQogICAgICAgICAgICAgICAgY3J1ZEFuZExpc3RzU2VydmljZQ0KICAgICAgICAgICAgICAgICAgICAuc2VhcmNoTGlzdChNQUlOX0FQSV9VUkwsIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQsIGAke3RoaXMuaXNEb21pbmFudCA/IEFQUEVORF9BUElfVVJMX0RPTUlOQU5UIDogdGhpcy5pc05hdHVyYWwgPyBBUFBFTkRfQVBJX1VSTF9OQVRVUkFMIDogJyd9P2NvbnRyYWN0b3JJZD0ke3RoaXMuJHJvdXRlLnBhcmFtcy5pZH1gLCB0cnVlKQ0KICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlSXRlbXMgPSByZXMuZGF0YTsNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZUl0ZW1zID0gW107DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZ1RhYmxlSXRlbXMgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBlZGl0SXRlbSAoaXRlbSkgew0KICAgICAgICAgICAgaWYgKGl0ZW0uZG9jdW1lbnRUeXBlID09ICdLSVJJVElTSCcpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh0aGlzLmlzRG9taW5hbnQgfHwgdGhpcy5pc0RvbWluYW50UmVwdWJsaWMgPyB7IG5hbWU6ICdVcGRhdGVEb21pbmFudENvbnRyYWN0b3JSZWVzdHInLCBwYXJhbXM6IHsgaWQ6IGl0ZW0uaWQgfSB9IDogeyBuYW1lOiAnVXBkYXRlTmF0dXJhbENvbnRyYWN0b3JSZWVzdHInLCBwYXJhbXM6IHsgaWQ6IGl0ZW0uaWQgfSB9KQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmRvY3VtZW50VHlwZSA9PSAnQ0hJUUFSSVNIJykgew0KICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMuaXNEb21pbmFudCB8fCB0aGlzLmlzRG9taW5hbnRSZXB1YmxpYyA/IHsgbmFtZTogJ1VwZGF0ZVJlbW92ZURvY0RvbWluYW50Q29udHJhY3RvclJlZXN0cicsIHBhcmFtczogeyBpZDogaXRlbS5pZCB9IH0gOiB7IG5hbWU6ICdVcGRhdGVSZW1vdmVEb2NOYXR1cmFsQ29udHJhY3RvclJlZXN0cicsIHBhcmFtczogeyBpZDogaXRlbS5pZCB9IH0pDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9LA0KICAgIC8qIENSRUFURUQgKi8NCiAgICBjcmVhdGVkICgpIHsNCiAgICAgICAgaWYgKHRoaXMuaXNEb21pbmFudCB8fCB0aGlzLmlzRG9taW5hbnRSZXB1YmxpYykgew0KICAgICAgICAgICAgdGhpcy50YWJsZUZpZWxkcy5zcGxpY2UoMTIsIDAsIHsgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5za3BfY29kZScpLCBrZXk6ICJza3AiIH0sDQogICAgICAgICAgICAgICAgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnRudmVkX2NvZGUnKSwga2V5OiAidG52ZWQiIH0pDQogICAgICAgIH0NCiAgICAgICAgaWYgKHRoaXMuaXNEb21pbmFudCB8fCB0aGlzLmlzTmF0dXJhbCkgew0KICAgICAgICAgICAgdGhpcy50YWJsZUZpZWxkcy5zcGxpY2UoNiwgMCwgeyBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmRpc3RyaWN0JyksIGtleTogImRpc3RyaWN0IiB9KQ0KICAgICAgICB9DQogICAgICAgIC8qIGlmICh0aGlzLmlzTmF0dXJhbCB8fCB0aGlzLmlzTmF0dXJhbFJlcHVibGljKSB7DQogICAgICAgICAgICB0aGlzLnRhYmxlRmllbGRzLnNwbGljZSh0aGlzLnRhYmxlRmllbGRzLmxlbmd0aCAtIDEsIDAsDQogICAgICAgICAgICAgICAgeyBsYWJlbDogYCR7dGhpcy4kdCgnY29sdW1uLnByaWNlX2FwcHJvdmFsX2Jhc2lzJyl9ICR7dGhpcy4kdCgnY29sdW1uLmRhdGUnKX1gLCBrZXk6ICJwcmljZUFwcHJvdmFsRGF0ZSIgfSwNCiAgICAgICAgICAgICAgICB7IGxhYmVsOiBgJHt0aGlzLiR0KCdjb2x1bW4uZWZmZWN0aXZlX2RhdGVfcHJpY2UnKX1gLCBrZXk6ICJwcmljZUVmZmVjdGl2ZURhdGUiIH0sDQogICAgICAgICAgICAgICAgeyBsYWJlbDogYCR7dGhpcy4kdCgnY29sdW1uLnByaWNlX2FwcHJvdmFsX2Jhc2lzJyl9ICR7dGhpcy4kdCgnY29sdW1uLm51bWJlcicpfWAsIGtleTogInByaWNlQXBwcm92YWxOdW1iZXIiIH0sDQogICAgICAgICAgICAgICAgeyBsYWJlbDogYCR7dGhpcy4kdCgnY29sdW1uLmN1cnJlbnRfcHJpY2Vfd2l0aF9kdXR5Jyl9YCwga2V5OiAiY3VycmVudFByaWNlV2l0aER1dHkiIH0sDQogICAgICAgICAgICAgICAgeyBsYWJlbDogYCR7dGhpcy4kdCgnY29sdW1uLmN1cnJlbnRfcHJpY2Vfd2l0aG91dF9kdXR5Jyl9YCwga2V5OiAiY3VycmVudFByaWNlV2l0aG91dER1dHkiIH0sDQogICAgICAgICAgICAgICAgeyBsYWJlbDogYCR7dGhpcy4kdCgnY29sdW1uLmFkZGl0aW9uYWxfaW5mbycpfWAsIGtleTogImFkZGl0aW9uYWxJbmZvcm1hdGlvbiIgfSwNCiAgICAgICAgICAgICkNCiAgICAgICAgfSAqLw0KICAgICAgICB0aGlzLmZldGNoVGFibGVJdGVtcygpDQogICAgfSwNCiAgICAvKg0KICAgIFdBVENIICovDQogICAgd2F0Y2g6IHsNCiAgICAgICAgLyogJ3Zhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLnBhZ2UnOiB7DQogICAgICAgICAgICBoYW5kbGVyICgpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmZldGNoVGFibGVJdGVtcygpDQogICAgICAgICAgICB9DQogICAgICAgIH0gKi8NCiAgICB9DQp9Ow0K"},{"version":3,"sources":["ReestrHistoryForContractor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsqBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReestrHistoryForContractor.vue","sourceRoot":"src/modules/reestr-contractors/modules/natural","sourcesContent":["<template>\r\n    <div class=\"row\">\r\n        <div class=\"col-12\">\r\n            <div class=\"card\">\r\n                <div class=\"card-body\">\r\n                    <div class=\"row mb-2 align-items-center\">\r\n                        <div class=\"col-2\">\r\n                            <b-btn\r\n                                variant=\"warning\"\r\n                                class=\"text-capitalize\"\r\n                                @click=\"$router.go(-1)\"\r\n                            >\r\n                                {{ $t('actions.back') }}\r\n                            </b-btn>\r\n                        </div>\r\n                        <div class=\"col-8\">\r\n                            <h4\r\n                                class=\"text-center font-weight-bold m-0\"\r\n                                v-if=\"tableItems.length > 0\"\r\n                            >{{ tableItems[0].contractorDto.fullName }}</h4>\r\n                        </div>\r\n                        <div class=\"col-2\">\r\n                            <div\r\n                                class=\"text-sm-end\"\r\n                                v-if=\"tableItems.length\"\r\n                            >\r\n                                <download-excel\r\n                                    :data=\"json_data\"\r\n                                    :fields=\"jsonFieldsComputed\"\r\n                                    :header=\"`${tableItems[0].contractorDto.fullName}`\"\r\n                                    worksheet=\"My Worksheet\"\r\n                                    :name=\"`${tableItems[0].contractorDto.fullName}.xls`\"\r\n                                >\r\n                                    <b-btn\r\n                                        @click=\"downloadExcel\"\r\n                                        type=\"button\"\r\n                                        class=\"btn btn-rounded bg-primary mb-2\"\r\n                                    >\r\n                                        <i class=\"mdi mdi-microsoft-excel me-1\"></i> {{ $t('actions.download') }}\r\n                                    </b-btn>\r\n                                </download-excel>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <!-- Table data -->\r\n                    <b-table\r\n                        :items=\"tableItems\"\r\n                        :fields=\"tableFields\"\r\n                        :busy=\"loadingTableItems\"\r\n                        @row-clicked=\"rowClicked\"\r\n                        id=\"my-table\"\r\n                        class=\"custom-b-table\"\r\n                        responsive\r\n                        bordered\r\n                        small\r\n                        show-empty\r\n                    >\r\n                        <!-- NUMBER OF ITEM -->\r\n                        <template #cell(index)=\"data\">\r\n                            <strong>{{ data.index + 1 }}</strong>\r\n                        </template>\r\n\r\n                        <!-- STATUS -->\r\n                        <template #cell(status)=\"data\">\r\n                            <b-badge :variant=\"data.item.documentStatusCode == 'PENDING' ? 'warning' : data.item.documentStatusCode == 'READY' ? 'success' : ''\">\r\n                                {{ \r\n                                    getName({\r\n                                        nameRu: data.item.documentStatusNameRu,\r\n                                        nameLt: data.item.documentStatusNameLt,\r\n                                        nameUz: data.item.documentStatusNameUz,\r\n                                    })\r\n                                }}\r\n                            </b-badge>\r\n                        </template>\r\n\r\n                        <!-- DOCUMENT_TYPE -->\r\n                        <template #cell(documentType)=\"data\">\r\n                            <b-badge :variant=\"data.item.documentType == 'KIRITISH' ? 'success' : data.item.documentType == 'CHIQARISH' ? 'danger' : ''\">\r\n                                {{ \r\n                                    data.item.documentType\r\n                                }}\r\n                            </b-badge>\r\n                        </template>\r\n\r\n                        <!-- LAST_MODIFIED_BY -->\r\n                        <template #cell(lastModifiedBy)=\"data\">\r\n                            <template v-if=\"data.item.updatedByUserName\">\r\n                                {{\r\n                                data.item.updatedByEmployeeFullName ? (data.item.updatedByEmployeeFullName + ' ' + (data.item.updatedByDirectoryPositionNameUz ? ('(' + data.item.updatedByDirectoryPositionNameUz + ', ' + $t('auth.username') + ' - ' + data.item.updatedByUserName + ')') : '')) : $t('auth.username') + ' - ' + data.item.updatedByUserName\r\n                            }}\r\n                                <br><i>{{ data.item.updatedByDate ? data.item.updatedByDate : '' }}</i>\r\n                            </template>\r\n                        </template>\r\n\r\n                        <!-- APPROVED_BY -->\r\n                        <template #cell(approvedBy)=\"data\">\r\n                            <template v-if=\"data.item.confirmedByUserName\">\r\n                                {{\r\n                                data.item.confirmedByEmployeeFullName ? (data.item.confirmedByEmployeeFullName + ' ' + (data.item.confirmedByDirectoryPositionNameUz ? ('(' + data.item.confirmedByDirectoryPositionNameUz + ', ' + $t('auth.username') + ' - ' + data.item.confirmedByUserName + ')') : '')) : $t('auth.username') + ' - ' + data.item.confirmedByUserName\r\n                            }}\r\n                                <br><i>{{ data.item.confirmedByDate ? data.item.confirmedByDate : '' }}</i>\r\n                            </template>\r\n\r\n                        </template>\r\n\r\n                        <template #cell(contractorFullName)=\"data\">\r\n                            {{ data.item.contractorDto.fullName }} - {{ data.item.contractorDto.inn }}\r\n                        </template>\r\n\r\n                        <!-- PRODUCTS_OR_SERVICES -->\r\n                        <template #cell(productOrServices)=\"data\">\r\n                            {{\r\n                                getName({\r\n                                    nameRu: data.item.directoryProductOrServiceDto.nameRu,\r\n                                    nameLt: data.item.directoryProductOrServiceDto.nameLt,\r\n                                    nameUz: data.item.directoryProductOrServiceDto.nameUz,\r\n                                })\r\n                            }}\r\n                        </template>\r\n\r\n                        <!-- OKEDS -->\r\n                        <template #cell(oked)=\"data\">\r\n                            <div v-if=\"data.item.infoOkedDto\">\r\n                                <strong>{{ `${data.item.infoOkedDto.code} - ` }}</strong>\r\n                                {{\r\n                                getName({\r\n                                    nameRu: data.item.infoOkedDto.nameRu,\r\n                                    nameLt: data.item.infoOkedDto.nameLt,\r\n                                    nameUz: data.item.infoOkedDto.nameUz,\r\n                                })\r\n                            }}\r\n                            </div>\r\n                        </template>\r\n\r\n                        <!-- SKP -->\r\n                        <template #cell(skp)=\"data\">\r\n                            <div v-if=\"data.item.infoSKPDto\">\r\n                                <strong>{{ `${data.item.infoSKPDto.code} - ` }}</strong>\r\n                                {{\r\n                                getName({\r\n                                    nameRu: data.item.infoSKPDto.nameRu,\r\n                                    nameLt: data.item.infoSKPDto.nameLt,\r\n                                    nameUz: data.item.infoSKPDto.nameUz,\r\n                                })\r\n                            }}\r\n                            </div>\r\n                        </template>\r\n\r\n                        <!-- TNVED -->\r\n                        <template #cell(tnved)=\"data\">\r\n                            <div v-if=\"data.item.infoTNVEDDto\">\r\n                                <strong>{{ `${data.item.infoTNVEDDto.code} - ` }}</strong>\r\n                                {{\r\n                                getName({\r\n                                    nameRu: data.item.infoTNVEDDto.nameRu,\r\n                                    nameLt: data.item.infoTNVEDDto.nameLt,\r\n                                    nameUz: data.item.infoTNVEDDto.nameUz,\r\n                                })\r\n                            }}\r\n                            </div>\r\n                        </template>\r\n\r\n                        <!-- PRODUCT_OR_SERVICE_TYPE -->\r\n                        <template #cell(productOrServiceType)=\"data\">\r\n                            <strong v-if=\"data.item.directoryProductOrServiceTypeDto\">{{\r\n                                getName({\r\n                                    nameRu: data.item.directoryProductOrServiceTypeDto.nameRu,\r\n                                    nameLt: data.item.directoryProductOrServiceTypeDto.nameLt,\r\n                                    nameUz: data.item.directoryProductOrServiceTypeDto.nameUz,\r\n                                })\r\n                            }}</strong>\r\n                        </template>\r\n\r\n                        <!-- UNIT -->\r\n                        <template #cell(unit)=\"data\">\r\n                            <strong v-if=\"data.item.unitId\">{{\r\n                                getName({\r\n                                    nameRu: data.item.unitNameRu,\r\n                                    nameLt: data.item.unitNameLt,\r\n                                    nameUz: data.item.unitNameUz,\r\n                                })\r\n                            }}</strong>\r\n                        </template>\r\n\r\n                        <!-- FOUNDERS_PERCENTAGE -->\r\n                        <template #cell(foundersPercentage)=\"data\">\r\n                            <div class=\"d-flex align-items-center flex-wrap\">\r\n                                <ul>\r\n                                    <li\r\n                                        v-for=\"(el, index) in data.item.contractorDto.foundersDtos\"\r\n                                        :key=\"`founder-${el.id}-${index}`\"\r\n                                    >{{\r\n                                        el.founderName\r\n                                    }} <strong>({{\r\n                                        el.percentage\r\n                                    }})</strong>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </template>\r\n\r\n                        <!-- REGION -->\r\n                        <template #cell(region)=\"data\">\r\n                            <div class=\"d-flex align-items-center flex-wrap\">\r\n                                <ul>\r\n                                    <li\r\n                                        v-for=\"(el, index) in data.item.regionDtos\"\r\n                                        :key=\"`region-${index}`\"\r\n                                    ><strong>{{\r\n                                                getName({\r\n                                                nameRu: el.nameRu,\r\n                                                nameLt: el.nameLt,\r\n                                                nameUz: el.nameUz,\r\n                                                })\r\n                                            }}</strong>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </template>\r\n\r\n                        <!-- DISTRICT -->\r\n                        <template #cell(district)=\"data\">\r\n                            <div\r\n                                v-if=\"data.item.districtDtos\"\r\n                                class=\"d-flex align-items-center flex-wrap\"\r\n                            >\r\n                                <ul>\r\n                                    <li\r\n                                        v-for=\"(el, index) in data.item.districtDtos\"\r\n                                        :key=\"`district-${index}`\"\r\n                                    ><strong>{{\r\n                                                getName({\r\n                                                nameRu: el.nameRu,\r\n                                                nameLt: el.nameLt,\r\n                                                nameUz: el.nameUz,\r\n                                                })\r\n                                            }}</strong>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </template>\r\n                        <!-- INNER TABLE FOR REESTR -->\r\n                        <template #row-details=\"row\">\r\n                            <b-row>\r\n                                <b-col cols=\"12\">\r\n                                    <b-tabs\r\n                                        v-model=\"row.item.activeTabIdxOfInnerTabs\"\r\n                                        @input=\"setRowsInnerTabsData(row.item, row.index, $event)\"\r\n                                        card\r\n                                    >\r\n                                        <b-tab\r\n                                            v-for=\"(t, index) in tableInnerTabs\"\r\n                                            :key=\"`tableInnerTab-${index}`\"\r\n                                            :title=\"t.title.toUpperCase()\"\r\n                                        >\r\n                                            <b-tabs\r\n                                                v-if=\"t.key == 'contractor'\"\r\n                                                v-model=\"row.item.activeTabIdxForContractor\"\r\n                                                @input=\"setRowsInnerTabsData(row.item, row.index, $event, true)\"\r\n                                            >\r\n                                                <b-tab\r\n                                                    v-for=\"(tc, indexTc) in contractorTabs\"\r\n                                                    :key=\"`contractorTab-${indexTc}`\"\r\n                                                    :title=\"tc.title\"\r\n                                                >\r\n                                                    <b-tabs\r\n                                                        card\r\n                                                        v-if=\"tc.key == 'founders'\"\r\n                                                        v-model=\"row.item.activeTabIdxForContractorFounder\"\r\n                                                        @input=\"setRowsInnerTabsData(row.item, row.index, indexTc, true, true, $event)\"\r\n                                                    >\r\n                                                        <b-tab\r\n                                                            v-for=\"(tcf, indexTcf) in founderTabs\"\r\n                                                            :key=\"`contractorFoundersTab-${indexTcf}`\"\r\n                                                            :title=\"tcf.title\"\r\n                                                        >\r\n                                                            <template #title>\r\n                                                                {{ tcf.title }}\r\n                                                                <b-badge\r\n                                                                    v-if=\"(tcf.key == 'legal' || tcf.key == 'individual') && row.item.foundersFullData\"\r\n                                                                    :variant=\"tcf.key == 'legal' ? 'primary' : 'success'\"\r\n                                                                    class=\"font-weight-bold\"\r\n                                                                    style=\"font-size: .7rem;\"\r\n                                                                >{{ tcf.key == 'legal' ? row.item.foundersFullData.founderLegalCount : row.item.foundersFullData.founderIndividualCount }}</b-badge>\r\n                                                            </template>\r\n                                                            <b-table\r\n                                                                :items=\"row.item.contractorTabItems\"\r\n                                                                :fields=\"tcf.fields\"\r\n                                                                :busy=\"row.item.loadingInnerData\"\r\n                                                                sticky-header=\"400px\"\r\n                                                                bordered\r\n                                                                small\r\n                                                                hover\r\n                                                                show-empty\r\n                                                                striped\r\n                                                            >\r\n                                                                <!-- TABLE_BUSY SLOT -->\r\n                                                                <template #table-busy>\r\n                                                                    <div class=\"text-center my-2\">\r\n                                                                        <b-spinner\r\n                                                                            variant=\"primary\"\r\n                                                                            class=\"align-middle\"\r\n                                                                        ></b-spinner>\r\n\r\n                                                                    </div>\r\n                                                                </template>\r\n\r\n                                                                <template #cell(index)=\"data\">\r\n                                                                    {{\r\n                                                                        data.index + 1\r\n                                                                    }}\r\n                                                                </template>\r\n\r\n                                                                <!-- FULL_NAME -->\r\n                                                                <template #cell(fullName)=\"data\">\r\n                                                                    {{ data.item.firstName }} {{ data.item.lastName }}\r\n                                                                    {{ data.item.middleName ? data.item.middleName : '' }}\r\n                                                                </template>\r\n\r\n                                                                <!-- FOUNDER_SHARE_SUM -->\r\n                                                                <template #cell(founderShareSum)=\"data\">\r\n                                                                    {{ data.item.founderShareSum | toCurrency }}\r\n                                                                </template>\r\n\r\n                                                                <!-- FOUNDER_TYPE -->\r\n                                                                <template #cell(founderType)=\"\">\r\n                                                                    <b-badge\r\n                                                                        v-if=\"tcf.key == 'legal' || tcf.key == 'individual'\"\r\n                                                                        :variant=\"tcf.key == 'legal' ? 'primary' : 'success'\"\r\n                                                                        class=\"font-weight-bold\"\r\n                                                                        style=\"font-size: .7rem;\"\r\n                                                                    >{{ tcf.key == 'legal' ? $t('column.legal_entity') : $t('column.individual') }}</b-badge>\r\n                                                                </template>\r\n\r\n                                                                <template #empty=\"\">\r\n                                                                    <h4 class=\"text-center\">{{ $t('messages.data_not_found') }}</h4>\r\n                                                                </template>\r\n\r\n                                                            </b-table>\r\n                                                        </b-tab>\r\n                                                    </b-tabs>\r\n                                                    <b-table\r\n                                                        v-else\r\n                                                        :items=\"row.item.contractorTabItems\"\r\n                                                        :fields=\"tc.fields\"\r\n                                                        :busy=\"row.item.loadingInnerData\"\r\n                                                        sticky-header=\"400px\"\r\n                                                        bordered\r\n                                                        small\r\n                                                        hover\r\n                                                        show-empty\r\n                                                        striped\r\n                                                    >\r\n                                                        <!-- TABLE_BUSY SLOT -->\r\n                                                        <template #table-busy>\r\n                                                            <div class=\"text-center my-2\">\r\n                                                                <b-spinner\r\n                                                                    variant=\"primary\"\r\n                                                                    class=\"align-middle\"\r\n                                                                ></b-spinner>\r\n\r\n                                                            </div>\r\n                                                        </template>\r\n\r\n                                                        <template #cell(index)=\"data\">\r\n                                                            {{\r\n                                                                data.index + 1\r\n                                                            }}\r\n                                                        </template>\r\n                                                        <!-- NAME -->\r\n                                                        <template #cell(name)=\"data\">\r\n                                                            <div class=\"d-flex justify-content-between\">\r\n                                                                <p\r\n                                                                    class=\"mb-0 d-flex align-items-center\"\r\n                                                                    style=\"flex-basis: 0; flex-grow: 1; gap: .3rem;\"\r\n                                                                ><span class=\"badge bg-primary\"></span> : <span> {{ data.item.nameUz }}</span></p>\r\n                                                                <p\r\n                                                                    class=\"mb-0 d-flex align-items-center\"\r\n                                                                    style=\"flex-basis: 0; flex-grow: 1; gap: .3rem;\"\r\n                                                                ><span class=\"badge bg-primary\">O'Z</span> : <span> {{ data.item.nameLt }}</span></p>\r\n                                                                <p\r\n                                                                    class=\"mb-0 d-flex align-items-center\"\r\n                                                                    style=\"flex-basis: 0; flex-grow: 1; gap: .3rem;\"\r\n                                                                ><span class=\"badge bg-primary\"></span> : <span> {{ data.item.nameRu }}</span></p>\r\n                                                            </div>\r\n                                                        </template>\r\n\r\n                                                        <!-- FULL_NAME -->\r\n                                                        <template #cell(directorOrAccounterFullName)=\"data\">\r\n                                                            {{ data.item.firstName }} {{ data.item.lastName }}\r\n                                                            {{ data.item.middleName ? data.item.middleName : '' }}\r\n                                                        </template>\r\n\r\n                                                        <!-- STATUS -->\r\n                                                        <template #cell(status)=\"data\">\r\n                                                            <div class=\"d-flex justify-content-between\">\r\n                                                                <p>\r\n                                                                    {{\r\n                                                                        getName({\r\n                                                                        nameRu: data.item.statusNameRu,\r\n                                                                        nameLt: data.item.statusNameLt,\r\n                                                                        nameUz: data.item.statusNameUz,\r\n                                                                        })\r\n                                                                    }}\r\n                                                                </p>\r\n                                                            </div>\r\n                                                        </template>\r\n\r\n                                                        <!-- PARENT -->\r\n                                                        <template #cell(parent)=\"data\">\r\n                                                            <span v-if=\"data.item.parent\">\r\n                                                                {{ data.item.parent.fullName }}\r\n                                                            </span>\r\n                                                        </template>\r\n\r\n                                                        <!-- STATUS -->\r\n                                                        <template #cell(formOfOwnership)=\"data\">\r\n                                                            <div class=\"d-flex justify-content-between\">\r\n                                                                <p>\r\n                                                                    {{\r\n                                                                        getName({\r\n                                                                        nameRu: data.item.formOfOwnershipNameRu,\r\n                                                                        nameLt: data.item.formOfOwnershipNameLt,\r\n                                                                        nameUz: data.item.formOfOwnershipNameUz,\r\n                                                                        })\r\n                                                                    }}\r\n                                                                </p>\r\n                                                            </div>\r\n                                                        </template>\r\n\r\n                                                        <!-- REGION NAME -->\r\n                                                        <template #cell(regionName)=\"data\">\r\n                                                            <p v-if=\"data.item.addressDto\">\r\n                                                                {{\r\n                                                            getName({\r\n                                                                nameRu: data.item.addressDto.regionNameRu,\r\n                                                                nameLt: data.item.addressDto.regionNameLt,\r\n                                                                nameUz: data.item.addressDto.regionNameUz,\r\n                                                            })\r\n                                                            }}\r\n                                                            </p>\r\n                                                        </template>\r\n\r\n                                                        <!-- DISTRICT NAME -->\r\n                                                        <template #cell(districtName)=\"data\">\r\n                                                            <p v-if=\"data.item.addressDto\">\r\n                                                                {{\r\n                                                                    getName({\r\n                                                                        nameRu: data.item.addressDto.districtNameRu,\r\n                                                                        nameLt: data.item.addressDto.districtNameLt,\r\n                                                                        nameUz: data.item.addressDto.districtNameUz,\r\n                                                                    })\r\n                                                                    }}\r\n                                                            </p>\r\n                                                        </template>\r\n\r\n                                                        <!-- CAN REGISTER -->\r\n                                                        <template\r\n                                                            v-if=\"tc.key == 'generalInfo'\"\r\n                                                            #cell(canRegister)=\"data\"\r\n                                                        >\r\n                                                            <div class=\"d-flex justify-content-center\">\r\n                                                                <span\r\n                                                                    class=\"badge bg-success\"\r\n                                                                    v-if=\"data.item.canRegister === true\"\r\n                                                                >HA</span>\r\n                                                                <span\r\n                                                                    class=\"badge bg-warning\"\r\n                                                                    v-if=\"data.item.canRegister === false\"\r\n                                                                >YO'Q</span>\r\n                                                            </div>\r\n                                                        </template>\r\n\r\n                                                        <!-- FOUNDER_SHARE_SUM -->\r\n                                                        <template #cell(founderShareSum)=\"data\">\r\n                                                            {{ data.item.founderShareSum | toCurrency }}\r\n                                                        </template>\r\n\r\n                                                        <!-- FOUNDER_TYPE -->\r\n                                                        <template #cell(founderType)=\"data\">\r\n                                                            <b-badge\r\n                                                                :variant=\"data.item.isLegal ? 'primary' : 'success'\"\r\n                                                                class=\"font-weight-bold\"\r\n                                                                style=\"font-size: .7rem;\"\r\n                                                            >{{ data.item.isLegal ? $t('column.legal_entity') : $t('column.individual') }}</b-badge>\r\n                                                        </template>\r\n\r\n                                                        <template #empty=\"\">\r\n                                                            <h4 class=\"text-center\">{{ $t('messages.data_not_found') }}</h4>\r\n                                                        </template>\r\n\r\n                                                    </b-table>\r\n                                                </b-tab>\r\n                                            </b-tabs>\r\n                                            <b-table\r\n                                                v-else\r\n                                                :items=\"row.item.innerTabItems\"\r\n                                                :fields=\"t.fields\"\r\n                                                :busy=\"row.item.loadingInnerData\"\r\n                                                sticky-header=\"400px\"\r\n                                                bordered\r\n                                                small\r\n                                                hover\r\n                                                show-empty\r\n                                                striped\r\n                                            >\r\n                                                <!-- TABLE_BUSY SLOT -->\r\n                                                <template #table-busy>\r\n                                                    <div class=\"text-center my-2\">\r\n                                                        <b-spinner\r\n                                                            variant=\"primary\"\r\n                                                            class=\"align-middle\"\r\n                                                        ></b-spinner>\r\n\r\n                                                    </div>\r\n                                                </template>\r\n\r\n                                                <template #cell(index)=\"innerData\">\r\n                                                    {{\r\n                                                        innerData.index + 1\r\n                                                    }}\r\n                                                </template>\r\n\r\n                                                <!-- PRICE_APPROVAL_CURRENT_PRICE_WITH_DUTY -->\r\n                                                <template #cell(currentPriceWithDuty)=\"data\">\r\n                                                    {{ data.item.currentPriceWithDuty | toCurrency }}\r\n                                                </template>\r\n                                                <!-- PRICE_APPROVAL_CURRENT_PRICE_WITHOUT_DUTY -->\r\n                                                <template #cell(currentPriceWithoutDuty)=\"data\">\r\n                                                    {{ data.item.currentPriceWithoutDuty | toCurrency }}\r\n                                                </template>\r\n\r\n                                                <!-- COMISSION_SHOWCASE_AMOUNT -->\r\n                                                <template #cell(instructionAmount)=\"data\">\r\n                                                    {{ data.item.instructionAmount | toCurrency }}\r\n                                                </template>\r\n                                                <!-- COMISSION_REMAINDER_AMOUNT -->\r\n                                                <template #cell(residueAmount)=\"data\">\r\n                                                    {{ data.item.residueAmount | toCurrency }}\r\n                                                </template>\r\n\r\n                                                <template #empty=\"\">\r\n                                                    <h4 class=\"text-center\">{{ $t('messages.data_not_found') }}</h4>\r\n                                                </template>\r\n\r\n                                            </b-table>\r\n                                        </b-tab>\r\n                                    </b-tabs>\r\n                                </b-col>\r\n                                <!-- <b-col\r\n                                    v-if=\"isNatural || isNaturalRepublic\"\r\n                                    sm=\"5\"\r\n                                >\r\n                                    <h4 class=\"text-center\">{{$t('column.announced_media')}}</h4>\r\n                                    <b-table\r\n                                        :items=\"row.item.announcedMediaDtos ? row.item.announcedMediaDtos : []\"\r\n                                        :fields=\"mediaTableFields\"\r\n                                        :busy=\"row.item.loadingInnerData\"\r\n                                        bordered\r\n                                        small\r\n                                        hover\r\n                                        show-empty\r\n                                        striped\r\n                                        table-variant=\"info\"\r\n                                    >\r\n\r\n                                        \r\n                                        <template #cell(index)=\"innerData\">\r\n                                            {{\r\n                                        innerData.index + 1\r\n                                    }}\r\n                                        </template>\r\n                                        \r\n                                        <template #empty=\"\">\r\n                                            <h4 class=\"text-center\">{{ $t('messages.data_not_found') }}</h4>\r\n                                        </template>\r\n\r\n                                    </b-table>\r\n                                </b-col>\r\n                                <b-col :sm=\"isNatural || isNaturalRepublic ? '7' : '12'\">\r\n                                    <h4 class=\"text-center\">{{$t('column.commission_applications')}}</h4>\r\n                                    <b-table\r\n                                        :items=\"row.item.commissionApplicationDtos ? row.item.commissionApplicationDtos : []\"\r\n                                        :fields=\"comissionTableFields\"\r\n                                        :busy=\"row.item.loadingInnerData\"\r\n                                        bordered\r\n                                        small\r\n                                        hover\r\n                                        show-empty\r\n                                        striped\r\n                                        table-variant=\"warning\"\r\n                                    >\r\n\r\n                                        \r\n                                        <template #cell(index)=\"innerData\">\r\n                                            {{\r\n                                        innerData.index + 1\r\n                                    }}\r\n                                        </template>\r\n                                        \r\n                                        <template #empty=\"\">\r\n                                            <h4 class=\"text-center\">{{ $t('messages.data_not_found') }}</h4>\r\n                                        </template>\r\n\r\n                                    </b-table>\r\n                                </b-col> -->\r\n                            </b-row>\r\n                        </template>\r\n                        <!-- ACTIONS -->\r\n                        <template #cell(actions)=\"data\">\r\n                            <div class=\"general-table__actions d-flex justify-content-center\">\r\n                                <b-btn\r\n                                    v-if=\"canUpdateReestr && data.item.documentStatusCode == 'PENDING' && data.item.documentType == 'KIRITISH'\"\r\n                                    variant=\"link\"\r\n                                    class=\"text-decoration-none p-0\"\r\n                                    style=\"font-size: 1.2rem; margin-right: 1rem;\"\r\n                                    @click=\"editItem(data.item)\"\r\n                                >\r\n                                    <i class=\"mdi mdi-circle-edit-outline edit\"></i>\r\n                                </b-btn>\r\n\r\n                                <a\r\n                                    style=\"font-size: 1.2rem; margin-right: 1rem;\"\r\n                                    :href=\"`${publicPath}${data.item.fileUrl}`\"\r\n                                    target=\"_blank\"\r\n                                >\r\n                                    <i class=\"mdi mdi-file-download\"></i>\r\n                                </a>\r\n\r\n                                <b-btn\r\n                                    v-if=\"canApproveReestr && data.item.documentStatusCode == 'PENDING'\"\r\n                                    variant=\"link\"\r\n                                    class=\"text-decoration-none p-0\"\r\n                                    style=\"font-size: 1.2rem; color: green;\"\r\n                                >\r\n                                    <i\r\n                                        @click=\"approveReestrDoc(data.item)\"\r\n                                        class=\"mdi mdi-check-circle-outline edit\"\r\n                                    ></i>\r\n                                </b-btn>\r\n                            </div>\r\n                        </template>\r\n\r\n                        <!-- EMPTY SLOT -->\r\n                        <template #empty=\"\">\r\n                            <h4 class=\"text-center\">{{ $t('messages.data_not_found') }}</h4>\r\n                        </template>\r\n\r\n                        <!-- TABLE_BUSY SLOT -->\r\n                        <template #table-busy>\r\n                            <div class=\"text-center my-2\">\r\n                                <b-spinner\r\n                                    variant=\"primary\"\r\n                                    class=\"align-middle\"\r\n                                ></b-spinner>\r\n                            </div>\r\n                        </template>\r\n                    </b-table>\r\n\r\n                    <!-- end table -->\r\n                    <!-- <b-pagination\r\n                        v-model=\"var_default_search_payload.page\"\r\n                        :total-rows=\"totalItems\"\r\n                        :per-page=\"var_default_search_payload.itemsPerPage\"\r\n                        aria-controls=\"my-table\"\r\n                        class=\"justify-content-end\"\r\n                    ></b-pagination> -->\r\n                </div>\r\n                <!-- end card-body -->\r\n            </div>\r\n            <!-- end card -->\r\n        </div>\r\n        <!-- end col -->\r\n    </div>\r\n    <!-- end row -->\r\n</template>\r\n\r\n<script>\r\nconst MAIN_API_URL = 'reestr/contractor-reestr-documents'\r\nconst APPEND_API_URL_NATURAL = 'for-contractor/estestveniy'\r\nconst APPEND_API_URL_DOMINANT = 'for-contractor/daminiriushiy'\r\nimport crudAndListsService from '@/shared/services/crud_and_list.service'\r\nimport helperService from '@/shared/services/helper.service'\r\n\r\nexport default {\r\n    name: 'ReestrHistoryForContractorNatural',\r\n    components: {},\r\n    data () {\r\n        return {\r\n            publicPath: process.env.BASE_URL,\r\n            // activeTabIdxForContractor: 0,\r\n            // activeTabIdxOfInnerTabs: 0,\r\n            founderTabs: [\r\n                {\r\n                    key: \"legal\",\r\n                    title: this.$t('column.legal_entity'),\r\n                    fields: [\r\n                        {\r\n                            label: \"#\",\r\n                            thClass: \"text-center\",\r\n                            tdClass: \"text-center\",\r\n                            sortable: false,\r\n                            key: \"index\",\r\n                        },\r\n                        {\r\n                            key: 'name',\r\n                            label: this.$t('column.name'),\r\n                        },\r\n                        {\r\n                            key: 'tin',\r\n                            label: this.$t('column.inn'),\r\n                        },\r\n                        {\r\n                            key: 'founderType',\r\n                            label: this.$t('column.type'),\r\n                        },\r\n                        {\r\n                            key: 'founderSharePercent',\r\n                            label: this.$t('column.share_percentage'),\r\n                        },\r\n                        {\r\n                            key: 'founderShareSum',\r\n                            label: this.$t('column.share_sum'),\r\n                        },\r\n                    ]\r\n                },\r\n                {\r\n                    key: \"individual\",\r\n                    title: this.$t('column.individual'),\r\n                    fields: [\r\n                        {\r\n                            label: \"#\",\r\n                            thClass: \"text-center\",\r\n                            tdClass: \"text-center\",\r\n                            sortable: false,\r\n                            key: \"index\",\r\n                        },\r\n                        {\r\n                            key: 'fullName',\r\n                            label: this.$t('column.name'),\r\n                        },\r\n                        {\r\n                            key: 'tin',\r\n                            label: this.$t('column.inn'),\r\n                        },\r\n                        {\r\n                            key: 'pinfl',\r\n                            label: this.$t('column.personal_number'),\r\n                        },\r\n                        {\r\n                            key: 'founderType',\r\n                            label: this.$t('column.type'),\r\n                        },\r\n                        {\r\n                            key: 'founderSharePercent',\r\n                            label: this.$t('column.share_percentage'),\r\n                        },\r\n                        {\r\n                            key: 'founderShareSum',\r\n                            label: this.$t('column.share_sum'),\r\n                        },\r\n                    ]\r\n                }\r\n            ],\r\n            contractorTabs: [\r\n                {\r\n                    key: \"generalInfo\",\r\n                    title: this.$t('column.general_info'),\r\n                    fields: [\r\n                        {\r\n                            label: \"#\",\r\n                            thClass: \"text-center\",\r\n                            tdClass: \"text-center\",\r\n                            sortable: false,\r\n                            key: \"index\",\r\n                        },\r\n                        { label: this.$t('column.full_name'), key: \"fullName\", thStyle: { 'min-width': '17rem' } },\r\n                        { label: this.$t('column.superior_parent'), key: \"parent\" },\r\n                        { label: this.$t('column.status'), key: \"status\" },\r\n                        { label: this.$t('submodules.form_of_ownership.title'), key: \"formOfOwnership\" },\r\n                        {\r\n                            label: this.$t('column.can_login'), key: \"canRegister\", tdClass: \"text-center\",\r\n                        },\r\n                        { label: this.$t('column.inn'), key: \"inn\" },\r\n                        { label: this.$t('column.oked'), key: \"oked\" },\r\n                        // { label: this.$t('column.director'), key: \"director\" },\r\n                        // { label: this.$t('column.accounter'), key: \"accounter\" },\r\n                        { label: this.$t('column.mobile_number'), key: \"mobileNumber\" },\r\n                        { label: this.$t('column.region'), key: \"regionName\" },\r\n                        { label: this.$t('column.district'), key: \"districtName\" },\r\n                        { label: this.$t('column.address'), key: \"address\" },\r\n                        { label: this.$t('column.phone_number'), key: \"phoneNumber\" },\r\n                        { label: this.$t('column.mail'), key: \"email\" },\r\n                        { label: this.$t('column.fax_number'), key: \"faxNumber\" }\r\n                    ]\r\n                },\r\n                {\r\n                    key: \"director\",\r\n                    title: this.$t('column.director'),\r\n                    fields: [\r\n                        {\r\n                            key: 'index',\r\n                            label: '#'\r\n                        },\r\n                        {\r\n                            key: 'directorOrAccounterFullName',\r\n                            label: this.$t('column.name')\r\n                        },\r\n                        {\r\n                            key: 'inn',\r\n                            label: this.$t('column.inn'),\r\n                        },\r\n                        {\r\n                            key: 'pnfl',\r\n                            label: this.$t('column.personal_number'),\r\n                        },\r\n                    ]\r\n                },\r\n                {\r\n                    key: \"accounter\",\r\n                    title: this.$t('column.accounter'),\r\n                    fields: [\r\n                        {\r\n                            key: 'index',\r\n                            label: '#'\r\n                        },\r\n                        {\r\n                            key: 'directorOrAccounterFullName',\r\n                            label: this.$t('column.name')\r\n                        },\r\n                        {\r\n                            key: 'inn',\r\n                            label: this.$t('column.inn'),\r\n                        },\r\n                        {\r\n                            key: 'pnfl',\r\n                            label: this.$t('column.personal_number'),\r\n                        },\r\n                    ]\r\n                },\r\n                {\r\n                    key: \"founders\",\r\n                    title: this.$t('column.founders'),\r\n                    fields: [\r\n                        {\r\n                            label: \"#\",\r\n                            thClass: \"text-center\",\r\n                            tdClass: \"text-center\",\r\n                            sortable: false,\r\n                            key: \"index\",\r\n                        },\r\n                        {\r\n                            key: 'fullName',\r\n                            label: this.$t('column.name'),\r\n                        },\r\n                        {\r\n                            key: 'inn',\r\n                            label: this.$t('column.inn'),\r\n                        },\r\n                        {\r\n                            key: 'pnfl',\r\n                            label: this.$t('column.personal_number'),\r\n                        },\r\n                        {\r\n                            key: 'founderType',\r\n                            label: this.$t('column.type'),\r\n                        },\r\n                        {\r\n                            key: 'founderSharePercent',\r\n                            label: this.$t('column.share_percentage'),\r\n                        },\r\n                        {\r\n                            key: 'founderShareSum',\r\n                            label: this.$t('column.share_sum'),\r\n                        },\r\n                    ]\r\n                }\r\n            ],\r\n            tableInnerTabs: [\r\n                {\r\n                    key: \"contractor\",\r\n                    title: this.$t('column.business_entity'),\r\n                    fields: [\r\n                        {\r\n                            key: 'index',\r\n                            label: '#'\r\n                        },\r\n                        {\r\n                            key: 'name',\r\n                            label: this.$t('column.name')\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    key: \"prices\",\r\n                    title: this.$t('column.prices'),\r\n                    fields: [\r\n                        { label: `${this.$t('column.price_approval_basis')} ${this.$t('column.date')}`, key: \"priceApprovalDate\" },\r\n                        { label: `${this.$t('column.effective_date_price')}`, key: \"priceEffectiveDate\" },\r\n                        { label: `${this.$t('column.price_approval_basis')} ${this.$t('column.number')}`, key: \"priceApprovalNumber\" },\r\n                        { label: `${this.$t('column.current_price_with_duty')}`, key: \"currentPriceWithDuty\" },\r\n                        { label: `${this.$t('column.current_price_without_duty')}`, key: \"currentPriceWithoutDuty\" },\r\n                        { label: `${this.$t('column.additional_info')}`, key: \"additionalInformation\" },\r\n                    ]\r\n                },\r\n                {\r\n                    key: \"announcedMedia\",\r\n                    title: this.$t('column.announced_media'),\r\n                    fields: [\r\n                        {\r\n                            label: \"#\",\r\n                            thClass: \"text-center\",\r\n                            tdClass: \"text-center\",\r\n                            sortable: false,\r\n                            key: \"index\",\r\n                        },\r\n                        { label: this.$t('column.name'), key: \"announcedMediaName\" },\r\n                        { label: this.$t('column.link'), key: \"announcedMediaLink\" },\r\n                        { label: this.$t('column.date'), key: \"announcedMediaDate\" }\r\n                    ]\r\n                },\r\n                {\r\n                    key: \"comission\",\r\n                    title: this.$t('column.commission_applications'),\r\n                    fields: [\r\n                        {\r\n                            label: \"#\",\r\n                            thClass: \"text-center\",\r\n                            tdClass: \"text-center\",\r\n                            sortable: false,\r\n                            key: \"index\",\r\n                        },\r\n                        { label: this.$t('column.number'), key: \"commencementNumber\" },\r\n                        { label: this.$t('column.date'), key: \"commencementDate\" },\r\n                        { label: this.$t('column.initiator'), key: \"initiatorName\" },\r\n                        { label: this.$t('column.finishing_type'), key: \"completionWorkType\" },\r\n                        { label: this.$t('column.finishing_date'), key: \"completionWorkDate\" },\r\n                        { label: this.$t('column.showcase_amount'), key: \"instructionAmount\" },\r\n                        { label: this.$t('column.remainder_amount'), key: \"residueAmount\" }\r\n                    ]\r\n                },\r\n            ],\r\n            regionId: null,\r\n            loadingTableItems: false,\r\n            regions: [],\r\n            json_fields: {\r\n                \"Order Number\": \"orderNumber\",\r\n                \"Reestr Accepted Date\": \"reestrAcceptedDate\",\r\n                \"Reestr Closed Date\": \"reestrClosedDate\",\r\n                \"Contractor FullName\": \"contractorFullName\",\r\n                \"Government Percentage\": \"governmentPercentage\",\r\n                \"Status\": \"status\",\r\n                \"Product or Service Type\": \"productOrServiceType\",\r\n                \"Product or Services\": \"productOrServices\",\r\n                \"Unit\": \"unit\",\r\n                \"Oked\": \"oked\",\r\n                \"Skp\": \"skp\",\r\n                \"Tnved\": \"tnved\",\r\n                \"Comment\": \"comment\",\r\n            },\r\n            json_data: [],\r\n            json_meta: [\r\n                [\r\n                    {\r\n                        key: \"charset\",\r\n                        value: \"utf-8\",\r\n                    },\r\n                ],\r\n            ],\r\n            searchKeyword: '',\r\n            selected: 20,\r\n            optionsTable: [\r\n                { value: 20, text: 20 },\r\n                { value: 50, text: 50 },\r\n                { value: 100, text: 100 },\r\n                { value: 150, text: 150 },\r\n                { value: 200, text: 200 },\r\n                { value: 'all', text: this.$t('column.all') },\r\n            ],\r\n            activeDep: {},\r\n            tableItems: [],\r\n            totalItems: 0,\r\n            tableFields: [\r\n                {\r\n                    label: \"#\",\r\n                    thClass: \"text-center\",\r\n                    tdClass: \"text-center\",\r\n                    sortable: false,\r\n                    key: \"index\",\r\n                },\r\n                { label: this.$t('column.order_number'), key: \"orderNumber\" },\r\n                { label: this.$t('column.added_date_to_reestr'), key: \"reestrAcceptedDate\" },\r\n                { label: this.$t('column.removed_date_from_reestr'), key: \"reestrClosedDate\" },\r\n                { label: this.$t('column.business_entity'), key: \"contractorFullName\" },\r\n                { label: this.$t('column.region'), key: \"region\" },\r\n                { label: this.$t('column.government_percentage'), key: \"governmentPercentage\" },\r\n                { label: this.$t('column.founders_percentage'), key: \"foundersPercentage\" },\r\n                { label: this.$t('column.document_type'), key: \"documentType\" },\r\n                { label: this.$t('column.status'), key: \"status\" },\r\n                { label: this.$t('column.product_or_service_type'), key: \"productOrServiceType\" },\r\n                { label: this.$t('submodules.product_or_services.title'), key: \"productOrServices\" },\r\n                { label: this.$t('column.unit'), key: \"unit\" },\r\n                { label: this.$t('column.oked'), key: \"oked\" },\r\n                { label: this.$t('column.comment'), key: \"comment\" },\r\n                { label: this.$t('column.last_modified_by'), key: \"lastModifiedBy\" },\r\n                { label: this.$t('column.approved_by'), key: \"approvedBy\" },\r\n                {\r\n                    label: this.$t('column.actions'),\r\n                    key: \"actions\",\r\n                    thClass: \"text-center\",\r\n                    tdClass: \"text-center\",\r\n                    sortable: false\r\n                },\r\n            ],\r\n            /* mediaTableFields: [\r\n                {\r\n                    label: \"#\",\r\n                    thClass: \"text-center\",\r\n                    tdClass: \"text-center\",\r\n                    sortable: false,\r\n                    key: \"index\",\r\n                },\r\n                { label: this.$t('column.name'), key: \"announcedMediaName\" },\r\n                { label: this.$t('column.link'), key: \"announcedMediaLink\" },\r\n                { label: this.$t('column.date'), key: \"announcedMediaDate\" }\r\n            ],\r\n            comissionTableFields: [\r\n                {\r\n                    label: \"#\",\r\n                    thClass: \"text-center\",\r\n                    tdClass: \"text-center\",\r\n                    sortable: false,\r\n                    key: \"index\",\r\n                },\r\n                { label: this.$t('column.number'), key: \"commencementNumber\" },\r\n                { label: this.$t('column.date'), key: \"commencementDate\" },\r\n                { label: this.$t('column.initiator'), key: \"initiatorName\" },\r\n                { label: this.$t('column.finishing_type'), key: \"completionWorkType\" },\r\n                { label: this.$t('column.finishing_date'), key: \"completionWorkDate\" },\r\n                { label: this.$t('column.showcase_amount'), key: \"instructionAmount\" },\r\n                { label: this.$t('column.remainder_amount'), key: \"residueAmount\" }\r\n            ] */\r\n        };\r\n    },\r\n    /*\r\n    COMPUTED */\r\n    computed: {\r\n        /* activeInnerTab () {\r\n            return this.tableInnerTabs[this.activeTabIdxOfInnerTabs].key\r\n        },\r\n        activeContractorTab () {\r\n            return this.contractorTabs[this.activeTabIdxForContractor].key\r\n        }, */\r\n        numberOfPages () {\r\n            return (!this.totalItems || this.totalItems <= 0 || this.totalItems < this.var_default_search_payload.itemsPerPage) ? 1 : this.totalItems / this.var_default_search_payload.itemsPerPage\r\n        },\r\n        isDominant () {\r\n            return this.$route.name === 'ReestrHistoryForContractorDominant'\r\n        },\r\n        isNatural () {\r\n            return this.$route.name === 'ReestrHistoryForContractorNatural'\r\n        },\r\n        isDominantRepublic () {\r\n            return this.$route.name === 'ReestrHistoryForRepublicContractorDominant'\r\n        },\r\n        isNaturalRepublic () {\r\n            return this.$route.name === 'ReestrHistoryForRepublicContractorNatural'\r\n        },\r\n        jsonFieldsComputed () {\r\n            let tmp = {}\r\n            this.tableFields.forEach((field, index) => {\r\n                if (index != 0 && index != this.tableFields.length - 1) {\r\n                    tmp[field.label] = field.key\r\n                }\r\n            })\r\n            return tmp\r\n        },\r\n        canUpdateReestr () {\r\n            if (this.isDominant || this.isDominantRepublic) {\r\n                return this.$can('update', 'contractor reestr document for acceptance daminiriushiy')\r\n            } else if (this.isNatural || this.isNaturalRepublic) {\r\n                return this.$can('update', 'contractor reestr document for acceptance estestveniy')\r\n            }\r\n            return false\r\n        },\r\n        canApproveReestr () {\r\n            return this.$can('contractor', 'reestr document confirmation')\r\n        }\r\n    },\r\n    methods: {\r\n        approveReestrDoc (doc) {\r\n            this.$bvModal.msgBoxConfirm(this.$t('messages.you_sure_title'), {\r\n                okTitle: this.$t('actions.confirm'),\r\n                cancelTitle: this.$t('actions.cancel')\r\n            })\r\n                .then(value => {\r\n                    if (value) {\r\n                        helperService\r\n                            .approveReestrDoc(doc.id)\r\n                            .then((res) => {\r\n                                this.fetchTableItems()\r\n                            })\r\n                            .catch(e => {\r\n                                console.log(e)\r\n                            })\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    // An error occurred\r\n                })\r\n        },\r\n        activeInnerTab (activeTabIdxOfInnerTabs) {\r\n            return this.tableInnerTabs[activeTabIdxOfInnerTabs].key\r\n        },\r\n        activeContractorTab (activeTabIdxForContractor) {\r\n            return this.contractorTabs[activeTabIdxForContractor].key\r\n        },\r\n        setRowsInnerTabsData (item, index, selectedTabIndex, isForContractor = false, isForFounders = false, founderTabIndex = 0) {\r\n            if (this.tableInnerTabs[selectedTabIndex].key == 'contractor' || isForContractor) {\r\n                this.$set(item, 'loadingInnerData', true)\r\n                if (this.contractorTabs[selectedTabIndex].key == 'generalInfo') {\r\n                    this.$set(item, 'contractorTabItems', [item.contractorDto])\r\n                    this.$set(item, 'loadingInnerData', false)\r\n                } else if (this.contractorTabs[selectedTabIndex].key == 'director') {\r\n                    helperService.getContractorDirector(item.contractorDto.id)\r\n                        .then(res => {\r\n                            this.$set(item, 'contractorTabItems', [res.data])\r\n                        })\r\n                        .catch(e => {\r\n                            this.$set(item, 'contractorTabItems', [])\r\n                            console.log(e)\r\n                        })\r\n                        .finally(() => { this.$set(item, 'loadingInnerData', false) })\r\n                } else if (this.contractorTabs[selectedTabIndex].key == 'accounter') {\r\n                    helperService.getContractorAccounter(item.contractorDto.id)\r\n                        .then(res => {\r\n                            this.$set(item, 'contractorTabItems', [res.data])\r\n                        })\r\n                        .catch(e => {\r\n                            this.$set(item, 'contractorTabItems', [])\r\n                            console.log(e)\r\n                        })\r\n                        .finally(() => { this.$set(item, 'loadingInnerData', false) })\r\n                } else if (this.contractorTabs[selectedTabIndex].key == 'founders') {\r\n                    if (isForFounders && item.foundersFullData) {\r\n                        if (this.founderTabs[item.activeTabIdxForContractorFounder].key == 'legal') {\r\n                            this.$set(item, 'contractorTabItems', item.foundersFullData.founderLegalDto)\r\n                        } else if (this.founderTabs[item.activeTabIdxForContractorFounder].key == 'individual') {\r\n                            this.$set(item, 'contractorTabItems', item.foundersFullData.founderIndividualDto)\r\n                        }\r\n                        this.$set(item, 'loadingInnerData', false)\r\n                    } else {\r\n                        helperService.getContractorFounders(item.contractorDto.id)\r\n                            .then(res => {\r\n                                this.$set(item, 'foundersFullData', res.data)\r\n                                if (this.founderTabs[item.activeTabIdxForContractorFounder].key == 'legal') {\r\n                                    this.$set(item, 'contractorTabItems', res.data.founderLegalDto)\r\n                                } else if (this.founderTabs[item.activeTabIdxForContractorFounder].key == 'individual') {\r\n                                    this.$set(item, 'contractorTabItems', res.data.founderIndividualDto)\r\n                                }\r\n                            })\r\n                            .catch(e => {\r\n                                this.$set(item, 'foundersFullData', null)\r\n                                this.$set(item, 'contractorTabItems', [])\r\n                                console.log(e)\r\n                            })\r\n                            .finally(() => { this.$set(item, 'loadingInnerData', false) })\r\n                    }\r\n                }\r\n            } else if (this.tableInnerTabs[selectedTabIndex].key == 'prices') {\r\n                this.$set(item, 'innerTabItems', item.priceApprovalDtos)\r\n            } else if (this.tableInnerTabs[selectedTabIndex].key == 'announcedMedia') {\r\n                this.$set(item, 'innerTabItems', item.announcedMediaDtos)\r\n            } else if (this.tableInnerTabs[selectedTabIndex].key == 'comission') {\r\n                this.$set(item, 'innerTabItems', item.commissionApplicationDtos)\r\n            }\r\n        },\r\n        rowClicked (item, index) {\r\n            this.$set(item, '_showDetails', !item._showDetails)\r\n            if (!item.activeTabIdxOfInnerTabs) {\r\n                this.$set(item, 'activeTabIdxOfInnerTabs', 0)\r\n            }\r\n            if (!item.activeTabIdxForContractor) {\r\n                this.$set(item, 'activeTabIdxForContractor', 0)\r\n            }\r\n            if (!item.activeTabIdxForContractorFounder) {\r\n                this.$set(item, 'activeTabIdxForContractorFounder', 0)\r\n            }\r\n            this.setRowsInnerTabsData(item, index, 0, true)\r\n            // this.fetchReestrDocsByTypeId(null, item.typeId, index)\r\n        },\r\n        fetchReestrDocsByTypeId (toggleDetails, typeId, index) {\r\n            if (toggleDetails) {\r\n                toggleDetails()\r\n            }\r\n            this.$set(this.tableItems[index], 'loadingInnerData', true)\r\n            crudAndListsService\r\n                .searchList(MAIN_API_URL, null, `${this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : ''}?regionId=${this.regionId}&typeId=${typeId}`)\r\n                .then((res) => {\r\n                    this.$set(this.tableItems[index], 'reestr', res.data)\r\n                })\r\n                .catch(e => {\r\n                    this.$set(this.tableItems[index], 'reestr', [])\r\n                })\r\n                .finally(() => {\r\n                    this.$set(this.tableItems[index], 'loadingInnerData', false)\r\n                })\r\n        },\r\n        async regionSelected ($event, dontResetDistrict = false) {\r\n            if ($event) {\r\n                this.fetchTableItems()\r\n            }\r\n        },\r\n        downloadExcel () {\r\n            this.json_data = []\r\n            this.tableItems.forEach(res => {\r\n                let obj = {}\r\n                obj.orderNumber = res.orderNumber\r\n                obj.reestrAcceptedDate = res.reestrAcceptedDate\r\n                obj.reestrClosedDate = res.reestrClosedDate\r\n                obj.contractorFullName = res.contractorDto.fullName + '-' + res.contractorDto.inn\r\n                obj.governmentPercentage = res.governmentPercentage\r\n                obj.documentType = res.documentType\r\n                obj.status = this.getName({ nameLt: res.documentStatusNameLt, nameUz: res.documentStatusNameUz, nameRu: res.documentStatusNameRu })\r\n                obj.productOrServiceType = this.getName({ nameLt: res.directoryProductOrServiceTypeDto.nameLt, nameUz: res.directoryProductOrServiceTypeDto.nameUz, nameRu: res.directoryProductOrServiceTypeDto.nameRu })\r\n                obj.productOrServices = this.getName({ nameLt: res.directoryProductOrServiceDto.nameLt, nameUz: res.directoryProductOrServiceDto.nameUz, nameRu: res.directoryProductOrServiceDto.nameRu })\r\n                obj.unit = this.getName({ nameLt: res.unitNameLt, nameUz: res.unitNameUz, nameRu: res.unitNameRu })\r\n                obj.skp = res.infoSKPDto ? res.infoSKPDto.code + '-' + this.getName({ nameLt: res.infoSKPDto.nameLt, nameUz: res.infoSKPDto.nameUz, nameRu: res.infoSKPDto.nameRu }) : ''\r\n                obj.oked = res.infoOkedDto ? res.infoOkedDto.code + '-' + this.getName({ nameLt: res.infoOkedDto.nameLt, nameUz: res.infoOkedDto.nameUz, nameRu: res.infoOkedDto.nameRu }) : ''\r\n                obj.tnved = res.infoTNVEDDto ? res.infoTNVEDDto.code + '-' + this.getName({ nameLt: res.infoTNVEDDto.nameLt, nameUz: res.infoTNVEDDto.nameUz, nameRu: res.infoTNVEDDto.nameRu }) : ''\r\n                obj.comment = res.comment\r\n                obj.lastModifiedBy = `${res.updatedByEmployeeFullName ? (res.updatedByEmployeeFullName + ' ' + (res.updatedByDirectoryPositionNameUz ? ('(' + res.updatedByDirectoryPositionNameUz + ', ' + this.$t('auth.username') + ' - ' + res.updatedByUserName + ')') : '')) : this.$t('auth.username') + ' - ' + res.updatedByUserName + ' ' + (res.updatedByDate ? res.updatedByDate : '')}`\r\n                obj.approvedBy = `${res.confirmedByEmployeeFullName ? (res.confirmedByEmployeeFullName + ' ' + (res.confirmedByDirectoryPositionNameUz ? ('(' + res.confirmedByDirectoryPositionNameUz + ', ' + this.$t('auth.username') + ' - ' + res.confirmedByUserName + ')') : '')) : this.$t('auth.username') + ' - ' + res.confirmedByUserName + ' ' + (res.confirmedByDate ? res.confirmedByDate : '')}`\r\n                obj.foundersPercentage = ''\r\n                res.contractorDto.foundersDtos.forEach(el => {\r\n                    obj.foundersPercentage += `${el.founderName} (${el.percentage}), `\r\n                })\r\n                obj.region = ''\r\n                res.regionDtos.forEach(el => {\r\n                    obj.region += `${this.getName({ nameLt: el.nameLt, nameUz: el.nameUz, nameRu: el.nameRu })}, `\r\n                })\r\n                if (this.isDominant || this.isNatural) {\r\n                    obj.district = ''\r\n                    res.districtDtos.forEach(el => {\r\n                        obj.district += `${this.getName({ nameLt: el.nameLt, nameUz: el.nameUz, nameRu: el.nameRu })}, `\r\n                    })\r\n                }\r\n                if (this.isNatural || this.isNaturalRepublic) {\r\n                    obj.priceApprovalDate = res.priceApprovalDate\r\n                    obj.priceEffectiveDate = res.priceEffectiveDate\r\n                    obj.priceApprovalNumber = res.priceApprovalNumber\r\n                    obj.currentPriceWithDuty = res.currentPriceWithDuty\r\n                    obj.currentPriceWithoutDuty = res.currentPriceWithoutDuty\r\n                    obj.additionalInformation = res.additionalInformation\r\n                }\r\n                this.json_data.push(obj)\r\n            })\r\n        },\r\n        selectList ($event) {\r\n            if ($event == 'all') {\r\n                this.var_default_search_payload.itemsPerPage = this.totalItems\r\n            } else {\r\n                this.var_default_search_payload.itemsPerPage = $event\r\n            }\r\n            this.fetchTableItems();\r\n        },\r\n        async fetchTableItems () {\r\n            if (this.isDominantRepublic || this.isNaturalRepublic) {\r\n                this.loadingTableItems = true\r\n                helperService\r\n                    .searchReestrHistoryListByContractorId(`${this.isDominantRepublic ? APPEND_API_URL_DOMINANT : this.isNaturalRepublic ? APPEND_API_URL_NATURAL : ''}?contractorId=${this.$route.params.id}`, true)\r\n                    .then((res) => {\r\n                        this.tableItems = res.data;\r\n                    })\r\n                    .catch(e => {\r\n                        this.tableItems = [];\r\n                    })\r\n                    .finally(() => {\r\n                        this.loadingTableItems = false\r\n                    })\r\n            } else {\r\n                this.loadingTableItems = true\r\n                // this.var_default_search_payload.keyword = this.searchKeyword\r\n                /* this.var_default_search_payload.sortDesc.push(false)\r\n                if (this.$i18n.locale == 'uz') {\r\n                    this.var_default_search_payload.sortBy.push('nameLt')\r\n                } else if (this.$i18n.locale == 'ru') {\r\n                    this.var_default_search_payload.sortBy.push('nameRu')\r\n                } else if (this.$i18n.locale == 'uzCyrillic') {\r\n                    this.var_default_search_payload.sortBy.push('nameUz')\r\n                } */\r\n                crudAndListsService\r\n                    .searchList(MAIN_API_URL, this.var_default_search_payload, `${this.isDominant ? APPEND_API_URL_DOMINANT : this.isNatural ? APPEND_API_URL_NATURAL : ''}?contractorId=${this.$route.params.id}`, true)\r\n                    .then((res) => {\r\n                        this.tableItems = res.data;\r\n                    })\r\n                    .catch(e => {\r\n                        this.tableItems = [];\r\n                    })\r\n                    .finally(() => {\r\n                        this.loadingTableItems = false\r\n                    })\r\n            }\r\n        },\r\n        editItem (item) {\r\n            if (item.documentType == 'KIRITISH') {\r\n                this.$router.push(this.isDominant || this.isDominantRepublic ? { name: 'UpdateDominantContractorReestr', params: { id: item.id } } : { name: 'UpdateNaturalContractorReestr', params: { id: item.id } })\r\n            } else if (item.documentType == 'CHIQARISH') {\r\n                this.$router.push(this.isDominant || this.isDominantRepublic ? { name: 'UpdateRemoveDocDominantContractorReestr', params: { id: item.id } } : { name: 'UpdateRemoveDocNaturalContractorReestr', params: { id: item.id } })\r\n            }\r\n        }\r\n    },\r\n    /* CREATED */\r\n    created () {\r\n        if (this.isDominant || this.isDominantRepublic) {\r\n            this.tableFields.splice(12, 0, { label: this.$t('column.skp_code'), key: \"skp\" },\r\n                { label: this.$t('column.tnved_code'), key: \"tnved\" })\r\n        }\r\n        if (this.isDominant || this.isNatural) {\r\n            this.tableFields.splice(6, 0, { label: this.$t('column.district'), key: \"district\" })\r\n        }\r\n        /* if (this.isNatural || this.isNaturalRepublic) {\r\n            this.tableFields.splice(this.tableFields.length - 1, 0,\r\n                { label: `${this.$t('column.price_approval_basis')} ${this.$t('column.date')}`, key: \"priceApprovalDate\" },\r\n                { label: `${this.$t('column.effective_date_price')}`, key: \"priceEffectiveDate\" },\r\n                { label: `${this.$t('column.price_approval_basis')} ${this.$t('column.number')}`, key: \"priceApprovalNumber\" },\r\n                { label: `${this.$t('column.current_price_with_duty')}`, key: \"currentPriceWithDuty\" },\r\n                { label: `${this.$t('column.current_price_without_duty')}`, key: \"currentPriceWithoutDuty\" },\r\n                { label: `${this.$t('column.additional_info')}`, key: \"additionalInformation\" },\r\n            )\r\n        } */\r\n        this.fetchTableItems()\r\n    },\r\n    /*\r\n    WATCH */\r\n    watch: {\r\n        /* 'var_default_search_payload.page': {\r\n            handler () {\r\n                this.fetchTableItems()\r\n            }\r\n        } */\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n.a-tag-underline-hover {\r\n    :hover {\r\n        text-decoration: underline !important;\r\n    }\r\n}\r\nul {\r\n    padding-left: 20px;\r\n}\r\n</style>"]}]}