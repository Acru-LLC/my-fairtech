{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\references\\modules\\advertisement\\modules\\minimum_collections\\CreateOrUpdate.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\references\\modules\\advertisement\\modules\\minimum_collections\\CreateOrUpdate.vue","mtime":1674799497372},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1675061970665},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1675061970715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovQUNSVSBQUk9KRUNUL0ZhaXIgVGVjaC9hY3J1LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwp2YXIgTUFJTl9BUElfVVJMID0gJ2RpcmVjdG9yeS9taW5pbXVtLWNvbGxlY3Rpb25zJzsKdmFyIE1BSU5fQVBJX1VSTF9FWFRFTkRFRCA9ICdkaXJlY3RvcnkvZXh0ZW5kZWQtbWluaW11bS1jb2xsZWN0aW9ucyc7Ci8qDQoqIFlPVSBNVVNUIFNFTkQge3sgTUFJTl9BUElfVVJMIH19IFRPIENSVURfU0VSVklDRSAqLwppbXBvcnQgY3J1ZEFuZExpc3RzU2VydmljZSBmcm9tICJAL3NoYXJlZC9zZXJ2aWNlcy9jcnVkX2FuZF9saXN0LnNlcnZpY2UiOwppbXBvcnQgaGVscGVyU2VydmljZSBmcm9tICJAL3NoYXJlZC9zZXJ2aWNlcy9oZWxwZXIuc2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ3JlYXRlT3JVcGRhdGUiLAogIC8qDQogICogQ09NUE9ORU5UUyAqLwogIGNvbXBvbmVudHM6IHt9LAogIC8qDQogICogREFUQSAqLwogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlZGl0aW5nSXRlbToge30sCiAgICAgIHNob3dWb2x1bWVUeXBlc1JvdzogZmFsc2UsCiAgICAgIGVkaXRpbmdJdGVtRm9yTXVsdGlwbGU6IHt9LAogICAgICBjdXJyZW50RWRpdGluZ0l0ZW06IHt9LAogICAgICBtaW5pbXVtQ29sbGVjdGlvbnM6IFtdLAogICAgICBjcmVhdGVNdWx0aXBsZU1pbmltdW1Db2xsZWN0aW9uc01vZGFsOiBmYWxzZSwKICAgICAgc2luZ2xlTWluaW11bUNvbGxlY3Rpb25VcGRhdGVNb2RhbDogZmFsc2UsCiAgICAgIHN0YXR1c2VzOiBbXSwKICAgICAgcmVnaW9uczogW10sCiAgICAgIHVuaXRzOiBbXSwKICAgICAgYWRMb2NhdGlvblR5cGVzOiBbXSwKICAgICAgYWREZXNpZ25UeXBlczogW10sCiAgICAgIGFkVm9sdW1lVHlwZXM6IFtdLAogICAgICBkaXN0cmljdHM6IFtdLAogICAgICBhZERlc2lnblR5cGVzQnlNaW5Db2xsVHlwZUZvckV4dGVuZGVkOiBbXSwKICAgICAgdGFibGVGaWVsZHM6IFt7CiAgICAgICAgbGFiZWw6ICIjIiwKICAgICAgICB0aENsYXNzOiAidGV4dC1jZW50ZXIiLAogICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIGtleTogImluZGV4IgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5hZF9sb2NhdGlvbl90eXBlJyksCiAgICAgICAga2V5OiAiYWR2ZXJ0aXNlbWVudExvY2F0aW9uVHlwZU5hbWUiCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLmFkX2Rlc2lnbl90eXBlJyksCiAgICAgICAga2V5OiAiYWR2ZXJ0aXNlbWVudERlc2lnblR5cGVOYW1lIgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ3N1Ym1vZHVsZXMuYWRfdm9sdW1lX3R5cGVzLnRpdGxlJyksCiAgICAgICAga2V5OiAiYWR2ZXJ0aXNlbWVudFZvbHVtZVR5cGVOYW1lIgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5yZWdpb24nKSwKICAgICAgICBrZXk6ICJyZWdpb25OYW1lIgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2NvbHVtbi5kaXN0cmljdCcpLAogICAgICAgIGtleTogImRpc3RyaWN0TmFtZSIKICAgICAgfSwgewogICAgICAgIGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4udW5pdCcpLAogICAgICAgIGtleTogInVuaXRTaG9ydE5hbWUiCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLm1pbmltdW1fY29sbGVjdGlvbicpLAogICAgICAgIGtleTogImNvc3QiCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogdGhpcy4kdCgnY29sdW1uLnN0YXR1cycpLAogICAgICAgIGtleTogInN0YXR1cyIKICAgICAgfSwgewogICAgICAgIGxhYmVsOiB0aGlzLiR0KCdjb2x1bW4uYWN0aW9ucycpLAogICAgICAgIGtleTogImFjdGlvbnMiLAogICAgICAgIHRoQ2xhc3M6ICJ0ZXh0LWNlbnRlciIsCiAgICAgICAgdGRDbGFzczogInRleHQtY2VudGVyIiwKICAgICAgICBzb3J0YWJsZTogZmFsc2UKICAgICAgfV0KICAgIH07CiAgfSwKICAvKg0KICAqIENPTVBVVEVEICovCiAgY29tcHV0ZWQ6IHsKICAgIGlzTW9kZUNyZWF0ZTogZnVuY3Rpb24gaXNNb2RlQ3JlYXRlKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUubmFtZSA9PT0gJ0NyZWF0ZU1pbmltdW1Db2xsZWN0aW9uJzsKICAgIH0sCiAgICBpc09uRXh0ZW5kZWRQYWdlOiBmdW5jdGlvbiBpc09uRXh0ZW5kZWRQYWdlKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUubmFtZSA9PT0gJ1VwZGF0ZU1pbmltdW1Db2xsZWN0aW9uRXh0ZW5kZWQnOwogICAgfSwKICAgIGNvbXB1dGVkT2JzZXJ2ZXI6IGZ1bmN0aW9uIGNvbXB1dGVkT2JzZXJ2ZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyZWZzLm9ic2VydmVyOwogICAgfSwKICAgIG11bHRpcGxlTWluaW11bUNvbGxlY3Rpb25zQ29tcHV0ZWRPYnNlcnZlcjogZnVuY3Rpb24gbXVsdGlwbGVNaW5pbXVtQ29sbGVjdGlvbnNDb21wdXRlZE9ic2VydmVyKCkgewogICAgICByZXR1cm4gdGhpcy4kcmVmc1snbXVsdGlwbGUtbWluaW11bS1jb2xsZWN0aW9ucy1vYnNlcnZlciddOwogICAgfSwKICAgIHNpbmdsZU1pbmltdW1Db2xsZWN0aW9uVXBkYXRlQ29tcHV0ZWRPYnNlcnZlcjogZnVuY3Rpb24gc2luZ2xlTWluaW11bUNvbGxlY3Rpb25VcGRhdGVDb21wdXRlZE9ic2VydmVyKCkgewogICAgICByZXR1cm4gdGhpcy4kcmVmc1snc2luZ2xlLW1pbmltdW0tY29sbGVjdGlvbi11cGRhdGUtb2JzZXJ2ZXInXTsKICAgIH0KICB9LAogIC8qDQogICogTUVUSE9EUyAqLwogIG1ldGhvZHM6IHsKICAgIGFkVm9sdW1lVHlwZXNTZWxlY3RlZDogZnVuY3Rpb24gYWRWb2x1bWVUeXBlc1NlbGVjdGVkKCkgewogICAgICB0aGlzLnNob3dWb2x1bWVUeXBlc1JvdyA9IGZhbHNlOwogICAgICBpZiAodGhpcy5lZGl0aW5nSXRlbUZvck11bHRpcGxlLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRWb2x1bWVUeXBlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5zaG93Vm9sdW1lVHlwZXNSb3cgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgcmVnaW9uU2VsZWN0ZWQ6IGZ1bmN0aW9uIHJlZ2lvblNlbGVjdGVkKCRldmVudCwgYWRMb2NhdGlvblR5cGVJZCkgewogICAgICB2YXIgX2FyZ3VtZW50cyA9IGFyZ3VtZW50cywKICAgICAgICBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGRvbnRSZXNldERpc3RyaWN0OwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGRvbnRSZXNldERpc3RyaWN0ID0gX2FyZ3VtZW50cy5sZW5ndGggPiAyICYmIF9hcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHNbMl0gOiBmYWxzZTsKICAgICAgICAgICAgICBpZiAoIWRvbnRSZXNldERpc3RyaWN0KSB7CiAgICAgICAgICAgICAgICBfdGhpcy5lZGl0aW5nSXRlbS5kaXN0cmljdElkID0gbnVsbDsKICAgICAgICAgICAgICAgIF90aGlzLmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUuZGlzdHJpY3RzID0gW107CiAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50RWRpdGluZ0l0ZW0uZGlzdHJpY3RJZCA9IG51bGw7CiAgICAgICAgICAgICAgICAvLyBSRVNFVCBBRF9ERVNJR05fVFlQRQogICAgICAgICAgICAgICAgX3RoaXMuZWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudERlc2lnblR5cGVJZCA9IG51bGw7CiAgICAgICAgICAgICAgICBfdGhpcy5lZGl0aW5nSXRlbUZvck11bHRpcGxlLmRpcmVjdG9yeUFkdmVydGlzZW1lbnREZXNpZ25UeXBlcyA9IFtdOwogICAgICAgICAgICAgICAgX3RoaXMuY3VycmVudEVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnREZXNpZ25UeXBlSWQgPSBudWxsOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyBHRVQgRElTVFJJQ1RTCiAgICAgICAgICAgICAgaWYgKCEkZXZlbnQpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChhZExvY2F0aW9uVHlwZUlkKSB7CiAgICAgICAgICAgICAgICAvLyBHRVQgQURfREVTSUdOX1RZUEVTCiAgICAgICAgICAgICAgICBoZWxwZXJTZXJ2aWNlLmdldEFkRGVzaWduVHlwZXNCeUFkTG9jYXRpb25UeXBlSWQoYWRMb2NhdGlvblR5cGVJZCwgJGV2ZW50LmlkID8gJGV2ZW50LmlkIDogJGV2ZW50KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuYWREZXNpZ25UeXBlcyA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuaXNNb2RlQ3JlYXRlIHx8IF90aGlzLmVkaXRpbmdJdGVtLmlzRXh0ZW5kZWQpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gaGVscGVyU2VydmljZS5nZXRHZW9Mb2NhdGlvbnNCeVBhcmVudElkKCRldmVudC5pZCA/ICRldmVudC5pZCA6ICRldmVudCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5kaXN0cmljdHMgPSByZXMuZGF0YTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvKiBtYWtlRGlyZWN0b3J5QWREZXNpZ25UeXBlc0ZvckV4dGVuZGVkICgpIHsNCiAgICAgICAgaWYgKHRoaXMuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS5pc0V4dGVuZGVkKSB7DQogICAgICAgICAgICB0aGlzLmFkRGVzaWduVHlwZXNCeU1pbkNvbGxUeXBlRm9yRXh0ZW5kZWQgPSBbXQ0KICAgICAgICAgICAgaWYgKCF0aGlzLmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUuZGlyZWN0b3J5TWluaW11bUNvbGxlY3Rpb25UeXBlcykgew0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS5kaXJlY3RvcnlNaW5pbXVtQ29sbGVjdGlvblR5cGVzID0gW10NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS5kaXJlY3RvcnlNaW5pbXVtQ29sbGVjdGlvblR5cGVzLmZvckVhY2gobWluQ29sbGVjdGlvblR5cGUgPT4gew0KICAgICAgICAgICAgICAgIGxldCB0ZW1wTWluQ29sbFR5cGVXaXRoRGVzaWduVHlwZSA9IHsNCiAgICAgICAgICAgICAgICAgICAgbWluQ29sbGVjdGlvblR5cGVJZDogbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgbWluQ29sbGVjdGlvblR5cGVOYW1lVXo6ICcnLA0KICAgICAgICAgICAgICAgICAgICBhZERlc2lnblR5cGVzQnlNaW5Db2xsZWN0aW9uVHlwZTogW10NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRlbXBNaW5Db2xsVHlwZVdpdGhEZXNpZ25UeXBlLCAnbWluQ29sbGVjdGlvblR5cGVJZCcsIG1pbkNvbGxlY3Rpb25UeXBlLmlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuJHNldCh0ZW1wTWluQ29sbFR5cGVXaXRoRGVzaWduVHlwZSwgJ21pbkNvbGxlY3Rpb25UeXBlTmFtZVV6JywgbWluQ29sbGVjdGlvblR5cGUubmFtZVV6KQ0KICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUuZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudERlc2lnblR5cGVzKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50RGVzaWduVHlwZXMgPSBbXQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUuZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudERlc2lnblR5cGVzLmZvckVhY2goYWREZXNpZ25UeXBlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBBZERlc2lnblR5cGUgPSBPYmplY3QuYXNzaWduKHt9LCBhZERlc2lnblR5cGUpDQogICAgICAgICAgICAgICAgICAgIHRlbXBNaW5Db2xsVHlwZVdpdGhEZXNpZ25UeXBlLmFkRGVzaWduVHlwZXNCeU1pbkNvbGxlY3Rpb25UeXBlLnB1c2godGVtcEFkRGVzaWduVHlwZSkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIHRoaXMuYWREZXNpZ25UeXBlc0J5TWluQ29sbFR5cGVGb3JFeHRlbmRlZC5wdXNoKHRlbXBNaW5Db2xsVHlwZVdpdGhEZXNpZ25UeXBlKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgIH0sICovCiAgICB1cGRhdGVTaW5nbGVNaW5pbXVtQ29sbGVjdGlvbjogZnVuY3Rpb24gdXBkYXRlU2luZ2xlTWluaW11bUNvbGxlY3Rpb24oZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAvLyBUT0RPOiBEVUJMSUNBVEUgTElLS0EgVEVLU0hJUiAoWFVEREkgU0hVTkRBWUkgVEFCTEUgR0EgUU8nU0hJTE1BR0FOIEJPJ0xTSU4pCiAgICAgIHRoaXMuc2luZ2xlTWluaW11bUNvbGxlY3Rpb25VcGRhdGVDb21wdXRlZE9ic2VydmVyLnZhbGlkYXRlKCkudGhlbihmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmIChfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLmlzRXh0ZW5kZWQpIHsKICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXN0cmljdE5hbWVVeiA9IF90aGlzMi5kaXN0cmljdHMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICByZXR1cm4gZWwuaWQgPT0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXN0cmljdElkOwogICAgICAgICAgICB9KS5uYW1lVXo7CiAgICAgICAgICAgIF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uZGlzdHJpY3ROYW1lUnUgPSBfdGhpczIuZGlzdHJpY3RzLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsLmlkID09IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uZGlzdHJpY3RJZDsKICAgICAgICAgICAgfSkubmFtZVJ1OwogICAgICAgICAgICBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLmRpc3RyaWN0TmFtZUx0ID0gX3RoaXMyLmRpc3RyaWN0cy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgICAgIHJldHVybiBlbC5pZCA9PSBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLmRpc3RyaWN0SWQ7CiAgICAgICAgICAgIH0pLm5hbWVMdDsKICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50RGVzaWduVHlwZU5hbWVVeiA9IF90aGlzMi5hZERlc2lnblR5cGVzLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsLmlkID09IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudERlc2lnblR5cGVJZDsKICAgICAgICAgICAgfSkubmFtZVV6OwogICAgICAgICAgICBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnREZXNpZ25UeXBlTmFtZVJ1ID0gX3RoaXMyLmFkRGVzaWduVHlwZXMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICByZXR1cm4gZWwuaWQgPT0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50RGVzaWduVHlwZUlkOwogICAgICAgICAgICB9KS5uYW1lUnU7CiAgICAgICAgICAgIF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudERlc2lnblR5cGVOYW1lTHQgPSBfdGhpczIuYWREZXNpZ25UeXBlcy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgICAgIHJldHVybiBlbC5pZCA9PSBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnREZXNpZ25UeXBlSWQ7CiAgICAgICAgICAgIH0pLm5hbWVMdDsKICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50Vm9sdW1lVHlwZU5hbWVVeiA9IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudFZvbHVtZVR5cGVJZCA/IF90aGlzMi5hZFZvbHVtZVR5cGVzLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsLmlkID09IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudFZvbHVtZVR5cGVJZDsKICAgICAgICAgICAgfSkubmFtZVV6IDogbnVsbDsKICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50Vm9sdW1lVHlwZU5hbWVSdSA9IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudFZvbHVtZVR5cGVJZCA/IF90aGlzMi5hZFZvbHVtZVR5cGVzLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsLmlkID09IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudFZvbHVtZVR5cGVJZDsKICAgICAgICAgICAgfSkubmFtZVJ1IDogbnVsbDsKICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50Vm9sdW1lVHlwZU5hbWVMdCA9IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudFZvbHVtZVR5cGVJZCA/IF90aGlzMi5hZFZvbHVtZVR5cGVzLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsLmlkID09IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudFZvbHVtZVR5cGVJZDsKICAgICAgICAgICAgfSkubmFtZUx0IDogbnVsbDsKICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50TG9jYXRpb25UeXBlTmFtZVV6ID0gX3RoaXMyLmFkTG9jYXRpb25UeXBlcy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgICAgIHJldHVybiBlbC5pZCA9PSBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRMb2NhdGlvblR5cGVJZDsKICAgICAgICAgICAgfSkubmFtZVV6OwogICAgICAgICAgICBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRMb2NhdGlvblR5cGVOYW1lUnUgPSBfdGhpczIuYWRMb2NhdGlvblR5cGVzLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsLmlkID09IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudExvY2F0aW9uVHlwZUlkOwogICAgICAgICAgICB9KS5uYW1lUnU7CiAgICAgICAgICAgIF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudExvY2F0aW9uVHlwZU5hbWVMdCA9IF90aGlzMi5hZExvY2F0aW9uVHlwZXMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICByZXR1cm4gZWwuaWQgPT0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50TG9jYXRpb25UeXBlSWQ7CiAgICAgICAgICAgIH0pLm5hbWVMdDsKICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5yZWdpb25OYW1lVXogPSBfdGhpczIucmVnaW9ucy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgICAgIHJldHVybiBlbC5pZCA9PSBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLnJlZ2lvbklkOwogICAgICAgICAgICB9KS5uYW1lVXo7CiAgICAgICAgICAgIF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0ucmVnaW9uTmFtZVJ1ID0gX3RoaXMyLnJlZ2lvbnMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICByZXR1cm4gZWwuaWQgPT0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5yZWdpb25JZDsKICAgICAgICAgICAgfSkubmFtZVJ1OwogICAgICAgICAgICBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLnJlZ2lvbk5hbWVMdCA9IF90aGlzMi5yZWdpb25zLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsLmlkID09IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0ucmVnaW9uSWQ7CiAgICAgICAgICAgIH0pLm5hbWVMdDsKICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5zdGF0dXNOYW1lVXogPSBfdGhpczIuc3RhdHVzZXMuZmluZChmdW5jdGlvbiAocykgewogICAgICAgICAgICAgIHJldHVybiBzLmlkID09IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uc3RhdHVzSWQ7CiAgICAgICAgICAgIH0pLm5hbWVVejsKICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5zdGF0dXNOYW1lUnUgPSBfdGhpczIuc3RhdHVzZXMuZmluZChmdW5jdGlvbiAocykgewogICAgICAgICAgICAgIHJldHVybiBzLmlkID09IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uc3RhdHVzSWQ7CiAgICAgICAgICAgIH0pLm5hbWVSdTsKICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5zdGF0dXNOYW1lTHQgPSBfdGhpczIuc3RhdHVzZXMuZmluZChmdW5jdGlvbiAocykgewogICAgICAgICAgICAgIHJldHVybiBzLmlkID09IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uc3RhdHVzSWQ7CiAgICAgICAgICAgIH0pLm5hbWVMdDsKICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS51bml0U2hvcnROYW1lVXogPSBfdGhpczIudW5pdHMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICByZXR1cm4gZWwuaWQgPT0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS51bml0SWQ7CiAgICAgICAgICAgIH0pLnNob3J0TmFtZVV6OwogICAgICAgICAgICBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLnVuaXRTaG9ydE5hbWVSdSA9IF90aGlzMi51bml0cy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgICAgIHJldHVybiBlbC5pZCA9PSBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLnVuaXRJZDsKICAgICAgICAgICAgfSkuc2hvcnROYW1lUnU7CiAgICAgICAgICAgIF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0udW5pdFNob3J0TmFtZUx0ID0gX3RoaXMyLnVuaXRzLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsLmlkID09IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0udW5pdElkOwogICAgICAgICAgICB9KS5zaG9ydE5hbWVMdDsKICAgICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLm1pbmltdW1Db2xsZWN0aW9ucywgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5pbmRleCwgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbSk7CiAgICAgICAgICAgIF90aGlzMi5zaW5nbGVNaW5pbXVtQ29sbGVjdGlvblVwZGF0ZU1vZGFsID0gZmFsc2U7CiAgICAgICAgICAgIF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB7fSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnREZXNpZ25UeXBlTmFtZVV6ID0gX3RoaXMyLmFkRGVzaWduVHlwZXMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICByZXR1cm4gZWwuaWQgPT0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50RGVzaWduVHlwZUlkOwogICAgICAgICAgICB9KS5uYW1lVXo7CiAgICAgICAgICAgIF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudERlc2lnblR5cGVOYW1lUnUgPSBfdGhpczIuYWREZXNpZ25UeXBlcy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgICAgIHJldHVybiBlbC5pZCA9PSBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnREZXNpZ25UeXBlSWQ7CiAgICAgICAgICAgIH0pLm5hbWVSdTsKICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50RGVzaWduVHlwZU5hbWVMdCA9IF90aGlzMi5hZERlc2lnblR5cGVzLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsLmlkID09IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudERlc2lnblR5cGVJZDsKICAgICAgICAgICAgfSkubmFtZUx0OwogICAgICAgICAgICBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRWb2x1bWVUeXBlTmFtZVV6ID0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50Vm9sdW1lVHlwZUlkID8gX3RoaXMyLmFkVm9sdW1lVHlwZXMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICByZXR1cm4gZWwuaWQgPT0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50Vm9sdW1lVHlwZUlkOwogICAgICAgICAgICB9KS5uYW1lVXogOiBudWxsOwogICAgICAgICAgICBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRWb2x1bWVUeXBlTmFtZVJ1ID0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50Vm9sdW1lVHlwZUlkID8gX3RoaXMyLmFkVm9sdW1lVHlwZXMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICByZXR1cm4gZWwuaWQgPT0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50Vm9sdW1lVHlwZUlkOwogICAgICAgICAgICB9KS5uYW1lUnUgOiBudWxsOwogICAgICAgICAgICBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRWb2x1bWVUeXBlTmFtZUx0ID0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50Vm9sdW1lVHlwZUlkID8gX3RoaXMyLmFkVm9sdW1lVHlwZXMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICByZXR1cm4gZWwuaWQgPT0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50Vm9sdW1lVHlwZUlkOwogICAgICAgICAgICB9KS5uYW1lTHQgOiBudWxsOwogICAgICAgICAgICBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRMb2NhdGlvblR5cGVOYW1lVXogPSBfdGhpczIuYWRMb2NhdGlvblR5cGVzLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsLmlkID09IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudExvY2F0aW9uVHlwZUlkOwogICAgICAgICAgICB9KS5uYW1lVXo7CiAgICAgICAgICAgIF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudExvY2F0aW9uVHlwZU5hbWVSdSA9IF90aGlzMi5hZExvY2F0aW9uVHlwZXMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICByZXR1cm4gZWwuaWQgPT0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50TG9jYXRpb25UeXBlSWQ7CiAgICAgICAgICAgIH0pLm5hbWVSdTsKICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50TG9jYXRpb25UeXBlTmFtZUx0ID0gX3RoaXMyLmFkTG9jYXRpb25UeXBlcy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgICAgIHJldHVybiBlbC5pZCA9PSBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRMb2NhdGlvblR5cGVJZDsKICAgICAgICAgICAgfSkubmFtZUx0OwogICAgICAgICAgICBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLnJlZ2lvbk5hbWVVeiA9IF90aGlzMi5yZWdpb25zLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsLmlkID09IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0ucmVnaW9uSWQ7CiAgICAgICAgICAgIH0pLm5hbWVVejsKICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5yZWdpb25OYW1lUnUgPSBfdGhpczIucmVnaW9ucy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgICAgIHJldHVybiBlbC5pZCA9PSBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLnJlZ2lvbklkOwogICAgICAgICAgICB9KS5uYW1lUnU7CiAgICAgICAgICAgIF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0ucmVnaW9uTmFtZUx0ID0gX3RoaXMyLnJlZ2lvbnMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICByZXR1cm4gZWwuaWQgPT0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5yZWdpb25JZDsKICAgICAgICAgICAgfSkubmFtZUx0OwogICAgICAgICAgICBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLnN0YXR1c05hbWVVeiA9IF90aGlzMi5zdGF0dXNlcy5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHMuaWQgPT0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5zdGF0dXNJZDsKICAgICAgICAgICAgfSkubmFtZVV6OwogICAgICAgICAgICBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLnN0YXR1c05hbWVSdSA9IF90aGlzMi5zdGF0dXNlcy5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHMuaWQgPT0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5zdGF0dXNJZDsKICAgICAgICAgICAgfSkubmFtZVJ1OwogICAgICAgICAgICBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLnN0YXR1c05hbWVMdCA9IF90aGlzMi5zdGF0dXNlcy5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHMuaWQgPT0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS5zdGF0dXNJZDsKICAgICAgICAgICAgfSkubmFtZUx0OwogICAgICAgICAgICBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLnVuaXRTaG9ydE5hbWVVeiA9IF90aGlzMi51bml0cy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgICAgIHJldHVybiBlbC5pZCA9PSBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLnVuaXRJZDsKICAgICAgICAgICAgfSkuc2hvcnROYW1lVXo7CiAgICAgICAgICAgIF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0udW5pdFNob3J0TmFtZVJ1ID0gX3RoaXMyLnVuaXRzLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsLmlkID09IF90aGlzMi5jdXJyZW50RWRpdGluZ0l0ZW0udW5pdElkOwogICAgICAgICAgICB9KS5zaG9ydE5hbWVSdTsKICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS51bml0U2hvcnROYW1lTHQgPSBfdGhpczIudW5pdHMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICByZXR1cm4gZWwuaWQgPT0gX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbS51bml0SWQ7CiAgICAgICAgICAgIH0pLnNob3J0TmFtZUx0OwogICAgICAgICAgICBfdGhpczIuJHNldChfdGhpczIubWluaW11bUNvbGxlY3Rpb25zLCBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtLmluZGV4LCBfdGhpczIuY3VycmVudEVkaXRpbmdJdGVtKTsKICAgICAgICAgICAgX3RoaXMyLnNpbmdsZU1pbmltdW1Db2xsZWN0aW9uVXBkYXRlTW9kYWwgPSBmYWxzZTsKICAgICAgICAgICAgX3RoaXMyLmN1cnJlbnRFZGl0aW5nSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHt9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLiR0b2FzdChfdGhpczIuJHQoJ21lc3NhZ2VzLmZpbGxfcmVxdWlyZWRfZmllbGRzJyksIHsKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBhZExvY2F0aW9uVHlwZVNlbGVjdGVkOiBmdW5jdGlvbiBhZExvY2F0aW9uVHlwZVNlbGVjdGVkKGFkTG9jYXRpb25UeXBlT2JqZWN0T3JJZCkgewogICAgICB2YXIgX2FyZ3VtZW50czIgPSBhcmd1bWVudHMsCiAgICAgICAgX3RoaXMzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGRvbnRSZXNldEFkRGVzaWduVHlwZTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZG9udFJlc2V0QWREZXNpZ25UeXBlID0gX2FyZ3VtZW50czIubGVuZ3RoID4gMSAmJiBfYXJndW1lbnRzMlsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50czJbMV0gOiBmYWxzZTsKICAgICAgICAgICAgICBpZiAoIWRvbnRSZXNldEFkRGVzaWduVHlwZSkgewogICAgICAgICAgICAgICAgLy8gUkVTRVQgQURfREVTSUdOX1RZUEUKICAgICAgICAgICAgICAgIF90aGlzMy5lZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50RGVzaWduVHlwZUlkID0gbnVsbDsKICAgICAgICAgICAgICAgIF90aGlzMy5lZGl0aW5nSXRlbUZvck11bHRpcGxlLmRpcmVjdG9yeUFkdmVydGlzZW1lbnREZXNpZ25UeXBlcyA9IFtdOwogICAgICAgICAgICAgICAgX3RoaXMzLmN1cnJlbnRFZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50RGVzaWduVHlwZUlkID0gbnVsbDsKICAgICAgICAgICAgICAgIC8vIFJFU0VUIEFEX1ZPTFVNRV9UWVBFCiAgICAgICAgICAgICAgICBfdGhpczMuZWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudFZvbHVtZVR5cGVJZCA9IG51bGw7CiAgICAgICAgICAgICAgICBfdGhpczMuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50Vm9sdW1lVHlwZXMgPSBbXTsKICAgICAgICAgICAgICAgIF90aGlzMy5jdXJyZW50RWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudFZvbHVtZVR5cGVJZCA9IG51bGw7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChhZExvY2F0aW9uVHlwZU9iamVjdE9ySWQpIHsKICAgICAgICAgICAgICAgIGlmIChfdGhpczMuaXNNb2RlQ3JlYXRlID8gX3RoaXMzLmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUucmVnaW9uICYmIF90aGlzMy5lZGl0aW5nSXRlbUZvck11bHRpcGxlLnJlZ2lvbi5pZCA6IF90aGlzMy5lZGl0aW5nSXRlbS5yZWdpb25JZCkgewogICAgICAgICAgICAgICAgICAvLyBHRVQgQURfREVTSUdOX1RZUEVTCiAgICAgICAgICAgICAgICAgIGhlbHBlclNlcnZpY2UuZ2V0QWREZXNpZ25UeXBlc0J5QWRMb2NhdGlvblR5cGVJZChhZExvY2F0aW9uVHlwZU9iamVjdE9ySWQuaWQgPyBhZExvY2F0aW9uVHlwZU9iamVjdE9ySWQuaWQgOiBhZExvY2F0aW9uVHlwZU9iamVjdE9ySWQsIF90aGlzMy5pc01vZGVDcmVhdGUgPyBfdGhpczMuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS5yZWdpb24uaWQgOiBfdGhpczMuZWRpdGluZ0l0ZW0ucmVnaW9uSWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMy5hZERlc2lnblR5cGVzID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gR0VUIEFEX1ZPTFVNRV9UWVBFUwogICAgICAgICAgICAgICAgaGVscGVyU2VydmljZS5nZXRBZFZvbHVtZVR5cGVzQnlBZExvY2F0aW9uVHlwZUlkKGFkTG9jYXRpb25UeXBlT2JqZWN0T3JJZC5pZCA/IGFkTG9jYXRpb25UeXBlT2JqZWN0T3JJZC5pZCA6IGFkTG9jYXRpb25UeXBlT2JqZWN0T3JJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5hZFZvbHVtZVR5cGVzID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZWRpdEl0ZW06IGZ1bmN0aW9uIGVkaXRJdGVtKGl0ZW0sIGluZGV4KSB7CiAgICAgIHRoaXMuY3VycmVudEVkaXRpbmdJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7CiAgICAgIHRoaXMuJHNldCh0aGlzLmN1cnJlbnRFZGl0aW5nSXRlbSwgJ2luZGV4JywgaW5kZXgpOwogICAgICB0aGlzLnNpbmdsZU1pbmltdW1Db2xsZWN0aW9uVXBkYXRlTW9kYWwgPSB0cnVlOwogICAgfSwKICAgIGRlbGV0ZUl0ZW06IGZ1bmN0aW9uIGRlbGV0ZUl0ZW0oaXRlbSwgaW5kZXgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHRoaXMuJGJ2TW9kYWwubXNnQm94Q29uZmlybSh0aGlzLiR0KCdtZXNzYWdlcy5kZWxldGVfdGl0bGUnKSwgewogICAgICAgIG9rVGl0bGU6IHRoaXMuJHQoJ2FjdGlvbnMuY29uZmlybScpLAogICAgICAgIGNhbmNlbFRpdGxlOiB0aGlzLiR0KCdhY3Rpb25zLmNhbmNlbCcpCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICBfdGhpczQubWluaW11bUNvbGxlY3Rpb25zLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgLy8gQW4gZXJyb3Igb2NjdXJyZWQKICAgICAgfSk7CiAgICB9LAogICAgY3JlYXRlT3JVcGRhdGVJdGVtOiBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUl0ZW0obW9kZSkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgaWYgKG1vZGUgPT0gJ2NyZWF0ZScpIHsKICAgICAgICB0aGlzLmNvbXB1dGVkT2JzZXJ2ZXIudmFsaWRhdGUoKS50aGVuKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgIF90aGlzNS5lZGl0aW5nSXRlbUZvck11bHRpcGxlID0gT2JqZWN0LmFzc2lnbih7fSwge30pOwogICAgICAgICAgICB2YXIgYWN0aXZlU3RhdHVzID0gX3RoaXM1LnN0YXR1c2VzLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsLmNvZGUgPT0gJ0FDVElWRSc7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAoYWN0aXZlU3RhdHVzKSB7CiAgICAgICAgICAgICAgX3RoaXM1LmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUuc3RhdHVzSWQgPSBhY3RpdmVTdGF0dXMuaWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3RoaXM1LmNyZWF0ZU11bHRpcGxlTWluaW11bUNvbGxlY3Rpb25zTW9kYWwgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM1LiR0b2FzdChfdGhpczUuJHQoJ21lc3NhZ2VzLmZpbGxfcmVxdWlyZWRfZmllbGRzJyksIHsKICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVzZXRFZGl0aW5nSXRlbTogZnVuY3Rpb24gcmVzZXRFZGl0aW5nSXRlbSgpIHsKICAgICAgdmFyIGRlY2lzaW9uTnVtYmVyID0gdGhpcy5lZGl0aW5nSXRlbS5kZWNpc2lvbk51bWJlcjsKICAgICAgdmFyIGRlY2lzaW9uRGF0ZSA9IHRoaXMuZWRpdGluZ0l0ZW0uZGVjaXNpb25EYXRlOwogICAgICB2YXIgZGVzY3JpcHRpb24gPSB0aGlzLmVkaXRpbmdJdGVtLmRlc2NyaXB0aW9uOwogICAgICB0aGlzLmVkaXRpbmdJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwge30pOwogICAgICB0aGlzLiRzZXQodGhpcy5lZGl0aW5nSXRlbSwgJ2RlY2lzaW9uTnVtYmVyJywgZGVjaXNpb25OdW1iZXIpOwogICAgICB0aGlzLiRzZXQodGhpcy5lZGl0aW5nSXRlbSwgJ2RlY2lzaW9uRGF0ZScsIGRlY2lzaW9uRGF0ZSk7CiAgICAgIHRoaXMuJHNldCh0aGlzLmVkaXRpbmdJdGVtLCAnZGVzY3JpcHRpb24nLCBkZXNjcmlwdGlvbik7CiAgICB9LAogICAgY3JlYXRlTWluQ29sbGVjdGlvbnNGcm9tQWREZXNpZ25UeXBlc0Zvck11bHRpcGxlU2F2ZUZuOiBmdW5jdGlvbiBjcmVhdGVNaW5Db2xsZWN0aW9uc0Zyb21BZERlc2lnblR5cGVzRm9yTXVsdGlwbGVTYXZlRm4oKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICB2YXIgZWFjaERpc3RyaWN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTsKICAgICAgdmFyIGVhY2hWb2x1bWVUeXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICAgICAgdGhpcy5lZGl0aW5nSXRlbUZvck11bHRpcGxlLmRpcmVjdG9yeUFkdmVydGlzZW1lbnREZXNpZ25UeXBlcy5mb3JFYWNoKGZ1bmN0aW9uIChhZERlc2lnblR5cGUpIHsKICAgICAgICBfdGhpczYucmVzZXRFZGl0aW5nSXRlbSgpOwogICAgICAgIGlmIChlYWNoRGlzdHJpY3QpIHsKICAgICAgICAgIF90aGlzNi5lZGl0aW5nSXRlbS5kaXN0cmljdElkID0gZWFjaERpc3RyaWN0LmlkOwogICAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLmRpc3RyaWN0TmFtZVV6ID0gZWFjaERpc3RyaWN0Lm5hbWVVejsKICAgICAgICAgIF90aGlzNi5lZGl0aW5nSXRlbS5kaXN0cmljdE5hbWVSdSA9IGVhY2hEaXN0cmljdC5uYW1lUnU7CiAgICAgICAgICBfdGhpczYuZWRpdGluZ0l0ZW0uZGlzdHJpY3ROYW1lTHQgPSBlYWNoRGlzdHJpY3QubmFtZUx0OwogICAgICAgIH0KICAgICAgICBfdGhpczYuZWRpdGluZ0l0ZW0uaXNFeHRlbmRlZCA9IF90aGlzNi5lZGl0aW5nSXRlbUZvck11bHRpcGxlLmlzRXh0ZW5kZWQ7CiAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnREZXNpZ25UeXBlSWQgPSBhZERlc2lnblR5cGUuaWQ7CiAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnREZXNpZ25UeXBlTmFtZVV6ID0gYWREZXNpZ25UeXBlLm5hbWVVejsKICAgICAgICBfdGhpczYuZWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudERlc2lnblR5cGVOYW1lUnUgPSBhZERlc2lnblR5cGUubmFtZVJ1OwogICAgICAgIF90aGlzNi5lZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50RGVzaWduVHlwZU5hbWVMdCA9IGFkRGVzaWduVHlwZS5uYW1lTHQ7CiAgICAgICAgaWYgKGVhY2hWb2x1bWVUeXBlKSB7CiAgICAgICAgICBfdGhpczYuZWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudFZvbHVtZVR5cGVJZCA9IGVhY2hWb2x1bWVUeXBlLmlkOwogICAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRWb2x1bWVUeXBlTmFtZVV6ID0gZWFjaFZvbHVtZVR5cGUubmFtZVV6OwogICAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRWb2x1bWVUeXBlTmFtZVJ1ID0gZWFjaFZvbHVtZVR5cGUubmFtZVJ1OwogICAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRWb2x1bWVUeXBlTmFtZUx0ID0gZWFjaFZvbHVtZVR5cGUubmFtZUx0OwogICAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLmNvc3QgPSBlYWNoVm9sdW1lVHlwZS5jb3N0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczYuZWRpdGluZ0l0ZW0uY29zdCA9IGFkRGVzaWduVHlwZS5jb3N0OwogICAgICAgIH0KICAgICAgICBfdGhpczYuZWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudExvY2F0aW9uVHlwZUlkID0gX3RoaXM2LmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUuZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudExvY2F0aW9uVHlwZS5pZDsKICAgICAgICBfdGhpczYuZWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudExvY2F0aW9uVHlwZU5hbWVVeiA9IF90aGlzNi5lZGl0aW5nSXRlbUZvck11bHRpcGxlLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRMb2NhdGlvblR5cGUubmFtZVV6OwogICAgICAgIF90aGlzNi5lZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50TG9jYXRpb25UeXBlTmFtZVJ1ID0gX3RoaXM2LmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUuZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudExvY2F0aW9uVHlwZS5uYW1lUnU7CiAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRMb2NhdGlvblR5cGVOYW1lTHQgPSBfdGhpczYuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50TG9jYXRpb25UeXBlLm5hbWVMdDsKICAgICAgICBfdGhpczYuZWRpdGluZ0l0ZW0ucmVnaW9uSWQgPSBfdGhpczYuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS5yZWdpb24uaWQ7CiAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLnJlZ2lvbk5hbWVVeiA9IF90aGlzNi5lZGl0aW5nSXRlbUZvck11bHRpcGxlLnJlZ2lvbi5uYW1lVXo7CiAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLnJlZ2lvbk5hbWVSdSA9IF90aGlzNi5lZGl0aW5nSXRlbUZvck11bHRpcGxlLnJlZ2lvbi5uYW1lUnU7CiAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLnJlZ2lvbk5hbWVMdCA9IF90aGlzNi5lZGl0aW5nSXRlbUZvck11bHRpcGxlLnJlZ2lvbi5uYW1lTHQ7CiAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLnN0YXR1c0lkID0gX3RoaXM2LmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUuc3RhdHVzSWQ7CiAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLnN0YXR1c05hbWVVeiA9IF90aGlzNi5zdGF0dXNlcy5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgICByZXR1cm4gcy5pZCA9PSBfdGhpczYuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS5zdGF0dXNJZDsKICAgICAgICB9KS5uYW1lVXo7CiAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLnN0YXR1c05hbWVSdSA9IF90aGlzNi5zdGF0dXNlcy5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgICByZXR1cm4gcy5pZCA9PSBfdGhpczYuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS5zdGF0dXNJZDsKICAgICAgICB9KS5uYW1lUnU7CiAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLnN0YXR1c05hbWVMdCA9IF90aGlzNi5zdGF0dXNlcy5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgICByZXR1cm4gcy5pZCA9PSBfdGhpczYuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS5zdGF0dXNJZDsKICAgICAgICB9KS5uYW1lTHQ7CiAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLnVuaXRJZCA9IF90aGlzNi5lZGl0aW5nSXRlbUZvck11bHRpcGxlLnVuaXQuaWQ7CiAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLnVuaXRTaG9ydE5hbWVVeiA9IF90aGlzNi5lZGl0aW5nSXRlbUZvck11bHRpcGxlLnVuaXQuc2hvcnROYW1lVXo7CiAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLnVuaXRTaG9ydE5hbWVSdSA9IF90aGlzNi5lZGl0aW5nSXRlbUZvck11bHRpcGxlLnVuaXQuc2hvcnROYW1lUnU7CiAgICAgICAgX3RoaXM2LmVkaXRpbmdJdGVtLnVuaXRTaG9ydE5hbWVMdCA9IF90aGlzNi5lZGl0aW5nSXRlbUZvck11bHRpcGxlLnVuaXQuc2hvcnROYW1lTHQ7CiAgICAgICAgdmFyIGNvcGllZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpczYuZWRpdGluZ0l0ZW0pOwogICAgICAgIGNvcGllZEl0ZW0uZGVjaXNpb25OdW1iZXIgPSBfdGhpczYuZWRpdGluZ0l0ZW0uZGVjaXNpb25OdW1iZXI7CiAgICAgICAgY29waWVkSXRlbS5jcmVhdGVkRGF0ZSA9IF90aGlzNi5lZGl0aW5nSXRlbS5jcmVhdGVkRGF0ZTsKICAgICAgICBjb3BpZWRJdGVtLmRlc2NyaXB0aW9uID0gX3RoaXM2LmVkaXRpbmdJdGVtLmRlc2NyaXB0aW9uOwogICAgICAgIF90aGlzNi5taW5pbXVtQ29sbGVjdGlvbnMucHVzaChjb3BpZWRJdGVtKTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZU11bHRpcGxlTWluaW11bUNvbGxlY3Rpb25zOiBmdW5jdGlvbiBzYXZlTXVsdGlwbGVNaW5pbXVtQ29sbGVjdGlvbnMoZSkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLm11bHRpcGxlTWluaW11bUNvbGxlY3Rpb25zQ29tcHV0ZWRPYnNlcnZlci52YWxpZGF0ZSgpLnRoZW4oZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAoX3RoaXM3LmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUuaXNFeHRlbmRlZCkgewogICAgICAgICAgICBfdGhpczcuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS5kaXN0cmljdHMuZm9yRWFjaChmdW5jdGlvbiAoZGlzdHJpY3QpIHsKICAgICAgICAgICAgICBpZiAoX3RoaXM3LmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUuZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudFZvbHVtZVR5cGVzICYmIF90aGlzNy5lZGl0aW5nSXRlbUZvck11bHRpcGxlLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRWb2x1bWVUeXBlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBfdGhpczcuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50Vm9sdW1lVHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodm9sdW1lVHlwZSkgewogICAgICAgICAgICAgICAgICBfdGhpczcuY3JlYXRlTWluQ29sbGVjdGlvbnNGcm9tQWREZXNpZ25UeXBlc0Zvck11bHRpcGxlU2F2ZUZuKGRpc3RyaWN0LCB2b2x1bWVUeXBlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpczcuY3JlYXRlTWluQ29sbGVjdGlvbnNGcm9tQWREZXNpZ25UeXBlc0Zvck11bHRpcGxlU2F2ZUZuKGRpc3RyaWN0KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKF90aGlzNy5lZGl0aW5nSXRlbUZvck11bHRpcGxlLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRWb2x1bWVUeXBlcyAmJiBfdGhpczcuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50Vm9sdW1lVHlwZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIF90aGlzNy5lZGl0aW5nSXRlbUZvck11bHRpcGxlLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRWb2x1bWVUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh2b2x1bWVUeXBlKSB7CiAgICAgICAgICAgICAgICBfdGhpczcuY3JlYXRlTWluQ29sbGVjdGlvbnNGcm9tQWREZXNpZ25UeXBlc0Zvck11bHRpcGxlU2F2ZUZuKGZhbHNlLCB2b2x1bWVUeXBlKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczcuY3JlYXRlTWluQ29sbGVjdGlvbnNGcm9tQWREZXNpZ25UeXBlc0Zvck11bHRpcGxlU2F2ZUZuKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8qIHRoaXMuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50RGVzaWduVHlwZXMuZm9yRWFjaChhZERlc2lnblR5cGUgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMucmVzZXRFZGl0aW5nSXRlbSgpDQogICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50RGVzaWduVHlwZUlkID0gYWREZXNpZ25UeXBlLmlkDQogICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS5kaXJlY3RvcnlBZHZlcnRpc2VtZW50RGVzaWduVHlwZU5hbWVVeiA9IGFkRGVzaWduVHlwZS5uYW1lVXoNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnREZXNpZ25UeXBlTmFtZVJ1ID0gYWREZXNpZ25UeXBlLm5hbWVSdQ0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudERlc2lnblR5cGVOYW1lTHQgPSBhZERlc2lnblR5cGUubmFtZUx0DQogICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS5jb3N0ID0gYWREZXNpZ25UeXBlLmNvc3QNCiAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudExvY2F0aW9uVHlwZUlkID0gdGhpcy5lZGl0aW5nSXRlbUZvck11bHRpcGxlLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRMb2NhdGlvblR5cGUuaWQNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRMb2NhdGlvblR5cGVOYW1lVXogPSB0aGlzLmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUuZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudExvY2F0aW9uVHlwZS5uYW1lVXoNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRMb2NhdGlvblR5cGVOYW1lUnUgPSB0aGlzLmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUuZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudExvY2F0aW9uVHlwZS5uYW1lUnUNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRMb2NhdGlvblR5cGVOYW1lTHQgPSB0aGlzLmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUuZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudExvY2F0aW9uVHlwZS5uYW1lTHQNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLnJlZ2lvbklkID0gdGhpcy5lZGl0aW5nSXRlbUZvck11bHRpcGxlLnJlZ2lvbi5pZA0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0l0ZW0ucmVnaW9uTmFtZVV6ID0gdGhpcy5lZGl0aW5nSXRlbUZvck11bHRpcGxlLnJlZ2lvbi5uYW1lVXoNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLnJlZ2lvbk5hbWVSdSA9IHRoaXMuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS5yZWdpb24ubmFtZVJ1DQogICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS5yZWdpb25OYW1lTHQgPSB0aGlzLmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUucmVnaW9uLm5hbWVMdA0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0l0ZW0uc3RhdHVzSWQgPSB0aGlzLmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUuc3RhdHVzSWQNCiAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0l0ZW0uc3RhdHVzTmFtZVV6ID0gdGhpcy5zdGF0dXNlcy5maW5kKHMgPT4gcy5pZCA9PSB0aGlzLmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUuc3RhdHVzSWQpLm5hbWVVeg0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0l0ZW0uc3RhdHVzTmFtZVJ1ID0gdGhpcy5zdGF0dXNlcy5maW5kKHMgPT4gcy5pZCA9PSB0aGlzLmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUuc3RhdHVzSWQpLm5hbWVSdQ0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0l0ZW0uc3RhdHVzTmFtZUx0ID0gdGhpcy5zdGF0dXNlcy5maW5kKHMgPT4gcy5pZCA9PSB0aGlzLmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUuc3RhdHVzSWQpLm5hbWVMdA0KICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS51bml0SWQgPSB0aGlzLmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUudW5pdC5pZA0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0l0ZW0udW5pdFNob3J0TmFtZVV6ID0gdGhpcy5lZGl0aW5nSXRlbUZvck11bHRpcGxlLnVuaXQuc2hvcnROYW1lVXoNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdJdGVtLnVuaXRTaG9ydE5hbWVSdSA9IHRoaXMuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS51bml0LnNob3J0TmFtZVJ1DQogICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSXRlbS51bml0U2hvcnROYW1lTHQgPSB0aGlzLmVkaXRpbmdJdGVtRm9yTXVsdGlwbGUudW5pdC5zaG9ydE5hbWVMdA0KICAgICAgICAgICAgICAgICAgbGV0IGNvcGllZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmVkaXRpbmdJdGVtKQ0KICAgICAgICAgICAgICAgICAgY29waWVkSXRlbS5kZWNpc2lvbk51bWJlciA9IHRoaXMuZWRpdGluZ0l0ZW0uZGVjaXNpb25OdW1iZXINCiAgICAgICAgICAgICAgICBjb3BpZWRJdGVtLmNyZWF0ZWREYXRlID0gdGhpcy5lZGl0aW5nSXRlbS5jcmVhdGVkRGF0ZQ0KICAgICAgICAgICAgICAgIGNvcGllZEl0ZW0uZGVzY3JpcHRpb24gPSB0aGlzLmVkaXRpbmdJdGVtLmRlc2NyaXB0aW9uDQogICAgICAgICAgICAgICAgICB0aGlzLm1pbmltdW1Db2xsZWN0aW9ucy5wdXNoKGNvcGllZEl0ZW0pDQogICAgICAgICAgICB9KSAqLwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzNy5jcmVhdGVNdWx0aXBsZU1pbmltdW1Db2xsZWN0aW9uc01vZGFsID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzNy4kdG9hc3QoX3RoaXM3LiR0KCdtZXNzYWdlcy5maWxsX3JlcXVpcmVkX2ZpZWxkcycpLCB7CiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY3VzdG9tTGFiZWxBZExvY2F0aW9uVHlwZTogZnVuY3Rpb24gY3VzdG9tTGFiZWxBZExvY2F0aW9uVHlwZShvcHQpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5hZExvY2F0aW9uVHlwZXMuZmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmlkID09IChvcHQuaWQgPyBvcHQuaWQgOiBvcHQpOwogICAgICB9KTsKICAgICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLmdldE5hbWUoewogICAgICAgICAgbmFtZVJ1OiBzZWxlY3RlZC5uYW1lUnUsCiAgICAgICAgICBuYW1lTHQ6IHNlbGVjdGVkLm5hbWVMdCwKICAgICAgICAgIG5hbWVVejogc2VsZWN0ZWQubmFtZVV6CiAgICAgICAgfSkpOwogICAgICB9CiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBjdXN0b21MYWJlbERpc3RyaWN0OiBmdW5jdGlvbiBjdXN0b21MYWJlbERpc3RyaWN0KG9wdCkgewogICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLmRpc3RyaWN0cy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT0gKG9wdC5pZCA/IG9wdC5pZCA6IG9wdCk7CiAgICAgIH0pOwogICAgICBpZiAoc2VsZWN0ZWQpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMuZ2V0TmFtZSh7CiAgICAgICAgICBuYW1lUnU6IHNlbGVjdGVkLm5hbWVSdSwKICAgICAgICAgIG5hbWVMdDogc2VsZWN0ZWQubmFtZUx0LAogICAgICAgICAgbmFtZVV6OiBzZWxlY3RlZC5uYW1lVXoKICAgICAgICB9KSk7CiAgICAgIH0KICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIGN1c3RvbUxhYmVsQWREZXNpZ25UeXBlOiBmdW5jdGlvbiBjdXN0b21MYWJlbEFkRGVzaWduVHlwZShvcHQpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5hZERlc2lnblR5cGVzLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pZCA9PSAob3B0LmlkID8gb3B0LmlkIDogb3B0KTsKICAgICAgfSk7CiAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgIHJldHVybiAiIi5jb25jYXQodGhpcy5nZXROYW1lKHsKICAgICAgICAgIG5hbWVSdTogc2VsZWN0ZWQubmFtZVJ1LAogICAgICAgICAgbmFtZUx0OiBzZWxlY3RlZC5uYW1lTHQsCiAgICAgICAgICBuYW1lVXo6IHNlbGVjdGVkLm5hbWVVegogICAgICAgIH0pKTsKICAgICAgfQogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgY3VzdG9tTGFiZWxBZFZvbHVtZVR5cGU6IGZ1bmN0aW9uIGN1c3RvbUxhYmVsQWRWb2x1bWVUeXBlKG9wdCkgewogICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLmFkVm9sdW1lVHlwZXMuZmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmlkID09IChvcHQuaWQgPyBvcHQuaWQgOiBvcHQpOwogICAgICB9KTsKICAgICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLmdldE5hbWUoewogICAgICAgICAgbmFtZVJ1OiBzZWxlY3RlZC5uYW1lUnUsCiAgICAgICAgICBuYW1lTHQ6IHNlbGVjdGVkLm5hbWVMdCwKICAgICAgICAgIG5hbWVVejogc2VsZWN0ZWQubmFtZVV6CiAgICAgICAgfSkpOwogICAgICB9CiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBjdXN0b21MYWJlbFJlZ2lvbjogZnVuY3Rpb24gY3VzdG9tTGFiZWxSZWdpb24ob3B0KSB7CiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMucmVnaW9ucy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT0gKG9wdC5pZCA/IG9wdC5pZCA6IG9wdCk7CiAgICAgIH0pOwogICAgICBpZiAoc2VsZWN0ZWQpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMuZ2V0TmFtZSh7CiAgICAgICAgICBuYW1lUnU6IHNlbGVjdGVkLm5hbWVSdSwKICAgICAgICAgIG5hbWVMdDogc2VsZWN0ZWQubmFtZUx0LAogICAgICAgICAgbmFtZVV6OiBzZWxlY3RlZC5uYW1lVXoKICAgICAgICB9KSk7CiAgICAgIH0KICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIGN1c3RvbUxhYmVsVW5pdDogZnVuY3Rpb24gY3VzdG9tTGFiZWxVbml0KG9wdCkgewogICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLnVuaXRzLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pZCA9PSAob3B0LmlkID8gb3B0LmlkIDogb3B0KTsKICAgICAgfSk7CiAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgIHJldHVybiAiIi5jb25jYXQodGhpcy5nZXROYW1lKHsKICAgICAgICAgIG5hbWVSdTogc2VsZWN0ZWQubmFtZVJ1LAogICAgICAgICAgbmFtZUx0OiBzZWxlY3RlZC5uYW1lTHQsCiAgICAgICAgICBuYW1lVXo6IHNlbGVjdGVkLm5hbWVVegogICAgICAgIH0pKTsKICAgICAgfQogICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgdHJlZUNsb3NlZDogZnVuY3Rpb24gdHJlZUNsb3NlZCh2ZWVOYW1lKSB7CiAgICAgIHRoaXMuY29tcHV0ZWRPYnNlcnZlci5yZWZzW3ZlZU5hbWVdLnZhbGlkYXRlKCk7CiAgICB9LAogICAgbm9ybWFsaXplcjogZnVuY3Rpb24gbm9ybWFsaXplcihub2RlKSB7CiAgICAgIGlmICghbm9kZS5jaGlsZHJlbiB8fCBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGRlbGV0ZSBub2RlLmNoaWxkcmVuOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZDogbm9kZS5pZCwKICAgICAgICAgIGxhYmVsOiB0aGlzLmdldE5hbWUoewogICAgICAgICAgICBuYW1lUnU6IG5vZGUubmFtZVJ1LAogICAgICAgICAgICBuYW1lTHQ6IG5vZGUubmFtZUx0LAogICAgICAgICAgICBuYW1lVXo6IG5vZGUubmFtZVV6CiAgICAgICAgICB9KQogICAgICAgIH07CiAgICAgIH0KICAgICAgcmV0dXJuIHsKICAgICAgICBpZDogbm9kZS5pZCwKICAgICAgICBsYWJlbDogdGhpcy5nZXROYW1lKHsKICAgICAgICAgIG5hbWVSdTogbm9kZS5uYW1lUnUsCiAgICAgICAgICBuYW1lTHQ6IG5vZGUubmFtZUx0LAogICAgICAgICAgbmFtZVV6OiBub2RlLm5hbWVVegogICAgICAgIH0pLAogICAgICAgIGNoaWxkcmVuOiBub2RlLmNoaWxkcmVuICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMCA/IG5vZGUuY2hpbGRyZW4gOiBbXQogICAgICB9OwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwogICAgICB0aGlzLmNvbXB1dGVkT2JzZXJ2ZXIudmFsaWRhdGUoKS50aGVuKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCAmJiAoX3RoaXM4Lm1pbmltdW1Db2xsZWN0aW9ucy5sZW5ndGggfHwgIV90aGlzOC5pc01vZGVDcmVhdGUpKSB7CiAgICAgICAgICBfdGhpczgubWluaW11bUNvbGxlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGMpIHsKICAgICAgICAgICAgYy5kZWNpc2lvbk51bWJlciA9IF90aGlzOC5lZGl0aW5nSXRlbS5kZWNpc2lvbk51bWJlcjsKICAgICAgICAgICAgYy5jcmVhdGVkRGF0ZSA9IF90aGlzOC5lZGl0aW5nSXRlbS5jcmVhdGVkRGF0ZTsKICAgICAgICAgICAgYy5kZXNjcmlwdGlvbiA9IF90aGlzOC5lZGl0aW5nSXRlbS5kZXNjcmlwdGlvbjsKICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKF90aGlzOC5lZGl0aW5nSXRlbS5pZCkgewogICAgICAgICAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlLnVwZGF0ZShfdGhpczguaXNPbkV4dGVuZGVkUGFnZSA/IE1BSU5fQVBJX1VSTF9FWFRFTkRFRCA6IE1BSU5fQVBJX1VSTCwgX3RoaXM4LmVkaXRpbmdJdGVtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpczguY29tcHV0ZWRPYnNlcnZlci5yZXNldCgpOwogICAgICAgICAgICAgIF90aGlzOC5lZGl0aW5nSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHt9KTsKICAgICAgICAgICAgICBfdGhpczguJHJvdXRlci5nbygtMSk7CiAgICAgICAgICAgICAgX3RoaXM4LiR0b2FzdChfdGhpczguJHQoJ21lc3NhZ2VzLnNhdmVkX3N1Y2Nlc3NmdWxseScpLCB7CiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlLmNyZWF0ZShNQUlOX0FQSV9VUkwsIF90aGlzOC5taW5pbXVtQ29sbGVjdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIF90aGlzOC5jb21wdXRlZE9ic2VydmVyLnJlc2V0KCk7CiAgICAgICAgICAgICAgX3RoaXM4LmVkaXRpbmdJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwge30pOwogICAgICAgICAgICAgIF90aGlzOC4kcm91dGVyLmdvKC0xKTsKICAgICAgICAgICAgICBfdGhpczguJHRvYXN0KF90aGlzOC4kdCgnbWVzc2FnZXMuc2F2ZWRfc3VjY2Vzc2Z1bGx5JyksIHsKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM4LiR0b2FzdChfdGhpczguJHQoJ21lc3NhZ2VzLmZpbGxfcmVxdWlyZWRfZmllbGRzJyksIHsKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIC8qDQogICogQ1JFQVRFRCAqLwogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXM5ID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX3RoaXM5LnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLml0ZW1zUGVyUGFnZSA9IDUwMDsKICAgICAgICAgICAgaWYgKCFfdGhpczkuaXNNb2RlQ3JlYXRlKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgcmV0dXJuIGNydWRBbmRMaXN0c1NlcnZpY2UuZ2V0RW1wdHkoTUFJTl9BUElfVVJMKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpczkuZWRpdGluZ0l0ZW0gPSByZXMuZGF0YTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgcmV0dXJuIGNydWRBbmRMaXN0c1NlcnZpY2UuZ2V0QnlJZChfdGhpczkuaXNPbkV4dGVuZGVkUGFnZSA/IE1BSU5fQVBJX1VSTF9FWFRFTkRFRCA6IE1BSU5fQVBJX1VSTCwgX3RoaXM5LiRyb3V0ZS5wYXJhbXMuaWQsIGZhbHNlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpczkuZWRpdGluZ0l0ZW0gPSByZXMuZGF0YTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTA7CiAgICAgICAgICAgIHJldHVybiBoZWxwZXJTZXJ2aWNlLmdldFJlZkJ5Q29kZSgnc3RhdHVzJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgX3RoaXM5LnN0YXR1c2VzID0gcmVzLmRhdGEuY2hpbGRyZW47CiAgICAgICAgICAgICAgaWYgKF90aGlzOS5pc01vZGVDcmVhdGUpIHsKICAgICAgICAgICAgICAgIHZhciBhY3RpdmVTdGF0dXMgPSBfdGhpczkuc3RhdHVzZXMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsLmNvZGUgPT0gJ0FDVElWRSc7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChhY3RpdmVTdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM5LmVkaXRpbmdJdGVtLnN0YXR1c0lkID0gYWN0aXZlU3RhdHVzLmlkOwogICAgICAgICAgICAgICAgICBfdGhpczkuZWRpdGluZ0l0ZW1Gb3JNdWx0aXBsZS5zdGF0dXNJZCA9IGFjdGl2ZVN0YXR1cy5pZDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMjsKICAgICAgICAgICAgcmV0dXJuIGhlbHBlclNlcnZpY2UuZmV0Y2hSZWdpb25zKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgX3RoaXM5LnJlZ2lvbnMgPSByZXMuZGF0YTsKICAgICAgICAgICAgICBfdGhpczkucmVnaW9uU2VsZWN0ZWQoX3RoaXM5LmVkaXRpbmdJdGVtLnJlZ2lvbklkLCBfdGhpczkuZWRpdGluZ0l0ZW0uZGlyZWN0b3J5QWR2ZXJ0aXNlbWVudExvY2F0aW9uVHlwZUlkLCB0cnVlKTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAvLyBHRVQgQURfTE9DQVRJT05fVFlQRVMKICAgICAgICAgICAgY3J1ZEFuZExpc3RzU2VydmljZS5zZWFyY2hMaXN0KCdkaXJlY3RvcnkvYWR2ZXJ0aXNlbWVudC1sb2NhdGlvbi10eXBlcycsIF90aGlzOS52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgX3RoaXM5LmFkTG9jYXRpb25UeXBlcyA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgICAgICAgX3RoaXM5LmFkTG9jYXRpb25UeXBlU2VsZWN0ZWQoX3RoaXM5LmVkaXRpbmdJdGVtLmRpcmVjdG9yeUFkdmVydGlzZW1lbnRMb2NhdGlvblR5cGVJZCwgdHJ1ZSk7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8gR0VUIFVOSVRTCiAgICAgICAgICAgIGNydWRBbmRMaXN0c1NlcnZpY2Uuc2VhcmNoTGlzdCgnZGlyZWN0b3J5L3VuaXRzJywgX3RoaXM5LnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpczkudW5pdHMgPSByZXMuZGF0YS5saXN0OwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIEdFVCBNSU5JTVVNX0NPTExFQ1RJT05fVFlQRVMKICAgICAgICAgICAgLyogY3J1ZEFuZExpc3RzU2VydmljZQ0KICAgICAgICAgICAgICAgIC5zZWFyY2hMaXN0KCdkaXJlY3RvcnkvbWluaW11bS1jb2xsZWN0aW9uLXR5cGVzJywgdGhpcy52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZCkNCiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMubWluaW11bUNvbGxlY3Rpb25UeXBlcyA9IHJlcy5kYXRhLmxpc3Q7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpDQogICAgICAgICAgICAgICAgfSkgKi8KICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;AAg2BA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;EACA;AACA;EACAC,aAEA;EACA;AACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,cACA;QACAC;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QAAAJ;QAAAI;MAAA,GACA;QAAAJ;QAAAI;MAAA,GACA;QAAAJ;QAAAI;MAAA,GACA;QAAAJ;QAAAI;MAAA,GACA;QAAAJ;QAAAI;MAAA,GACA;QAAAJ;QAAAI;MAAA,GACA;QAAAJ;QAAAI;MAAA,GACA;QAAAJ;QAAAI;MAAA,GACA;QACAJ;QACAI;QACAH;QACAC;QACAC;MACA;IAEA;EACA;EACA;AACA;EACAE;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACA;AACA;EACAC;IACAC;MACA;MACA;QACA;MACA;IACA;IACAC;MAAA;QAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAAC;cACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;cACA;cACA;cAAA,KACAC;gBAAA;gBAAA;cAAA;cACA;gBACA;gBACAC,cACAC,qFACAC;kBACA;gBACA,GACAC;kBACAC;gBACA;cACA;cAAA,MACA;gBAAA;gBAAA;cAAA;cAAA;cAAA,OACAJ,wEACAE;gBACA;cACA,GACAC;gBACAC;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAGA;IACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAEAC;MAAA;MACAC;MACA;MACA;QACA;UACA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YAEA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YAEA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YAEA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YAEA;YACA;YACA;UACA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YAEA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YAEA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YAEA;YACA;YACA;UACA;QACA;UACA;YAAAC;UAAA;QACA;MACA;IACA;IACAC;MAAA;QAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAAC;cACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;cACA;cACA;gBACA;kBACA;kBACAT,cACAC,sNACAC;oBACA;kBACA,GACAC;oBACAC;kBACA;gBACA;gBACA;gBACAJ,cACAU,yHACAR;kBACA;gBACA,GACAC;kBACAC;gBACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IACA;IACAO;MACA;MACA;MACA;IACA;IACAC;MAAA;MACA;QACAC;QACAC;MACA,GACAZ;QACA;UACA;QACA;MACA,GACAC;QACA;MAAA,CACA;IACA;IACAY;MAAA;MACA;QACA;UACA;YACA;YACA;cAAA;YAAA;YACA;cACA;YACA;YACA;UACA;YACA;cAAAR;YAAA;UACA;QACA;MACA;IACA;IACAS;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MAAA;MAAA;MAAA;MACA;QACA;QACA;UACA;UACA;UACA;UACA;QACA;QAEA;QAEA;QACA;QACA;QACA;QAEA;UACA;UACA;UACA;UACA;UACA;QACA;UACA;QACA;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QAEA;UAAA;QAAA;QACA;UAAA;QAAA;QACA;UAAA;QAAA;QAEA;QACA;QACA;QACA;QAEA;QAEAC;QACAA;QACAA;QAEA;MACA;IACA;IACAC;MAAA;MACAb;MAEA;QACA;UAEA;YACA;cACA;gBACA;kBACA;gBACA;cACA;gBACA;cACA;YACA;UACA;YACA;cACA;gBACA;cACA;YACA;cACA;YACA;;YAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;UAQA;;UACA;QACA;UACA;YAAAC;UAAA;QACA;MACA;IACA;IACAa;MACA;QAAA;MAAA;MACA;QACA;UACAC;UACAC;UACAC;QACA;MAEA;MACA;IACA;IACAC;MACA;QAAA;MAAA;MACA;QACA;UACAH;UACAC;UACAC;QACA;MAEA;MACA;IACA;IACAE;MACA;QAAA;MAAA;MACA;QACA;UACAJ;UACAC;UACAC;QACA;MAEA;MACA;IACA;IACAG;MACA;QAAA;MAAA;MACA;QACA;UACAL;UACAC;UACAC;QACA;MAEA;MACA;IACA;IACAI;MACA;QAAA;MAAA;MACA;QACA;UACAN;UACAC;UACAC;QACA;MAEA;MACA;IACA;IACAK;MACA;QAAA;MAAA;MACA;QACA;UACAP;UACAC;UACAC;QACA;MAEA;MACA;IACA;IACAM;MACA;IACA;IACAC;MACA;QACA;QACA;UACAC;UACA/C;YACAqC;YACAC;YACAC;UACA;QACA;MACA;MACA;QACAQ;QACA/C;UACAqC;UACAC;UACAC;QACA;QACAS;MACA;IACA;IACAC;MAAA;MACA;QACA;UACA;YACAC;YACAA;YACAA;UACA;UACA;YACAC;cACA;cACA;cACA;cACA;gBAAA5B;cAAA;YACA;UACA;YACA4B;cACA;cACA;cACA;cACA;gBAAA5B;cAAA;YACA;UACA;QACA;UACA;YAAAA;UAAA;QACA;MACA;IACA;EACA;EACA;AACA;EACA6B;IAAA;IAAA;MAAA;QAAA;UAAA;YACA;YAAA,KACA;cAAA;cAAA;YAAA;YAAA;YAAA,OACAD,2CACAjC;cACA;YACA,GACAC;cACAC;YACA;UAAA;YAAA;YAAA;UAAA;YAAA;YAAA,OAEA+B,4HACAjC;cACA;YACA,GACAC;cACAC;YACA;UAAA;YAAA;YAAA,OAGAJ,qCACAE;cACA;cACA;gBACA;kBAAA;gBAAA;gBACA;kBACA;kBACA;gBACA;cACA;YACA,GACAC;cACAC;YACA;UAAA;YAAA;YAAA,OAGAJ,6BACAE;cACA;cACA;YACA,GACAC;cACAC;YACA;UAAA;YAEA;YACA+B,oBACAE,wFACAnC;cACA;cACA;YACA,GACAC;cACAC;YACA;;YAEA;YACA+B,oBACAE,iEACAnC;cACA;YACA,GACAC;cACAC;YACA;;YAEA;YACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UAPA;UAAA;YAAA;QAAA;MAAA;IAAA;EAQA;AACA","names":["name","components","data","editingItem","showVolumeTypesRow","editingItemForMultiple","currentEditingItem","minimumCollections","createMultipleMinimumCollectionsModal","singleMinimumCollectionUpdateModal","statuses","regions","units","adLocationTypes","adDesignTypes","adVolumeTypes","districts","adDesignTypesByMinCollTypeForExtended","tableFields","label","thClass","tdClass","sortable","key","computed","isModeCreate","isOnExtendedPage","computedObserver","multipleMinimumCollectionsComputedObserver","singleMinimumCollectionUpdateComputedObserver","methods","adVolumeTypesSelected","regionSelected","dontResetDistrict","$event","helperService","getAdDesignTypesByAdLocationTypeId","then","catch","console","updateSingleMinimumCollection","e","type","adLocationTypeSelected","dontResetAdDesignType","getAdVolumeTypesByAdLocationTypeId","editItem","deleteItem","okTitle","cancelTitle","createOrUpdateItem","resetEditingItem","createMinCollectionsFromAdDesignTypesForMultipleSaveFn","copiedItem","saveMultipleMinimumCollections","customLabelAdLocationType","nameRu","nameLt","nameUz","customLabelDistrict","customLabelAdDesignType","customLabelAdVolumeType","customLabelRegion","customLabelUnit","treeClosed","normalizer","id","children","save","c","crudAndListsService","created","searchList"],"sourceRoot":"src/modules/references/modules/advertisement/modules/minimum_collections","sources":["CreateOrUpdate.vue"],"sourcesContent":["<template>\r\n    <base-create-or-update-wrapper\r\n        @save=\"save\"\r\n        has-save-suspend\r\n        :custom-title=\"isModeCreate ? $t('actions.create') : $t('actions.update')\"\r\n    >\r\n        <ValidationObserver\r\n            ref=\"observer\"\r\n            v-slot=\"{}\"\r\n        >\r\n            <b-row class=\"mb-3 justify-content-end\">\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                    :lg=\"isModeCreate ? '4' : '6'\"\r\n                >\r\n                    <BaseInputWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"editingItem.decisionNumber\"\r\n                        :label=\"$t('column.decision_number')\"\r\n                        :placeholder=\"$t('column.decision_number')\"\r\n                    />\r\n                </b-col>\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                    :lg=\"isModeCreate ? '4' : '6'\"\r\n                >\r\n                    <BaseDatePickerWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        :label=\"$t('column.decision_date')\"\r\n                        :placeholder=\"$t('column.decision_date')\"\r\n                        v-model=\"editingItem.decisionDate\"\r\n                        lang=\"ru\"\r\n                    ></BaseDatePickerWithValidation>\r\n                </b-col>\r\n\r\n                <!-- MINIMUM_COLLECTION_TYPE SHOW ONLY ON UPDATE -->\r\n                <b-col\r\n                    v-if=\"!isModeCreate && editingItem.isExtended\"\r\n                    class=\"mt-3\"\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                >\r\n                    <!-- <BaseMultiselectWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"editingItem.directoryMinimumCollectionTypeId\"\r\n                        :options=\"minimumCollectionTypes.map(el => el.id)\"\r\n                        :label=\"$t('submodules.minimum_collection_types.title')\"\r\n                        :custom-label=\"customLabelMinimumCollectionType\"\r\n                        :placeholder=\"$t('submodules.minimum_collection_types.title')\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                    /> -->\r\n                    <BaseMultiselectWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"editingItem.districtId\"\r\n                        :options=\"districts.map(e => e.id)\"\r\n                        :label=\"$t('column.district')\"\r\n                        :custom-label=\"customLabelDistrict\"\r\n                        :placeholder=\"$t('column.district')\"\r\n                        open-direction=\"bottom\"\r\n                        :max-height=\"600\"\r\n                        :show-labels=\"false\"\r\n                    />\r\n                </b-col>\r\n\r\n                <b-col\r\n                    sm=\"12\"\r\n                    md=\"6\"\r\n                    :lg=\"isModeCreate ? '4' : '6'\"\r\n                    :class=\"isModeCreate ? 'mt-md-2 mt-lg-0' : 'mt-3'\"\r\n                >\r\n                    <BaseTextareaWithValidation\r\n                        rules=\"required\"\r\n                        class=\"required\"\r\n                        v-model=\"editingItem.description\"\r\n                        max-rows=\"6\"\r\n                        :label=\"$t('column.reason')\"\r\n                        :placeholder=\"$t('column.reason')\"\r\n                    />\r\n                </b-col>\r\n            </b-row>\r\n            <!-- IF UPDATE MODE -->\r\n            <template v-if=\"!isModeCreate\">\r\n                <b-row class=\"mb-3\">\r\n                    <b-col\r\n                        sm=\"12\"\r\n                        md=\"6\"\r\n                    >\r\n                        <BaseMultiselectWithValidation\r\n                            rules=\"required\"\r\n                            class=\"required\"\r\n                            v-model=\"editingItem.regionId\"\r\n                            @select=\"regionSelected($event, editingItem.directoryAdvertisementLocationTypeId)\"\r\n                            :options=\"regions.map(el => el.id)\"\r\n                            :label=\"$t('column.region')\"\r\n                            :custom-label=\"customLabelRegion\"\r\n                            :placeholder=\"$t('column.region')\"\r\n                            open-direction=\"bottom\"\r\n                            :max-height=\"600\"\r\n                            :show-labels=\"false\"\r\n                        />\r\n                    </b-col>\r\n                    <b-col\r\n                        sm=\"12\"\r\n                        md=\"6\"\r\n                    >\r\n                        <BaseMultiselectWithValidation\r\n                            rules=\"required\"\r\n                            class=\"required\"\r\n                            v-model=\"editingItem.unitId\"\r\n                            :options=\"units.map(el => el.id)\"\r\n                            :label=\"$t('column.unit')\"\r\n                            :custom-label=\"customLabelUnit\"\r\n                            :placeholder=\"$t('column.unit')\"\r\n                            open-direction=\"bottom\"\r\n                            :max-height=\"600\"\r\n                            :show-labels=\"false\"\r\n                        />\r\n                    </b-col>\r\n                </b-row>\r\n\r\n                <b-row class=\"mb-3\">\r\n                    <b-col\r\n                        sm=\"12\"\r\n                        md=\"6\"\r\n                    >\r\n                        <BaseMultiselectWithValidation\r\n                            rules=\"required\"\r\n                            class=\"required\"\r\n                            v-model=\"editingItem.directoryAdvertisementLocationTypeId\"\r\n                            @select=\"adLocationTypeSelected\"\r\n                            :options=\"adLocationTypes.map(el => el.id)\"\r\n                            :label=\"$t('column.ad_location_type')\"\r\n                            :custom-label=\"customLabelAdLocationType\"\r\n                            :placeholder=\"$t('column.ad_location_type')\"\r\n                            open-direction=\"bottom\"\r\n                            :max-height=\"600\"\r\n                            :show-labels=\"false\"\r\n                        />\r\n                    </b-col>\r\n                    <b-col\r\n                        sm=\"12\"\r\n                        md=\"6\"\r\n                    >\r\n                        <BaseMultiselectWithValidation\r\n                            rules=\"required\"\r\n                            class=\"required\"\r\n                            v-model=\"editingItem.directoryAdvertisementDesignTypeId\"\r\n                            :options=\"adDesignTypes.map(el => el.id)\"\r\n                            :label=\"$t('column.ad_design_type')\"\r\n                            :custom-label=\"customLabelAdDesignType\"\r\n                            :placeholder=\"$t('column.ad_design_type')\"\r\n                            open-direction=\"bottom\"\r\n                            :max-height=\"600\"\r\n                            :show-labels=\"false\"\r\n                        />\r\n                    </b-col>\r\n                </b-row>\r\n                <b-row class=\"mb-3\">\r\n                    <b-col\r\n                        sm=\"12\"\r\n                        md=\"6\"\r\n                    >\r\n                        <BaseInputWithValidation\r\n                            rules=\"required|positiveNotZero\"\r\n                            class=\"required\"\r\n                            v-model=\"editingItem.cost\"\r\n                            :label=\"$t('column.minimum_collection')\"\r\n                            :placeholder=\"$t('column.minimum_collection')\"\r\n                        />\r\n                    </b-col>\r\n                    <b-col\r\n                        sm=\"12\"\r\n                        md=\"6\"\r\n                    >\r\n                        <BaseMultiselectWithValidation\r\n                            not-required\r\n                            v-model=\"editingItem.directoryAdvertisementVolumeTypeId\"\r\n                            :options=\"adVolumeTypes.map(el => el.id)\"\r\n                            :label=\"$t('submodules.ad_volume_types.title')\"\r\n                            :custom-label=\"customLabelAdVolumeType\"\r\n                            :placeholder=\"$t('submodules.ad_volume_types.title')\"\r\n                            open-direction=\"bottom\"\r\n                            :max-height=\"600\"\r\n                            :show-labels=\"false\"\r\n                        />\r\n                    </b-col>\r\n                </b-row>\r\n                <b-row class=\"mb-3\">\r\n                    <b-col\r\n                        sm=\"12\"\r\n                        md=\"6\"\r\n                    >\r\n                        <BaseSelectWithValidation\r\n                            v-model=\"editingItem.statusId\"\r\n                            class=\"required\"\r\n                            rules=\"required\"\r\n                            :label=\"$t('column.status')\"\r\n                            value-field=\"id\"\r\n                        >\r\n                            <template #first>\r\n                                <b-form-select-option\r\n                                    :value=\"null\"\r\n                                    disabled\r\n                                >{{ $t('column.status') }}</b-form-select-option>\r\n                                <b-form-select-option\r\n                                    v-for=\"(status, index) in statuses\"\r\n                                    :key=\"`${status}-${index}`\"\r\n                                    :value=\"status.id\"\r\n                                >{{\r\n                                  getName({\r\n                                    nameRu: status.nameRu,\r\n                                    nameLt: status.nameLt,\r\n                                    nameUz: status.nameUz,\r\n                                  })\r\n                                }}\r\n                                </b-form-select-option>\r\n                            </template>\r\n                        </BaseSelectWithValidation>\r\n                    </b-col>\r\n                    <b-col\r\n                        sm=\"12\"\r\n                        md=\"6\"\r\n                    >\r\n                    </b-col>\r\n                </b-row>\r\n            </template>\r\n\r\n            <!-- IF CREATE MODE -->\r\n            <template v-else>\r\n                <hr>\r\n                <div class=\"inner-title d-flex justify-content-between align-items-center mb-3\">\r\n                    <span></span>\r\n                    <div>\r\n                        <h5 class=\"m-0\">{{ $t('column.minimum_collections') }} <span class=\"text-danger\">*</span></h5>\r\n                    </div>\r\n                    <b-btn\r\n                        variant=\"info\"\r\n                        class=\"text-capitalize\"\r\n                        @click=\"createOrUpdateItem('create')\"\r\n                    >\r\n                        {{ $t(\"actions.create\") }}\r\n                    </b-btn>\r\n                </div>\r\n                <!-- Table data -->\r\n                <b-table\r\n                    :items=\"minimumCollections\"\r\n                    :fields=\"tableFields\"\r\n                    id=\"my-table\"\r\n                    class=\"custom-b-table\"\r\n                    responsive\r\n                    striped\r\n                    bordered\r\n                    small\r\n                    hover\r\n                    show-empty\r\n                >\r\n                    <!-- NUMBER OF ITEM -->\r\n                    <template #cell(index)=\"data\">\r\n                        {{ util_paginate(data.index, var_default_search_payload.page, var_default_search_payload.itemsPerPage) }}\r\n                    </template>\r\n\r\n                    <!-- NAME -->\r\n                    <template #cell(name)=\"data\">\r\n                        <div class=\"d-flex justify-content-between\">\r\n                            <p\r\n                                class=\"mb-0 d-flex align-items-center\"\r\n                                style=\"flex-basis: 0; flex-grow: 1; gap: .3rem;\"\r\n                            ><span class=\"badge bg-primary\"></span> : <span> {{ data.item.nameUz }}</span></p>\r\n                            <p\r\n                                class=\"mb-0 d-flex align-items-center\"\r\n                                style=\"flex-basis: 0; flex-grow: 1; gap: .3rem;\"\r\n                            ><span class=\"badge bg-primary\">O'Z</span> &nbsp;:&nbsp; <span> {{ data.item.nameLt }}</span></p>\r\n                            <p\r\n                                class=\"mb-0 d-flex align-items-center\"\r\n                                style=\"flex-basis: 0; flex-grow: 1; gap: .3rem;\"\r\n                            ><span class=\"badge bg-primary\"></span> &nbsp;:&nbsp; <span> {{ data.item.nameRu }}</span></p>\r\n                        </div>\r\n                    </template>\r\n\r\n                    <!-- ADVERTISEMENT LOCATION TYPE NAME -->\r\n                    <template #cell(advertisementLocationTypeName)=\"data\">\r\n                        <p>\r\n                            {{\r\n                        getName({\r\n                          nameRu: data.item.directoryAdvertisementLocationTypeNameRu,\r\n                          nameLt: data.item.directoryAdvertisementLocationTypeNameLt,\r\n                          nameUz: data.item.directoryAdvertisementLocationTypeNameUz,\r\n                        })\r\n                      }}\r\n                        </p>\r\n                    </template>\r\n\r\n                    <!-- ADVERTISEMENT DESIGN TYPE NAME -->\r\n                    <template #cell(advertisementDesignTypeName)=\"data\">\r\n                        <p>\r\n                            {{\r\n                        getName({\r\n                          nameRu: data.item.directoryAdvertisementDesignTypeNameRu,\r\n                          nameLt: data.item.directoryAdvertisementDesignTypeNameLt,\r\n                          nameUz: data.item.directoryAdvertisementDesignTypeNameUz,\r\n                        })\r\n                      }}\r\n                        </p>\r\n                    </template>\r\n\r\n                    <!-- ADVERTISEMENT VOLUME TYPE NAME -->\r\n                    <template #cell(advertisementVolumeTypeName)=\"data\">\r\n                        <p>\r\n                            {{\r\n                        getName({\r\n                          nameRu: data.item.directoryAdvertisementVolumeTypeNameRu,\r\n                          nameLt: data.item.directoryAdvertisementVolumeTypeNameLt,\r\n                          nameUz: data.item.directoryAdvertisementVolumeTypeNameUz,\r\n                        })\r\n                      }}\r\n                        </p>\r\n                    </template>\r\n\r\n                    <!-- UNIT SHORT NAME -->\r\n                    <template #cell(unitShortName)=\"data\">\r\n                        <p>\r\n                            {{\r\n                        getName({\r\n                          nameRu: data.item.unitShortNameRu,\r\n                          nameLt: data.item.unitShortNameLt,\r\n                          nameUz: data.item.unitShortNameUz,\r\n                        })\r\n                      }}\r\n                        </p>\r\n                    </template>\r\n\r\n                    <!-- REGION -->\r\n                    <template #cell(regionName)=\"data\">\r\n                        <p>\r\n                            {{\r\n                        getName({\r\n                          nameRu: data.item.regionNameRu,\r\n                          nameLt: data.item.regionNameLt,\r\n                          nameUz: data.item.regionNameUz,\r\n                        })\r\n                      }}\r\n                        </p>\r\n                    </template>\r\n\r\n                    <!-- DISTRICT -->\r\n                    <template #cell(districtName)=\"data\">\r\n                        <p>\r\n                            {{\r\n                        getName({\r\n                          nameRu: data.item.districtNameRu,\r\n                          nameLt: data.item.districtNameLt,\r\n                          nameUz: data.item.districtNameUz,\r\n                        })\r\n                      }}\r\n                        </p>\r\n                    </template>\r\n\r\n                    <!-- STATUS -->\r\n                    <template #cell(status)=\"data\">\r\n                        <p>\r\n                            {{\r\n                        getName({\r\n                          nameRu: data.item.statusNameRu,\r\n                          nameLt: data.item.statusNameLt,\r\n                          nameUz: data.item.statusNameUz,\r\n                        })\r\n                      }}\r\n                        </p>\r\n                    </template>\r\n\r\n                    <!-- ACTIONS -->\r\n                    <template #cell(actions)=\"data\">\r\n                        <div class=\"general-table__actions d-flex justify-content-center\">\r\n                            <b-btn\r\n                                variant=\"link\"\r\n                                class=\"text-decoration-none p-0\"\r\n                                style=\"font-size: 1.2rem; margin-right: 1rem;\"\r\n                                @click=\"editItem(data.item, data.index)\"\r\n                            >\r\n                                <i class=\"mdi mdi-circle-edit-outline edit\"></i>\r\n                            </b-btn>\r\n                            <b-btn\r\n                                variant=\"link\"\r\n                                class=\"text-decoration-none p-0 text-danger\"\r\n                                style=\"font-size: 1.2rem;\"\r\n                                @click=\"deleteItem(data.item, data.index)\"\r\n                            >\r\n                                <i class=\"mdi mdi-trash-can delete\"></i>\r\n                            </b-btn>\r\n                        </div>\r\n                    </template>\r\n\r\n                    <!-- EMPTY SLOT -->\r\n                    <template #empty=\"\">\r\n                        <h4 class=\"text-center\">{{ $t('messages.data_not_found') }}</h4>\r\n                    </template>\r\n                </b-table>\r\n\r\n                <!-- MULTIPLE - MINIMUM_COLLECTIONS CREATE MODAL -->\r\n                <b-modal\r\n                    v-model=\"createMultipleMinimumCollectionsModal\"\r\n                    id=\"create-multiple-min-collections-modal-id\"\r\n                    size=\"xl\"\r\n                    :title=\"$t('column.minimum_collections')\"\r\n                    title-class=\"font-18\"\r\n                    :ok-title=\"$t('actions.save')\"\r\n                    ok-variant=\"success\"\r\n                    @ok=\"saveMultipleMinimumCollections\"\r\n                    :cancel-title=\"$t('actions.cancel')\"\r\n                    cancel-variant=\"danger\"\r\n                    no-close-on-backdrop\r\n                    no-close-on-esc\r\n                >\r\n                    <ValidationObserver\r\n                        ref=\"multiple-minimum-collections-observer\"\r\n                        v-slot=\"{}\"\r\n                    >\r\n                        <b-row class=\"mb-3\">\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n                                <BaseMultiselectWithValidation\r\n                                    rules=\"required\"\r\n                                    class=\"required\"\r\n                                    v-model=\"editingItemForMultiple.region\"\r\n                                    @select=\"regionSelected($event, editingItemForMultiple.directoryAdvertisementLocationType ? editingItemForMultiple.directoryAdvertisementLocationType.id : null)\"\r\n                                    :options=\"regions\"\r\n                                    :label=\"$t('column.region')\"\r\n                                    :custom-label=\"customLabelRegion\"\r\n                                    :placeholder=\"$t('column.region')\"\r\n                                    open-direction=\"bottom\"\r\n                                    :max-height=\"600\"\r\n                                    :show-labels=\"false\"\r\n                                />\r\n                            </b-col>\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n                                <div class=\"form-check form-check-right\">\r\n                                    <input\r\n                                        v-model=\"editingItemForMultiple.isExtended\"\r\n                                        class=\"form-check-input\"\r\n                                        type=\"checkbox\"\r\n                                        id=\"formCheckIsLegal\"\r\n                                    />\r\n                                    <label\r\n                                        class=\"form-check-label font-weight-normal\"\r\n                                        for=\"formCheckIsLegal\"\r\n                                    >\r\n                                        {{ $t('actions.select_district') }}\r\n                                    </label>\r\n                                </div>\r\n\r\n                            </b-col>\r\n                        </b-row>\r\n                        <!-- DISTRICTS ROW -->\r\n                        <b-row\r\n                            v-if=\"editingItemForMultiple.isExtended\"\r\n                            class=\"mb-3\"\r\n                        >\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n                                <BaseMultiselectWithValidation\r\n                                    rules=\"required\"\r\n                                    class=\"required\"\r\n                                    multiple\r\n                                    :close-on-select=\"false\"\r\n                                    :hide-selected=\"true\"\r\n                                    track-by=\"id\"\r\n                                    v-model=\"editingItemForMultiple.districts\"\r\n                                    :options=\"districts\"\r\n                                    :label=\"$t('column.district')\"\r\n                                    :custom-label=\"customLabelDistrict\"\r\n                                    :placeholder=\"$t('column.district')\"\r\n                                    open-direction=\"bottom\"\r\n                                    :max-height=\"600\"\r\n                                    :show-labels=\"false\"\r\n                                />\r\n                            </b-col>\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n\r\n                            </b-col>\r\n                        </b-row>\r\n\r\n                        <b-row class=\"mb-3\">\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n                                <BaseMultiselectWithValidation\r\n                                    rules=\"required\"\r\n                                    class=\"required\"\r\n                                    v-model=\"editingItemForMultiple.directoryAdvertisementLocationType\"\r\n                                    @select=\"adLocationTypeSelected\"\r\n                                    :options=\"adLocationTypes\"\r\n                                    :label=\"$t('column.ad_location_type')\"\r\n                                    :custom-label=\"customLabelAdLocationType\"\r\n                                    :placeholder=\"$t('column.ad_location_type')\"\r\n                                    open-direction=\"bottom\"\r\n                                    :max-height=\"600\"\r\n                                    :show-labels=\"false\"\r\n                                />\r\n                            </b-col>\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n                                <BaseMultiselectWithValidation\r\n                                    rules=\"required\"\r\n                                    class=\"required\"\r\n                                    v-model=\"editingItemForMultiple.unit\"\r\n                                    :options=\"units\"\r\n                                    :label=\"$t('column.unit')\"\r\n                                    :custom-label=\"customLabelUnit\"\r\n                                    :placeholder=\"$t('column.unit')\"\r\n                                    open-direction=\"bottom\"\r\n                                    :max-height=\"600\"\r\n                                    :show-labels=\"false\"\r\n                                />\r\n\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mb-3\">\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n                                <BaseMultiselectWithValidation\r\n                                    rules=\"required\"\r\n                                    class=\"required\"\r\n                                    multiple\r\n                                    :close-on-select=\"false\"\r\n                                    :hide-selected=\"true\"\r\n                                    v-model=\"editingItemForMultiple.directoryAdvertisementDesignTypes\"\r\n                                    track-by=\"id\"\r\n                                    :options=\"adDesignTypes\"\r\n                                    :label=\"$t('column.ad_design_type')\"\r\n                                    :custom-label=\"customLabelAdDesignType\"\r\n                                    :placeholder=\"$t('column.ad_design_type')\"\r\n                                    open-direction=\"bottom\"\r\n                                    :max-height=\"600\"\r\n                                    :show-labels=\"false\"\r\n                                />\r\n                            </b-col>\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n                                <BaseSelectWithValidation\r\n                                    v-model=\"editingItemForMultiple.statusId\"\r\n                                    class=\"required\"\r\n                                    rules=\"required\"\r\n                                    :label=\"$t('column.status')\"\r\n                                    value-field=\"id\"\r\n                                >\r\n                                    <template #first>\r\n                                        <b-form-select-option\r\n                                            :value=\"null\"\r\n                                            disabled\r\n                                        >{{ $t('column.status') }}</b-form-select-option>\r\n                                        <b-form-select-option\r\n                                            v-for=\"(status, index) in statuses\"\r\n                                            :key=\"`${status}-${index}`\"\r\n                                            :value=\"status.id\"\r\n                                        >{{\r\n                                          getName({\r\n                                            nameRu: status.nameRu,\r\n                                            nameLt: status.nameLt,\r\n                                            nameUz: status.nameUz,\r\n                                          })\r\n                                        }}\r\n                                        </b-form-select-option>\r\n                                    </template>\r\n                                </BaseSelectWithValidation>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mb-3\">\r\n                            <b-col cols=\"12\">\r\n                                <BaseMultiselectWithValidation\r\n                                    not-required\r\n                                    multiple\r\n                                    :close-on-select=\"false\"\r\n                                    :hide-selected=\"true\"\r\n                                    v-model=\"editingItemForMultiple.directoryAdvertisementVolumeTypes\"\r\n                                    track-by=\"id\"\r\n                                    @input=\"adVolumeTypesSelected\"\r\n                                    :options=\"adVolumeTypes\"\r\n                                    :label=\"$t('submodules.ad_volume_types.title')\"\r\n                                    :custom-label=\"customLabelAdVolumeType\"\r\n                                    :placeholder=\"$t('submodules.ad_volume_types.title')\"\r\n                                    open-direction=\"bottom\"\r\n                                    :max-height=\"600\"\r\n                                    :show-labels=\"false\"\r\n                                />\r\n                            </b-col>\r\n                        </b-row>\r\n                        <!-- MINIMAL COLLECTION COSTS  -->\r\n                        <!-- EXTENDED WITH AD_VOLUME_TYPES -->\r\n                        <b-row v-if=\"showVolumeTypesRow\">\r\n                            <hr v-if=\"showVolumeTypesRow\">\r\n                            <b-col\r\n                                v-for=\"(adVolumeType, index) in editingItemForMultiple.directoryAdvertisementVolumeTypes\"\r\n                                :key=\"`ad-volume-type-${index}`\"\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                                class=\"mb-3\"\r\n                            >\r\n                                <BaseInputWithValidation\r\n                                    rules=\"required|positiveNotZero\"\r\n                                    class=\"required\"\r\n                                    v-model=\"adVolumeType.cost\"\r\n                                    :label=\"`(M) ${adVolumeType.nameUz}`\"\r\n                                />\r\n                            </b-col>\r\n                        </b-row>\r\n                        <!-- NOT_EXTENDED -->\r\n                        <b-row v-else>\r\n                            <hr v-if=\"editingItemForMultiple.directoryAdvertisementDesignTypes ? editingItemForMultiple.directoryAdvertisementDesignTypes.length : false\">\r\n                            <b-col\r\n                                v-for=\"(adDesignType, index) in editingItemForMultiple.directoryAdvertisementDesignTypes\"\r\n                                :key=\"`ad-design-type-${index}`\"\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                                class=\"mb-3\"\r\n                            >\r\n                                <BaseInputWithValidation\r\n                                    rules=\"required|positiveNotZero\"\r\n                                    class=\"required\"\r\n                                    v-model=\"adDesignType.cost\"\r\n                                    :label=\"`(M) ${adDesignType.nameUz}`\"\r\n                                    :placeholder=\"adDesignType.nameUz\"\r\n                                />\r\n                            </b-col>\r\n                        </b-row>\r\n                    </ValidationObserver>\r\n                </b-modal>\r\n\r\n                <!-- SINGLE - MINIMUM_COLLECTION UPDATE (ON CREATE MODE) MODAL -->\r\n                <b-modal\r\n                    v-model=\"singleMinimumCollectionUpdateModal\"\r\n                    id=\"update-single-modal-id\"\r\n                    size=\"xl\"\r\n                    title=\"Minimal o'zgartirish\"\r\n                    title-class=\"font-18\"\r\n                    :ok-title=\"$t('actions.save')\"\r\n                    ok-variant=\"success\"\r\n                    @ok=\"updateSingleMinimumCollection\"\r\n                    :cancel-title=\"$t('actions.cancel')\"\r\n                    cancel-variant=\"danger\"\r\n                    no-close-on-backdrop\r\n                    no-close-on-esc\r\n                >\r\n                    <ValidationObserver\r\n                        ref=\"single-minimum-collection-update-observer\"\r\n                        v-slot=\"{}\"\r\n                    >\r\n                        <b-row class=\"mb-3\">\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n                                <BaseMultiselectWithValidation\r\n                                    rules=\"required\"\r\n                                    class=\"required\"\r\n                                    v-model=\"currentEditingItem.regionId\"\r\n                                    @select=\"regionSelected($event, currentEditingItem.directoryAdvertisementLocationTypeId)\"\r\n                                    :options=\"regions.map(el => el.id)\"\r\n                                    :label=\"$t('column.region')\"\r\n                                    :custom-label=\"customLabelRegion\"\r\n                                    :placeholder=\"$t('column.region')\"\r\n                                    open-direction=\"bottom\"\r\n                                    :max-height=\"600\"\r\n                                    :show-labels=\"false\"\r\n                                />\r\n                            </b-col>\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n                                <BaseMultiselectWithValidation\r\n                                    rules=\"required\"\r\n                                    class=\"required\"\r\n                                    v-model=\"currentEditingItem.unitId\"\r\n                                    :options=\"units.map(el => el.id)\"\r\n                                    :label=\"$t('column.unit')\"\r\n                                    :custom-label=\"customLabelUnit\"\r\n                                    :placeholder=\"$t('column.unit')\"\r\n                                    open-direction=\"bottom\"\r\n                                    :max-height=\"600\"\r\n                                    :show-labels=\"false\"\r\n                                />\r\n                            </b-col>\r\n                        </b-row>\r\n\r\n                        <!-- MINIMUM_COLLECTION_TYPES ROW -->\r\n                        <b-row\r\n                            v-if=\"currentEditingItem.isExtended\"\r\n                            class=\"mb-3\"\r\n                        >\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n                                <!-- <BaseMultiselectWithValidation\r\n                                    rules=\"required\"\r\n                                    class=\"required\"\r\n                                    v-model=\"currentEditingItem.directoryMinimumCollectionTypeId\"\r\n                                    :options=\"minimumCollectionTypes.map(el => el.id)\"\r\n                                    :label=\"$t('submodules.minimum_collection_types.title')\"\r\n                                    :custom-label=\"customLabelMinimumCollectionType\"\r\n                                    :placeholder=\"$t('submodules.minimum_collection_types.title')\"\r\n                                    open-direction=\"bottom\"\r\n                                    :max-height=\"600\"\r\n                                    :show-labels=\"false\"\r\n                                /> -->\r\n                                <BaseMultiselectWithValidation\r\n                                    rules=\"required\"\r\n                                    class=\"required\"\r\n                                    v-model=\"currentEditingItem.districtId\"\r\n                                    :options=\"districts.map(e => e.id)\"\r\n                                    :label=\"$t('column.district')\"\r\n                                    :custom-label=\"customLabelDistrict\"\r\n                                    :placeholder=\"$t('column.district')\"\r\n                                    open-direction=\"bottom\"\r\n                                    :max-height=\"600\"\r\n                                    :show-labels=\"false\"\r\n                                />\r\n                            </b-col>\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n\r\n                            </b-col>\r\n                        </b-row>\r\n\r\n                        <b-row class=\"mb-3\">\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n                                <BaseMultiselectWithValidation\r\n                                    rules=\"required\"\r\n                                    class=\"required\"\r\n                                    v-model=\"currentEditingItem.directoryAdvertisementLocationTypeId\"\r\n                                    @select=\"adLocationTypeSelected\"\r\n                                    :options=\"adLocationTypes.map(el => el.id)\"\r\n                                    :label=\"$t('column.ad_location_type')\"\r\n                                    :custom-label=\"customLabelAdLocationType\"\r\n                                    :placeholder=\"$t('column.ad_location_type')\"\r\n                                    open-direction=\"bottom\"\r\n                                    :max-height=\"600\"\r\n                                    :show-labels=\"false\"\r\n                                />\r\n                            </b-col>\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n                                <BaseSelectWithValidation\r\n                                    v-model=\"currentEditingItem.statusId\"\r\n                                    class=\"required\"\r\n                                    rules=\"required\"\r\n                                    :label=\"$t('column.status')\"\r\n                                    value-field=\"id\"\r\n                                >\r\n                                    <template #first>\r\n                                        <b-form-select-option\r\n                                            :value=\"null\"\r\n                                            disabled\r\n                                        >{{ $t('column.status') }}</b-form-select-option>\r\n                                        <b-form-select-option\r\n                                            v-for=\"(status, index) in statuses\"\r\n                                            :key=\"`${status}-${index}`\"\r\n                                            :value=\"status.id\"\r\n                                        >{{\r\n                                          getName({\r\n                                            nameRu: status.nameRu,\r\n                                            nameLt: status.nameLt,\r\n                                            nameUz: status.nameUz,\r\n                                          })\r\n                                        }}\r\n                                        </b-form-select-option>\r\n                                    </template>\r\n                                </BaseSelectWithValidation>\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mb-3\">\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n                                <BaseMultiselectWithValidation\r\n                                    rules=\"required\"\r\n                                    class=\"required\"\r\n                                    v-model=\"currentEditingItem.directoryAdvertisementDesignTypeId\"\r\n                                    :options=\"adDesignTypes.map(el => el.id)\"\r\n                                    :label=\"$t('column.ad_design_type')\"\r\n                                    :custom-label=\"customLabelAdDesignType\"\r\n                                    :placeholder=\"$t('column.ad_design_type')\"\r\n                                    open-direction=\"bottom\"\r\n                                    :max-height=\"600\"\r\n                                    :show-labels=\"false\"\r\n                                />\r\n                            </b-col>\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n                                <BaseInputWithValidation\r\n                                    rules=\"required|positiveNotZero\"\r\n                                    class=\"required\"\r\n                                    v-model=\"currentEditingItem.cost\"\r\n                                    :label=\"$t('column.minimum_collection')\"\r\n                                    :placeholder=\"$t('column.minimum_collection')\"\r\n                                />\r\n                            </b-col>\r\n                        </b-row>\r\n                        <b-row class=\"mb-3\">\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n                                <BaseMultiselectWithValidation\r\n                                    not-required\r\n                                    v-model=\"currentEditingItem.directoryAdvertisementVolumeTypeId\"\r\n                                    :options=\"adVolumeTypes.map(el => el.id)\"\r\n                                    :label=\"$t('submodules.ad_volume_types.title')\"\r\n                                    :custom-label=\"customLabelAdVolumeType\"\r\n                                    :placeholder=\"$t('submodules.ad_volume_types.title')\"\r\n                                    open-direction=\"bottom\"\r\n                                    :max-height=\"600\"\r\n                                    :show-labels=\"false\"\r\n                                />\r\n                            </b-col>\r\n                            <b-col\r\n                                sm=\"12\"\r\n                                md=\"6\"\r\n                            >\r\n                            </b-col>\r\n                        </b-row>\r\n                    </ValidationObserver>\r\n                </b-modal>\r\n            </template>\r\n\r\n        </ValidationObserver>\r\n    </base-create-or-update-wrapper>\r\n</template>\r\n<script>\r\nconst MAIN_API_URL = 'directory/minimum-collections'\r\nconst MAIN_API_URL_EXTENDED = 'directory/extended-minimum-collections'\r\n/*\r\n* YOU MUST SEND {{ MAIN_API_URL }} TO CRUD_SERVICE */\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\"\r\nimport helperService from \"@/shared/services/helper.service\"\r\n\r\nexport default {\r\n    name: \"CreateOrUpdate\",\r\n    /*\r\n    * COMPONENTS */\r\n    components: {\r\n\r\n    },\r\n    /*\r\n    * DATA */\r\n    data () {\r\n        return {\r\n            editingItem: {},\r\n            showVolumeTypesRow: false,\r\n            editingItemForMultiple: {},\r\n            currentEditingItem: {},\r\n            minimumCollections: [],\r\n            createMultipleMinimumCollectionsModal: false,\r\n            singleMinimumCollectionUpdateModal: false,\r\n            statuses: [],\r\n            regions: [],\r\n            units: [],\r\n            adLocationTypes: [],\r\n            adDesignTypes: [],\r\n            adVolumeTypes: [],\r\n            districts: [],\r\n            adDesignTypesByMinCollTypeForExtended: [],\r\n            tableFields: [\r\n                {\r\n                    label: \"#\",\r\n                    thClass: \"text-center\",\r\n                    tdClass: \"text-center\",\r\n                    sortable: false,\r\n                    key: \"index\",\r\n                },\r\n                { label: this.$t('column.ad_location_type'), key: \"advertisementLocationTypeName\" },\r\n                { label: this.$t('column.ad_design_type'), key: \"advertisementDesignTypeName\" },\r\n                { label: this.$t('submodules.ad_volume_types.title'), key: \"advertisementVolumeTypeName\" },\r\n                { label: this.$t('column.region'), key: \"regionName\" },\r\n                { label: this.$t('column.district'), key: \"districtName\" },\r\n                { label: this.$t('column.unit'), key: \"unitShortName\" },\r\n                { label: this.$t('column.minimum_collection'), key: \"cost\" },\r\n                { label: this.$t('column.status'), key: \"status\" },\r\n                {\r\n                    label: this.$t('column.actions'),\r\n                    key: \"actions\",\r\n                    thClass: \"text-center\",\r\n                    tdClass: \"text-center\",\r\n                    sortable: false\r\n                },\r\n            ],\r\n        }\r\n    },\r\n    /*\r\n    * COMPUTED */\r\n    computed: {\r\n        isModeCreate () {\r\n            return this.$route.name === 'CreateMinimumCollection'\r\n        },\r\n        isOnExtendedPage () {\r\n            return this.$route.name === 'UpdateMinimumCollectionExtended'\r\n        },\r\n        computedObserver () {\r\n            return this.$refs.observer\r\n        },\r\n        multipleMinimumCollectionsComputedObserver () {\r\n            return this.$refs['multiple-minimum-collections-observer']\r\n        },\r\n        singleMinimumCollectionUpdateComputedObserver () {\r\n            return this.$refs['single-minimum-collection-update-observer']\r\n        }\r\n    },\r\n    /*\r\n    * METHODS */\r\n    methods: {\r\n        adVolumeTypesSelected () {\r\n            this.showVolumeTypesRow = false\r\n            if (this.editingItemForMultiple.directoryAdvertisementVolumeTypes.length > 0) {\r\n                this.showVolumeTypesRow = true\r\n            }\r\n        },\r\n        async regionSelected ($event, adLocationTypeId, dontResetDistrict = false) {\r\n            if (!dontResetDistrict) {\r\n                this.editingItem.districtId = null\r\n                this.editingItemForMultiple.districts = []\r\n                this.currentEditingItem.districtId = null\r\n                // RESET AD_DESIGN_TYPE\r\n                this.editingItem.directoryAdvertisementDesignTypeId = null\r\n                this.editingItemForMultiple.directoryAdvertisementDesignTypes = []\r\n                this.currentEditingItem.directoryAdvertisementDesignTypeId = null\r\n            }\r\n            // GET DISTRICTS\r\n            if ($event) {\r\n                if (adLocationTypeId) {\r\n                    // GET AD_DESIGN_TYPES\r\n                    helperService\r\n                        .getAdDesignTypesByAdLocationTypeId(adLocationTypeId, $event.id ? $event.id : $event)\r\n                        .then((res) => {\r\n                            this.adDesignTypes = res.data\r\n                        })\r\n                        .catch(e => {\r\n                            console.log(e)\r\n                        })\r\n                }\r\n                if (this.isModeCreate || this.editingItem.isExtended) {\r\n                    await helperService.getGeoLocationsByParentId($event.id ? $event.id : $event)\r\n                        .then(res => {\r\n                            this.districts = res.data\r\n                        })\r\n                        .catch(e => {\r\n                            console.log(e)\r\n                        })\r\n                }\r\n            }\r\n        },\r\n        /* makeDirectoryAdDesignTypesForExtended () {\r\n            if (this.editingItemForMultiple.isExtended) {\r\n                this.adDesignTypesByMinCollTypeForExtended = []\r\n                if (!this.editingItemForMultiple.directoryMinimumCollectionTypes) {\r\n                    this.editingItemForMultiple.directoryMinimumCollectionTypes = []\r\n                }\r\n                this.editingItemForMultiple.directoryMinimumCollectionTypes.forEach(minCollectionType => {\r\n                    let tempMinCollTypeWithDesignType = {\r\n                        minCollectionTypeId: null,\r\n                        minCollectionTypeNameUz: '',\r\n                        adDesignTypesByMinCollectionType: []\r\n                    }\r\n                    this.$set(tempMinCollTypeWithDesignType, 'minCollectionTypeId', minCollectionType.id)\r\n                    this.$set(tempMinCollTypeWithDesignType, 'minCollectionTypeNameUz', minCollectionType.nameUz)\r\n\r\n                    if (!this.editingItemForMultiple.directoryAdvertisementDesignTypes) {\r\n                        this.editingItemForMultiple.directoryAdvertisementDesignTypes = []\r\n                    }\r\n                    this.editingItemForMultiple.directoryAdvertisementDesignTypes.forEach(adDesignType => {\r\n                        let tempAdDesignType = Object.assign({}, adDesignType)\r\n                        tempMinCollTypeWithDesignType.adDesignTypesByMinCollectionType.push(tempAdDesignType)\r\n                    })\r\n                    this.adDesignTypesByMinCollTypeForExtended.push(tempMinCollTypeWithDesignType)\r\n                })\r\n            }\r\n        }, */\r\n        updateSingleMinimumCollection (e) {\r\n            e.preventDefault();\r\n            // TODO: DUBLICATE LIKKA TEKSHIR (XUDDI SHUNDAYI TABLE GA QO'SHILMAGAN BO'LSIN)\r\n            this.singleMinimumCollectionUpdateComputedObserver.validate().then(valid => {\r\n                if (valid) {\r\n                    if (this.currentEditingItem.isExtended) {\r\n                        this.currentEditingItem.districtNameUz = this.districts.find(el => el.id == this.currentEditingItem.districtId).nameUz\r\n                        this.currentEditingItem.districtNameRu = this.districts.find(el => el.id == this.currentEditingItem.districtId).nameRu\r\n                        this.currentEditingItem.districtNameLt = this.districts.find(el => el.id == this.currentEditingItem.districtId).nameLt\r\n                        this.currentEditingItem.directoryAdvertisementDesignTypeNameUz = this.adDesignTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementDesignTypeId).nameUz\r\n                        this.currentEditingItem.directoryAdvertisementDesignTypeNameRu = this.adDesignTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementDesignTypeId).nameRu\r\n                        this.currentEditingItem.directoryAdvertisementDesignTypeNameLt = this.adDesignTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementDesignTypeId).nameLt\r\n\r\n                        this.currentEditingItem.directoryAdvertisementVolumeTypeNameUz = this.currentEditingItem.directoryAdvertisementVolumeTypeId ? this.adVolumeTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementVolumeTypeId).nameUz : null\r\n                        this.currentEditingItem.directoryAdvertisementVolumeTypeNameRu = this.currentEditingItem.directoryAdvertisementVolumeTypeId ? this.adVolumeTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementVolumeTypeId).nameRu : null\r\n                        this.currentEditingItem.directoryAdvertisementVolumeTypeNameLt = this.currentEditingItem.directoryAdvertisementVolumeTypeId ? this.adVolumeTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementVolumeTypeId).nameLt : null\r\n\r\n                        this.currentEditingItem.directoryAdvertisementLocationTypeNameUz = this.adLocationTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementLocationTypeId).nameUz\r\n                        this.currentEditingItem.directoryAdvertisementLocationTypeNameRu = this.adLocationTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementLocationTypeId).nameRu\r\n                        this.currentEditingItem.directoryAdvertisementLocationTypeNameLt = this.adLocationTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementLocationTypeId).nameLt\r\n\r\n                        this.currentEditingItem.regionNameUz = this.regions.find(el => el.id == this.currentEditingItem.regionId).nameUz\r\n                        this.currentEditingItem.regionNameRu = this.regions.find(el => el.id == this.currentEditingItem.regionId).nameRu\r\n                        this.currentEditingItem.regionNameLt = this.regions.find(el => el.id == this.currentEditingItem.regionId).nameLt\r\n                        this.currentEditingItem.statusNameUz = this.statuses.find(s => s.id == this.currentEditingItem.statusId).nameUz\r\n                        this.currentEditingItem.statusNameRu = this.statuses.find(s => s.id == this.currentEditingItem.statusId).nameRu\r\n                        this.currentEditingItem.statusNameLt = this.statuses.find(s => s.id == this.currentEditingItem.statusId).nameLt\r\n                        this.currentEditingItem.unitShortNameUz = this.units.find(el => el.id == this.currentEditingItem.unitId).shortNameUz\r\n                        this.currentEditingItem.unitShortNameRu = this.units.find(el => el.id == this.currentEditingItem.unitId).shortNameRu\r\n                        this.currentEditingItem.unitShortNameLt = this.units.find(el => el.id == this.currentEditingItem.unitId).shortNameLt\r\n\r\n                        this.$set(this.minimumCollections, this.currentEditingItem.index, this.currentEditingItem)\r\n                        this.singleMinimumCollectionUpdateModal = false\r\n                        this.currentEditingItem = Object.assign({}, {})\r\n                    } else {\r\n                        this.currentEditingItem.directoryAdvertisementDesignTypeNameUz = this.adDesignTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementDesignTypeId).nameUz\r\n                        this.currentEditingItem.directoryAdvertisementDesignTypeNameRu = this.adDesignTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementDesignTypeId).nameRu\r\n                        this.currentEditingItem.directoryAdvertisementDesignTypeNameLt = this.adDesignTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementDesignTypeId).nameLt\r\n\r\n                        this.currentEditingItem.directoryAdvertisementVolumeTypeNameUz = this.currentEditingItem.directoryAdvertisementVolumeTypeId ? this.adVolumeTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementVolumeTypeId).nameUz : null\r\n                        this.currentEditingItem.directoryAdvertisementVolumeTypeNameRu = this.currentEditingItem.directoryAdvertisementVolumeTypeId ? this.adVolumeTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementVolumeTypeId).nameRu : null\r\n                        this.currentEditingItem.directoryAdvertisementVolumeTypeNameLt = this.currentEditingItem.directoryAdvertisementVolumeTypeId ? this.adVolumeTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementVolumeTypeId).nameLt : null\r\n\r\n                        this.currentEditingItem.directoryAdvertisementLocationTypeNameUz = this.adLocationTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementLocationTypeId).nameUz\r\n                        this.currentEditingItem.directoryAdvertisementLocationTypeNameRu = this.adLocationTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementLocationTypeId).nameRu\r\n                        this.currentEditingItem.directoryAdvertisementLocationTypeNameLt = this.adLocationTypes.find(el => el.id == this.currentEditingItem.directoryAdvertisementLocationTypeId).nameLt\r\n                        this.currentEditingItem.regionNameUz = this.regions.find(el => el.id == this.currentEditingItem.regionId).nameUz\r\n                        this.currentEditingItem.regionNameRu = this.regions.find(el => el.id == this.currentEditingItem.regionId).nameRu\r\n                        this.currentEditingItem.regionNameLt = this.regions.find(el => el.id == this.currentEditingItem.regionId).nameLt\r\n                        this.currentEditingItem.statusNameUz = this.statuses.find(s => s.id == this.currentEditingItem.statusId).nameUz\r\n                        this.currentEditingItem.statusNameRu = this.statuses.find(s => s.id == this.currentEditingItem.statusId).nameRu\r\n                        this.currentEditingItem.statusNameLt = this.statuses.find(s => s.id == this.currentEditingItem.statusId).nameLt\r\n                        this.currentEditingItem.unitShortNameUz = this.units.find(el => el.id == this.currentEditingItem.unitId).shortNameUz\r\n                        this.currentEditingItem.unitShortNameRu = this.units.find(el => el.id == this.currentEditingItem.unitId).shortNameRu\r\n                        this.currentEditingItem.unitShortNameLt = this.units.find(el => el.id == this.currentEditingItem.unitId).shortNameLt\r\n\r\n                        this.$set(this.minimumCollections, this.currentEditingItem.index, this.currentEditingItem)\r\n                        this.singleMinimumCollectionUpdateModal = false\r\n                        this.currentEditingItem = Object.assign({}, {})\r\n                    }\r\n                } else {\r\n                    this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n                }\r\n            });\r\n        },\r\n        async adLocationTypeSelected (adLocationTypeObjectOrId, dontResetAdDesignType = false) {\r\n            if (!dontResetAdDesignType) {\r\n                // RESET AD_DESIGN_TYPE\r\n                this.editingItem.directoryAdvertisementDesignTypeId = null\r\n                this.editingItemForMultiple.directoryAdvertisementDesignTypes = []\r\n                this.currentEditingItem.directoryAdvertisementDesignTypeId = null\r\n                // RESET AD_VOLUME_TYPE\r\n                this.editingItem.directoryAdvertisementVolumeTypeId = null\r\n                this.editingItemForMultiple.directoryAdvertisementVolumeTypes = []\r\n                this.currentEditingItem.directoryAdvertisementVolumeTypeId = null\r\n            }\r\n            if (adLocationTypeObjectOrId) {\r\n                if (this.isModeCreate ? (this.editingItemForMultiple.region && this.editingItemForMultiple.region.id) : this.editingItem.regionId) {\r\n                    // GET AD_DESIGN_TYPES\r\n                    helperService\r\n                        .getAdDesignTypesByAdLocationTypeId(adLocationTypeObjectOrId.id ? adLocationTypeObjectOrId.id : adLocationTypeObjectOrId, this.isModeCreate ? this.editingItemForMultiple.region.id : this.editingItem.regionId)\r\n                        .then((res) => {\r\n                            this.adDesignTypes = res.data\r\n                        })\r\n                        .catch(e => {\r\n                            console.log(e)\r\n                        })\r\n                }\r\n                // GET AD_VOLUME_TYPES\r\n                helperService\r\n                    .getAdVolumeTypesByAdLocationTypeId(adLocationTypeObjectOrId.id ? adLocationTypeObjectOrId.id : adLocationTypeObjectOrId)\r\n                    .then((res) => {\r\n                        this.adVolumeTypes = res.data\r\n                    })\r\n                    .catch(e => {\r\n                        console.log(e)\r\n                    })\r\n            }\r\n        },\r\n        editItem (item, index) {\r\n            this.currentEditingItem = Object.assign({}, item)\r\n            this.$set(this.currentEditingItem, 'index', index)\r\n            this.singleMinimumCollectionUpdateModal = true\r\n        },\r\n        deleteItem (item, index) {\r\n            this.$bvModal.msgBoxConfirm(this.$t('messages.delete_title'), {\r\n                okTitle: this.$t('actions.confirm'),\r\n                cancelTitle: this.$t('actions.cancel')\r\n            })\r\n                .then(value => {\r\n                    if (value) {\r\n                        this.minimumCollections.splice(index, 1)\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    // An error occurred\r\n                })\r\n        },\r\n        createOrUpdateItem (mode) {\r\n            if (mode == 'create') {\r\n                this.computedObserver.validate().then(valid => {\r\n                    if (valid) {\r\n                        this.editingItemForMultiple = Object.assign({}, {})\r\n                        let activeStatus = this.statuses.find(el => el.code == 'ACTIVE')\r\n                        if (activeStatus) {\r\n                            this.editingItemForMultiple.statusId = activeStatus.id\r\n                        }\r\n                        this.createMultipleMinimumCollectionsModal = true\r\n                    } else {\r\n                        this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        resetEditingItem () {\r\n            let decisionNumber = this.editingItem.decisionNumber\r\n            let decisionDate = this.editingItem.decisionDate\r\n            let description = this.editingItem.description\r\n            this.editingItem = Object.assign({}, {})\r\n            this.$set(this.editingItem, 'decisionNumber', decisionNumber)\r\n            this.$set(this.editingItem, 'decisionDate', decisionDate)\r\n            this.$set(this.editingItem, 'description', description)\r\n        },\r\n        createMinCollectionsFromAdDesignTypesForMultipleSaveFn (eachDistrict = false, eachVolumeType = false) {\r\n            this.editingItemForMultiple.directoryAdvertisementDesignTypes.forEach(adDesignType => {\r\n                this.resetEditingItem()\r\n                if (eachDistrict) {\r\n                    this.editingItem.districtId = eachDistrict.id\r\n                    this.editingItem.districtNameUz = eachDistrict.nameUz\r\n                    this.editingItem.districtNameRu = eachDistrict.nameRu\r\n                    this.editingItem.districtNameLt = eachDistrict.nameLt\r\n                }\r\n\r\n                this.editingItem.isExtended = this.editingItemForMultiple.isExtended\r\n\r\n                this.editingItem.directoryAdvertisementDesignTypeId = adDesignType.id\r\n                this.editingItem.directoryAdvertisementDesignTypeNameUz = adDesignType.nameUz\r\n                this.editingItem.directoryAdvertisementDesignTypeNameRu = adDesignType.nameRu\r\n                this.editingItem.directoryAdvertisementDesignTypeNameLt = adDesignType.nameLt\r\n\r\n                if (eachVolumeType) {\r\n                    this.editingItem.directoryAdvertisementVolumeTypeId = eachVolumeType.id\r\n                    this.editingItem.directoryAdvertisementVolumeTypeNameUz = eachVolumeType.nameUz\r\n                    this.editingItem.directoryAdvertisementVolumeTypeNameRu = eachVolumeType.nameRu\r\n                    this.editingItem.directoryAdvertisementVolumeTypeNameLt = eachVolumeType.nameLt\r\n                    this.editingItem.cost = eachVolumeType.cost\r\n                } else {\r\n                    this.editingItem.cost = adDesignType.cost\r\n                }\r\n\r\n                this.editingItem.directoryAdvertisementLocationTypeId = this.editingItemForMultiple.directoryAdvertisementLocationType.id\r\n                this.editingItem.directoryAdvertisementLocationTypeNameUz = this.editingItemForMultiple.directoryAdvertisementLocationType.nameUz\r\n                this.editingItem.directoryAdvertisementLocationTypeNameRu = this.editingItemForMultiple.directoryAdvertisementLocationType.nameRu\r\n                this.editingItem.directoryAdvertisementLocationTypeNameLt = this.editingItemForMultiple.directoryAdvertisementLocationType.nameLt\r\n                this.editingItem.regionId = this.editingItemForMultiple.region.id\r\n                this.editingItem.regionNameUz = this.editingItemForMultiple.region.nameUz\r\n                this.editingItem.regionNameRu = this.editingItemForMultiple.region.nameRu\r\n                this.editingItem.regionNameLt = this.editingItemForMultiple.region.nameLt\r\n                this.editingItem.statusId = this.editingItemForMultiple.statusId\r\n\r\n                this.editingItem.statusNameUz = this.statuses.find(s => s.id == this.editingItemForMultiple.statusId).nameUz\r\n                this.editingItem.statusNameRu = this.statuses.find(s => s.id == this.editingItemForMultiple.statusId).nameRu\r\n                this.editingItem.statusNameLt = this.statuses.find(s => s.id == this.editingItemForMultiple.statusId).nameLt\r\n\r\n                this.editingItem.unitId = this.editingItemForMultiple.unit.id\r\n                this.editingItem.unitShortNameUz = this.editingItemForMultiple.unit.shortNameUz\r\n                this.editingItem.unitShortNameRu = this.editingItemForMultiple.unit.shortNameRu\r\n                this.editingItem.unitShortNameLt = this.editingItemForMultiple.unit.shortNameLt\r\n\r\n                let copiedItem = Object.assign({}, this.editingItem)\r\n\r\n                copiedItem.decisionNumber = this.editingItem.decisionNumber\r\n                copiedItem.createdDate = this.editingItem.createdDate\r\n                copiedItem.description = this.editingItem.description\r\n\r\n                this.minimumCollections.push(copiedItem)\r\n            })\r\n        },\r\n        saveMultipleMinimumCollections (e) {\r\n            e.preventDefault();\r\n\r\n            this.multipleMinimumCollectionsComputedObserver.validate().then(valid => {\r\n                if (valid) {\r\n\r\n                    if (this.editingItemForMultiple.isExtended) {\r\n                        this.editingItemForMultiple.districts.forEach(district => {\r\n                            if (this.editingItemForMultiple.directoryAdvertisementVolumeTypes && this.editingItemForMultiple.directoryAdvertisementVolumeTypes.length > 0) {\r\n                                this.editingItemForMultiple.directoryAdvertisementVolumeTypes.forEach(volumeType => {\r\n                                    this.createMinCollectionsFromAdDesignTypesForMultipleSaveFn(district, volumeType)\r\n                                })\r\n                            } else {\r\n                                this.createMinCollectionsFromAdDesignTypesForMultipleSaveFn(district)\r\n                            }\r\n                        })\r\n                    } else {\r\n                        if (this.editingItemForMultiple.directoryAdvertisementVolumeTypes && this.editingItemForMultiple.directoryAdvertisementVolumeTypes.length > 0) {\r\n                            this.editingItemForMultiple.directoryAdvertisementVolumeTypes.forEach(volumeType => {\r\n                                this.createMinCollectionsFromAdDesignTypesForMultipleSaveFn(false, volumeType)\r\n                            })\r\n                        } else {\r\n                            this.createMinCollectionsFromAdDesignTypesForMultipleSaveFn()\r\n                        }\r\n\r\n                        /* this.editingItemForMultiple.directoryAdvertisementDesignTypes.forEach(adDesignType => {\r\n                            this.resetEditingItem()\r\n                            this.editingItem.directoryAdvertisementDesignTypeId = adDesignType.id\r\n                            this.editingItem.directoryAdvertisementDesignTypeNameUz = adDesignType.nameUz\r\n                            this.editingItem.directoryAdvertisementDesignTypeNameRu = adDesignType.nameRu\r\n                            this.editingItem.directoryAdvertisementDesignTypeNameLt = adDesignType.nameLt\r\n                            this.editingItem.cost = adDesignType.cost\r\n\r\n                            this.editingItem.directoryAdvertisementLocationTypeId = this.editingItemForMultiple.directoryAdvertisementLocationType.id\r\n                            this.editingItem.directoryAdvertisementLocationTypeNameUz = this.editingItemForMultiple.directoryAdvertisementLocationType.nameUz\r\n                            this.editingItem.directoryAdvertisementLocationTypeNameRu = this.editingItemForMultiple.directoryAdvertisementLocationType.nameRu\r\n                            this.editingItem.directoryAdvertisementLocationTypeNameLt = this.editingItemForMultiple.directoryAdvertisementLocationType.nameLt\r\n                            this.editingItem.regionId = this.editingItemForMultiple.region.id\r\n                            this.editingItem.regionNameUz = this.editingItemForMultiple.region.nameUz\r\n                            this.editingItem.regionNameRu = this.editingItemForMultiple.region.nameRu\r\n                            this.editingItem.regionNameLt = this.editingItemForMultiple.region.nameLt\r\n                            this.editingItem.statusId = this.editingItemForMultiple.statusId\r\n\r\n                            this.editingItem.statusNameUz = this.statuses.find(s => s.id == this.editingItemForMultiple.statusId).nameUz\r\n                            this.editingItem.statusNameRu = this.statuses.find(s => s.id == this.editingItemForMultiple.statusId).nameRu\r\n                            this.editingItem.statusNameLt = this.statuses.find(s => s.id == this.editingItemForMultiple.statusId).nameLt\r\n\r\n                            this.editingItem.unitId = this.editingItemForMultiple.unit.id\r\n                            this.editingItem.unitShortNameUz = this.editingItemForMultiple.unit.shortNameUz\r\n                            this.editingItem.unitShortNameRu = this.editingItemForMultiple.unit.shortNameRu\r\n                            this.editingItem.unitShortNameLt = this.editingItemForMultiple.unit.shortNameLt\r\n\r\n                            let copiedItem = Object.assign({}, this.editingItem)\r\n\r\n                            copiedItem.decisionNumber = this.editingItem.decisionNumber\r\n                            copiedItem.createdDate = this.editingItem.createdDate\r\n                            copiedItem.description = this.editingItem.description\r\n\r\n                            this.minimumCollections.push(copiedItem)\r\n                        }) */\r\n                    }\r\n                    this.createMultipleMinimumCollectionsModal = false\r\n                } else {\r\n                    this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n                }\r\n            });\r\n        },\r\n        customLabelAdLocationType (opt) {\r\n            let selected = this.adLocationTypes.find(e => e.id == (opt.id ? opt.id : opt));\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.nameRu,\r\n                    nameLt: selected.nameLt,\r\n                    nameUz: selected.nameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelDistrict (opt) {\r\n            let selected = this.districts.find(e => e.id == (opt.id ? opt.id : opt));\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.nameRu,\r\n                    nameLt: selected.nameLt,\r\n                    nameUz: selected.nameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelAdDesignType (opt) {\r\n            let selected = this.adDesignTypes.find(e => e.id == (opt.id ? opt.id : opt));\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.nameRu,\r\n                    nameLt: selected.nameLt,\r\n                    nameUz: selected.nameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelAdVolumeType (opt) {\r\n            let selected = this.adVolumeTypes.find(e => e.id == (opt.id ? opt.id : opt));\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.nameRu,\r\n                    nameLt: selected.nameLt,\r\n                    nameUz: selected.nameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelRegion (opt) {\r\n            let selected = this.regions.find(e => e.id == (opt.id ? opt.id : opt));\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.nameRu,\r\n                    nameLt: selected.nameLt,\r\n                    nameUz: selected.nameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        customLabelUnit (opt) {\r\n            let selected = this.units.find(e => e.id == (opt.id ? opt.id : opt));\r\n            if (selected) {\r\n                return `${this.getName({\r\n                    nameRu: selected.nameRu,\r\n                    nameLt: selected.nameLt,\r\n                    nameUz: selected.nameUz,\r\n                })\r\n                    }`\r\n            }\r\n            return ``;\r\n        },\r\n        treeClosed (veeName) {\r\n            this.computedObserver.refs[veeName].validate();\r\n        },\r\n        normalizer (node) {\r\n            if (!node.children || node.children.length === 0) {\r\n                delete node.children\r\n                return {\r\n                    id: node.id,\r\n                    label: this.getName({\r\n                        nameRu: node.nameRu,\r\n                        nameLt: node.nameLt,\r\n                        nameUz: node.nameUz,\r\n                    }),\r\n                }\r\n            }\r\n            return {\r\n                id: node.id,\r\n                label: this.getName({\r\n                    nameRu: node.nameRu,\r\n                    nameLt: node.nameLt,\r\n                    nameUz: node.nameUz,\r\n                }),\r\n                children: node.children && node.children.length > 0 ? node.children : [],\r\n            }\r\n        },\r\n        save () {\r\n            this.computedObserver.validate().then(valid => {\r\n                if (valid && (this.minimumCollections.length || !this.isModeCreate)) {\r\n                    this.minimumCollections.forEach(c => {\r\n                        c.decisionNumber = this.editingItem.decisionNumber\r\n                        c.createdDate = this.editingItem.createdDate\r\n                        c.description = this.editingItem.description\r\n                    })\r\n                    if (this.editingItem.id) {\r\n                        crudAndListsService.update(this.isOnExtendedPage ? MAIN_API_URL_EXTENDED : MAIN_API_URL, this.editingItem).then(res => {\r\n                            this.computedObserver.reset()\r\n                            this.editingItem = Object.assign({}, {});\r\n                            this.$router.go(-1)\r\n                            this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n                        })\r\n                    } else {\r\n                        crudAndListsService.create(MAIN_API_URL, this.minimumCollections).then(res => {\r\n                            this.computedObserver.reset()\r\n                            this.editingItem = Object.assign({}, {});\r\n                            this.$router.go(-1)\r\n                            this.$toast(this.$t('messages.saved_successfully'), { type: 'success' });\r\n                        })\r\n                    }\r\n                } else {\r\n                    this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n                }\r\n            });\r\n        }\r\n    },\r\n    /*\r\n    * CREATED */\r\n    async created () {\r\n        this.var_default_search_payload.itemsPerPage = 500;\r\n        if (this.isModeCreate) {\r\n            await crudAndListsService.getEmpty(MAIN_API_URL)\r\n                .then(res => {\r\n                    this.editingItem = res.data\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                })\r\n        } else {\r\n            await crudAndListsService.getById(this.isOnExtendedPage ? MAIN_API_URL_EXTENDED : MAIN_API_URL, this.$route.params.id, false)\r\n                .then(res => {\r\n                    this.editingItem = res.data\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                })\r\n        }\r\n        // GET STATUSES\r\n        await helperService.getRefByCode('status')\r\n            .then(res => {\r\n                this.statuses = res.data.children\r\n                if (this.isModeCreate) {\r\n                    let activeStatus = this.statuses.find(el => el.code == 'ACTIVE')\r\n                    if (activeStatus) {\r\n                        this.editingItem.statusId = activeStatus.id\r\n                        this.editingItemForMultiple.statusId = activeStatus.id\r\n                    }\r\n                }\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n\r\n        // GET REGIONS\r\n        await helperService.fetchRegions()\r\n            .then(res => {\r\n                this.regions = res.data\r\n                this.regionSelected(this.editingItem.regionId, this.editingItem.directoryAdvertisementLocationTypeId, true)\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n\r\n        // GET AD_LOCATION_TYPES\r\n        crudAndListsService\r\n            .searchList('directory/advertisement-location-types', this.var_default_search_payload)\r\n            .then((res) => {\r\n                this.adLocationTypes = res.data.list;\r\n                this.adLocationTypeSelected(this.editingItem.directoryAdvertisementLocationTypeId, true)\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n\r\n        // GET UNITS\r\n        crudAndListsService\r\n            .searchList('directory/units', this.var_default_search_payload)\r\n            .then((res) => {\r\n                this.units = res.data.list;\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n\r\n        // GET MINIMUM_COLLECTION_TYPES\r\n        /* crudAndListsService\r\n            .searchList('directory/minimum-collection-types', this.var_default_search_payload)\r\n            .then((res) => {\r\n                this.minimumCollectionTypes = res.data.list;\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            }) */\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.col-form-label {\r\n    padding-top: 0;\r\n}\r\nul {\r\n    list-style-type: none;\r\n}\r\n</style>"]}]}