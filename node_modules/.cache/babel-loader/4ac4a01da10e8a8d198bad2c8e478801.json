{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\letter\\income\\income.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\letter\\income\\income.vue","mtime":1675054786269},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxBQ1JVIFBST0pFQ1RcXEZhaXIgVGVjaFxcYWNydS1mcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuZW5kcy13aXRoLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgU2VydmljZSBmcm9tICIuLi9sZXR0ZXJTZXJ2aWNlIjsKaW1wb3J0IHsgY25mRG9jLCBzaG93TXNnU3VjY2VzcyB9IGZyb20gIkAvaGVscGVyIjsKaW1wb3J0IFNpZ25LZXlzIGZyb20gIi4uL1NpZ25LZXlzLnZ1ZSI7CmltcG9ydCBSZWNlaXZlcnMgZnJvbSAiLi9yZWNlaXZlcnMudnVlIjsKaW1wb3J0IEVkaXRvciBmcm9tICIuLi9jcmVhdGUvZnJvYWwuZWRpdG9yLnZ1ZSI7CmltcG9ydCBNb2RhbCBmcm9tICIuLi9jcmVhdGUvbW9kYWwudnVlIjsKaW1wb3J0IGhlbHBlclNlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvaGVscGVyLnNlcnZpY2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgU2lnbktleXM6IFNpZ25LZXlzLAogICAgUmVjZWl2ZXJzOiBSZWNlaXZlcnMsCiAgICBFZGl0b3I6IEVkaXRvciwKICAgIE1vZGFsOiBNb2RhbAogIH0sCiAgd2F0Y2g6IHsKICAgIHBhZ2U6IGZ1bmN0aW9uIHBhZ2UoKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIHNlYXJjaFZhbHVlOiBmdW5jdGlvbiBzZWFyY2hWYWx1ZSh2KSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlamVjdGVkU2VlTG9hZGVyOiBmYWxzZSwKICAgICAgcmVqZWN0ZWRMZXR0ZXI6IG51bGwsCiAgICAgIHZpZXdGaWxlTW9kYWw6IGZhbHNlLAogICAgICBmaWxlVXBsb2FkUGF0aDogbnVsbCwKICAgICAgaXNSZWplY3RlZFNlZU1vZGFsOiBmYWxzZSwKICAgICAgc2lnbmF0dXJlU2VlTW9kYWw6IGZhbHNlLAogICAgICByZWFzb25SZWplY3RlZFNlZTogIiIsCiAgICAgIGNvbW1pc3Npb25UeXBlSWQ6IG51bGwsCiAgICAgIGNvbW1pc3Npb25Db21tZW50OiAnJywKICAgICAgY29tbWlzc2lvbkNvbXBsZXRpb25EYXRlOiBudWxsLAogICAgICBjb21taXNzaW9uTW9kYWxMb2FkZXI6IGZhbHNlLAogICAgICBjb21taXNzaW9uVHlwZXM6IFtdLAogICAgICBjb21taXNzaW9uc01vZGFsOiBmYWxzZSwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIHNyYzogbnVsbCwKICAgICAgbnVtUGFnZXM6IHVuZGVmaW5lZCwKICAgICAgcmVhc29uUmVqZWN0ZWQ6ICIiLAogICAgICBzZWxlY3RlZFRySXRlbToge30sCiAgICAgIGFjdGl2ZTogIiIsCiAgICAgIHNlbmRUeXBlTGlzdDogW3sKICAgICAgICBsYWJlbDogdGhpcy4kdCgiZm9yU2lnbmF0dXJlIiksCiAgICAgICAgdmFsdWU6ICJTSUdOQVRVUkUiCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogdGhpcy4kdCgiZm9yQWdyZWVtZW50IiksCiAgICAgICAgdmFsdWU6ICJBR1JFRU1FTlQiCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogdGhpcy4kdCgiZm9yUmV2aWV3IiksCiAgICAgICAgdmFsdWU6ICJSRVZJRVciCiAgICAgIH1dLAogICAgICB0aXRsZTogdGhpcy4kdCgicmVjZWl2ZWQiKSwKICAgICAgaXRlbXM6IFt7CiAgICAgICAgdGV4dDogdGhpcy4kdCgibWVudSIpLAogICAgICAgIGhyZWY6ICIvIgogICAgICB9LCB7CiAgICAgICAgdGV4dDogdGhpcy4kdCgicmVjZWl2ZWQiKSwKICAgICAgICBhY3RpdmU6IHRydWUKICAgICAgfV0sCiAgICAgIGxpc3Q6IFtdLAogICAgICBzZWFyY2hWYWx1ZTogIiIsCiAgICAgIHBhZ2U6IDEsCiAgICAgIGxpbWl0OiAyMCwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHRvdGFsOiAxLAogICAgICBpc01vZGFsOiBmYWxzZSwKICAgICAgY3VycmVudEl0ZW06IHt9LAogICAgICBzaWduYXR1cmVNb2RhbDogZmFsc2UsCiAgICAgIGxvYWRlckJ1dHRvbjogZmFsc2UsCiAgICAgIGlzTW9kYWxLZXlzOiBmYWxzZSwKICAgICAgYWdyZWVtZW50Q291bnQ6IDAsCiAgICAgIHNpZ25hdHVyZUNvdW50OiAwLAogICAgICByZXZpZXdDb3VudDogMCwKICAgICAgbG9hZGVyUmVjZWl2ZXI6IGZhbHNlLAogICAgICBpbmZvRGF0YToge30sCiAgICAgIHZpc2FJbmZvQnlJZDoge30sCiAgICAgIHJlamVjdGVkTG9hZGVyOiBmYWxzZSwKICAgICAgaXNSZWplY3RlZE1vZGFsOiBmYWxzZSwKICAgICAgdmlld01vZGFsOiBmYWxzZSwKICAgICAgZmlsZXNMaXN0OiBbXSwKICAgICAgcHJvamVjdEZpbGVzTGlzdDogW10sCiAgICAgIHZpZXdNb2RhbEJlZm9yZVNpZ25lZDogZmFsc2UsCiAgICAgIGxvYWRlclBkZjogZmFsc2UsCiAgICAgIGlsb3ZhVXBsb2FkUGF0aDogbnVsbCwKICAgICAgdmlld0lsb3ZhTW9kYWw6IGZhbHNlLAogICAgICBiYXNlNjQ6IG51bGwsCiAgICAgIGVkaXRNb2RhbDogZmFsc2UsCiAgICAgIGxvYWRlcjogZmFsc2UsCiAgICAgIGNvbnRleHRUZXh0OiAiIiwKICAgICAgaWNvbjogewogICAgICAgIHBkZjogcmVxdWlyZSgnQC9hc3NldHMvcGRmLnBuZycpCiAgICAgIH0sCiAgICAgIHNlbmRMZXR0ZXJUb0NoYWlybWFuOiB7CiAgICAgICAgbW9kYWw6IGZhbHNlLAogICAgICAgIGNvbW1lbnQ6ICIiLAogICAgICAgIGxvYWRlcjogZmFsc2UKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0TGlzdCgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRJbmNvbWVUb3RhbENvdW50KCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgcGFyYW1zOiBmdW5jdGlvbiBwYXJhbXMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpdGVtc1BlclBhZ2U6IHRoaXMubGltaXQsCiAgICAgICAgICBwYWdlOiB0aGlzLnBhZ2UgLSAxCiAgICAgICAgfSwKICAgICAgICBzZWFyY2g6IHRoaXMuc2VhcmNoVmFsdWUKICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3dSZWplY3RlZEJ5UmFpc01vZGFsOiBmdW5jdGlvbiBzaG93UmVqZWN0ZWRCeVJhaXNNb2RhbChpdGVtKSB7CiAgICAgIHRoaXMuY3VycmVudEl0ZW0gPSBpdGVtOwogICAgICB0aGlzLmlzUmVqZWN0ZWRTZWVNb2RhbCA9IHRydWU7CiAgICB9LAogICAgcmVqZWN0U2VlQ29uZmlybTogZnVuY3Rpb24gcmVqZWN0U2VlQ29uZmlybSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBjbmZEb2ModGhpcy4kdCgibWVzc2FnZXMucmVqZWN0X3RpdGxlIikpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgaWYgKHJzLnZhbHVlKSB7CiAgICAgICAgICBfdGhpczIuc2lnbmF0dXJlU2VlTW9kYWwgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2lnblN1Y2Nlc3NTZWU6IGZ1bmN0aW9uIHNpZ25TdWNjZXNzU2VlKGRhdGEpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgcGF5bG9hZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGF5bG9hZCA9IHsKICAgICAgICAgICAgICAgICAgc2lnbmVkQ29udGVudDogZGF0YS5jb250ZW50LAogICAgICAgICAgICAgICAgICBpbm46IGRhdGEuaW5uLAogICAgICAgICAgICAgICAgICBwbmZsOiBkYXRhLnBuZmwKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfdGhpczMuc2VsZWN0ZWRUckl0ZW0uYWN0aW9uOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSBfY29udGV4dDQudDAgPT09ICdSRVZJRVcnID8gNCA6IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC50MSA9IF90aGlzMy5zZWxlY3RlZFRySXRlbS5zdGF0dXM7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IF9jb250ZXh0NC50MSA9PT0gJ1NFTkRfU0VFTl9DTE9TRUQnID8gNyA6IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBTZXJ2aWNlLmxldHRlckNhbmNlbGxlZChwYXlsb2FkLCBfdGhpczMuc2VsZWN0ZWRUckl0ZW0ubGV0dGVySWQsIF90aGlzMy5zZWxlY3RlZFRySXRlbS5pZCwgX3RoaXMzLnJlYXNvblJlamVjdGVkU2VlKS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuaXNSZWplY3RlZFNlZU1vZGFsID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNpZ25hdHVyZVNlZU1vZGFsID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5nZXRQcm9qZWN0cygpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuZ2V0VG90YWxDb3VudCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgICAgICAgfSkpKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7Ly8gdGhpcy5jYXRjaEVycihlcnIpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJicmVhayIsIDEwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJicmVhayIsIDE0KTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gU2VydmljZS5vbmx5RG9jU2lnbkZvclJSZWplY3RlZEJ5UmFpcyhwYXlsb2FkLCBfdGhpczMuc2VsZWN0ZWRUckl0ZW0ubGV0dGVySWQsIF90aGlzMy5zZWxlY3RlZFRySXRlbS5pZCwgX3RoaXMzLnJlYXNvblJlamVjdGVkU2VlKS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICAgICAgICAgICAgdmFyIHRlbXBEYXRhOwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5pc1JlamVjdGVkU2VlTW9kYWwgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuc2lnbmF0dXJlU2VlTW9kYWwgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIF90aGlzMy5zZWxlY3RlZFRySXRlbSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaG93TXNnU3VjY2VzcyhfdGhpczMuJHQoInN1Y2Nlc3NEb2NTaWduZWQiKSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmdldExpc3QoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmdldFRvdGFsQ291bnQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgICAgICAgICAgIH0pKSkuY2F0Y2goZnVuY3Rpb24gKGVycikgey8vIHRoaXMuY2F0Y2hFcnIoZXJyKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoImJyZWFrIiwgMTQpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb3BlblNpZ25hdHVyZU1vZGFsRm9yQ29tbWlzc2lvbjogZnVuY3Rpb24gb3BlblNpZ25hdHVyZU1vZGFsRm9yQ29tbWlzc2lvbigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAodGhpcy5jb21taXNzaW9uVHlwZUlkKSB7CiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRUckl0ZW0uYWN0aW9uID09PSAnUkVWSUVXJyAmJiB0aGlzLnNlbGVjdGVkVHJJdGVtLmFwcGxpY2F0aW9uVHlwZUluUHJvamVjdCA9PT0gJ0lOTkVSJyAmJiB0aGlzLnNlbGVjdGVkVHJJdGVtLnN0YXR1cyA9PT0gJ1NFTlRfVE9fTUFOQUdFTUVOVCcgJiYgdGhpcy5zZWxlY3RlZFRySXRlbS5wcm9qZWN0VHlwZSA9PT0gJ0JFRk9SRV9DT01NSVNTSU9OJykgewogICAgICAgICAgaWYgKCF0aGlzLmNvbW1pc3Npb25Db21wbGV0aW9uRGF0ZSkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kdG9hc3QodGhpcy4kdCgnbWVzc2FnZXMuZmlsbF9yZXF1aXJlZF9maWVsZHMnKSwgewogICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgU2VydmljZS5tYWtlUmV2aWV3Rm9yQ29tbWlzc2lvbk1hbmFnZW1lbnQodGhpcy5zZWxlY3RlZFRySXRlbS5pZCwgdGhpcy5jb21taXNzaW9uVHlwZUlkLCB0aGlzLmNvbW1pc3Npb25Db21tZW50LCB0aGlzLmNvbW1pc3Npb25Db21wbGV0aW9uRGF0ZSkudGhlbiggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBzaG93TXNnU3VjY2VzcyhfdGhpczQuJHQoInN1Y2Nlc3NEb2NTaWduZWQiKSk7CgogICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LmdldFByb2plY3RzKCk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzNC5nZXRUb3RhbENvdW50KCk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzNC5zaWduYXR1cmVNb2RhbCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIF90aGlzNC5jb21taXNzaW9uc01vZGFsID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgICAgICB9KSkpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsvLyB0aGlzLmNhdGNoRXJyKGVycik7CiAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXM0LnNpZ25hdHVyZU1vZGFsID0gZmFsc2U7CiAgICAgICAgICAgIF90aGlzNC5jb21taXNzaW9uc01vZGFsID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zaWduYXR1cmVNb2RhbCA9IHRydWU7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHRvYXN0KHRoaXMuJHQoJ21lc3NhZ2VzLmZpbGxfcmVxdWlyZWRfZmllbGRzJyksIHsKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGN1c3RvbUxhYmVsQ29tbWlzc2lvblR5cGVzOiBmdW5jdGlvbiBjdXN0b21MYWJlbENvbW1pc3Npb25UeXBlcyhvcHQpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5jb21taXNzaW9uVHlwZXMuZmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmlkID09IG9wdDsKICAgICAgfSk7CgogICAgICBpZiAoc2VsZWN0ZWQpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMuZ2V0TmFtZSh7CiAgICAgICAgICBuYW1lUnU6IHNlbGVjdGVkLm5hbWVSdSwKICAgICAgICAgIG5hbWVMdDogc2VsZWN0ZWQubmFtZUx0LAogICAgICAgICAgbmFtZVV6OiBzZWxlY3RlZC5uYW1lVXoKICAgICAgICB9KSk7CiAgICAgIH0KCiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBjaGFuZ2VUZXh0OiBmdW5jdGlvbiBjaGFuZ2VUZXh0KHRleHQpIHsKICAgICAgdGhpcy5jb250ZXh0VGV4dCA9IHRleHQ7CiAgICB9LAogICAgb2tNb2RhbDogZnVuY3Rpb24gb2tNb2RhbCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgdGV4dCA9IHRoaXMuJHJlZnMuZWRpdG9yUmVmLnRleHQ7CiAgICAgIHRoaXMuJHJlZnMuZWRpdE1vZGFsUmVmLmxvYWRpbmcodHJ1ZSk7CiAgICAgIFNlcnZpY2Uuc2F2ZUxldHRlckJvZHkodGhpcy5zZWxlY3RlZFRySXRlbS5sZXR0ZXJJZCwgdGV4dCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHRlbXBEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXM1LnNlbGVjdGVkVHJJdGVtKTsKCiAgICAgICAgX3RoaXM1LnN1Y2Nlc3NFZGl0ZWQoKTsKCiAgICAgICAgX3RoaXM1LmdldExpc3QodHJ1ZSwgdGVtcERhdGEuaWQpOwoKICAgICAgICBfdGhpczUuZWRpdE1vZGFsID0gZmFsc2U7CiAgICAgICAgLyogc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgbGV0IG5ld2RhdGEgPSB0aGlzLmxpc3QuZmluZCgoZSkgPT4gZS5pZCA9PSB0ZW1wRGF0YS5pZCk7DQogICAgICAgICAgdGhpcy5zZWxlY3RlZFRySXRlbSA9IG5ld2RhdGE7DQogICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsNCiAgICAgICAgICB0aGlzLmdldFJlY2VpdmVycyh0aGlzLnNlbGVjdGVkVHJJdGVtKTsNCiAgICAgICAgfSwgNTAwKTsgKi8KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHt9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUuJHJlZnMuZWRpdE1vZGFsUmVmLmxvYWRpbmcoZmFsc2UpOwogICAgICB9KTsKICAgIH0sCiAgICB2aWV3TW9kYWxDbGljazogZnVuY3Rpb24gdmlld01vZGFsQ2xpY2soKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5lZGl0TW9kYWxSZWYubG9hZGluZ1BkZih0cnVlKTsKICAgICAgdGhpcy52aWV3TW9kYWxCZWZvcmVTaWduZWQgPSB0cnVlOwogICAgICB0aGlzLmxvYWRlclBkZiA9IHRydWU7CiAgICAgIHRoaXMuYmFzZTY0ID0gbnVsbDsKICAgICAgU2VydmljZS5jb252ZXJ0KHRoaXMuY29udGV4dFRleHQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM2LmJhc2U2NCA9IHJlcy5kYXRhOwogICAgICAgIH0sIDQwMCk7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNi5sb2FkZXJQZGYgPSBmYWxzZTsKCiAgICAgICAgX3RoaXM2LiRyZWZzLmVkaXRNb2RhbFJlZi5sb2FkaW5nUGRmKGZhbHNlKTsKICAgICAgfSk7CiAgICB9LAogICAgZWRpdExldHRlcjogZnVuY3Rpb24gZWRpdExldHRlcihpdGVtKSB7CiAgICAgIC8qIHRoaXMuZWRpdE1vZGFsID0gdHJ1ZTsNCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICBTZXJ2aWNlLmdldEJvZHkoaXRlbS5sZXR0ZXJJZCkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgbGV0IGVkaXRvciA9IHRoaXMuJHJlZnMuZWRpdG9yUmVmOw0KICAgICAgICAgIGlmIChlZGl0b3IpIHsNCiAgICAgICAgICAgIGlmICghdGhpcy5fZW1wdHkocmVzLmRhdGEpKSB7DQogICAgICAgICAgICAgIGVkaXRvci5zZXRUZXh0Q29udGVudChyZXMuZGF0YSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0sIDQwMCk7ICovCiAgICB9LAogICAgdmlld1Byb2plY3Q6IGZ1bmN0aW9uIHZpZXdQcm9qZWN0KHNlbGVjdGVkTGV0dGVyKSB7CiAgICAgIC8qIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgICBuYW1lOiBzZWxlY3RlZExldHRlci5wcm9qZWN0VHlwZSA9PT0gJ0NPTU1JU1NJT04nID8gJ0NvbW1pc3Npb25Qcm9qZWN0cycgOiAnUHJvamVjdHNNYWluJywNCiAgICAgICAgICBxdWVyeTogeyBwYWdlOiAib3ZlcnZpZXciLCBpZDogc2VsZWN0ZWRMZXR0ZXIucHJvamVjdElkIH0sDQogICAgICB9KTsgKi8KICAgICAgdmFyIHJvdXRlRGF0YSA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICBuYW1lOiBzZWxlY3RlZExldHRlci5wcm9qZWN0VHlwZSA9PT0gJ0NPTU1JU1NJT04nID8gJ0NvbW1pc3Npb25Qcm9qZWN0cycgOiAnUHJvamVjdHNNYWluJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgcGFnZTogIm92ZXJ2aWV3IiwKICAgICAgICAgIGlkOiBzZWxlY3RlZExldHRlci5wcm9qZWN0SWQKICAgICAgICB9CiAgICAgIH0pOwogICAgICB3aW5kb3cub3Blbihyb3V0ZURhdGEuaHJlZiwgJ19ibGFuaycpOwogICAgfSwKICAgIHZpZXdJbG92YTogZnVuY3Rpb24gdmlld0lsb3ZhKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB2YXIgZXh0ID0gdGhpcy5nZXRFeHQoaXRlbS51cGxvYWRQYXRoID8gaXRlbS51cGxvYWRQYXRoIDogaXRlbS51cmwpOwoKICAgICAgaWYgKGV4dCA9PT0gInBkZiIpIHsKICAgICAgICB0aGlzLmlsb3ZhVXBsb2FkUGF0aCA9IGl0ZW0udXBsb2FkUGF0aCA/IGl0ZW0udXBsb2FkUGF0aCA6IGl0ZW0udXJsOwogICAgICAgIHRoaXMudmlld0lsb3ZhTW9kYWwgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY29udmVydFRvUGRmKGl0ZW0pLnRoZW4oZnVuY3Rpb24gKHVwbG9hZFBhdGgpIHsKICAgICAgICAgIGlmICh1cGxvYWRQYXRoKSB7CiAgICAgICAgICAgIF90aGlzNy5pbG92YVVwbG9hZFBhdGggPSB1cGxvYWRQYXRoOwogICAgICAgICAgICBfdGhpczcudmlld0lsb3ZhTW9kYWwgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgb3Blbk9ubHlPZmZpY2U6IGZ1bmN0aW9uIG9wZW5Pbmx5T2ZmaWNlKGxldHRlcklkKSB7CiAgICAgIHZhciByb3V0ZURhdGEgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgbmFtZTogIk9mZmljZS1ET0NVTUVOVC1jb21taXNzaW9uIiwKICAgICAgICBxdWVyeTogewogICAgICAgICAgaWQ6IGxldHRlcklkLAogICAgICAgICAgcGFnZTogIkdFVCIKICAgICAgICB9CiAgICAgIH0pOwogICAgICB3aW5kb3cub3Blbihyb3V0ZURhdGEuaHJlZiwgIl9ibGFuayIpOwogICAgfSwKICAgIHZpZXdJbG92YVByb2plY3Q6IGZ1bmN0aW9uIHZpZXdJbG92YVByb2plY3QodXBsb2FkUGF0aCkgewogICAgICBpZiAodGhpcy5nZXRFeHQodXBsb2FkUGF0aCkgPT09ICJwZGYiKSB7CiAgICAgICAgdGhpcy5pbG92YVVwbG9hZFBhdGggPSB1cGxvYWRQYXRoOwogICAgICAgIHRoaXMudmlld0lsb3ZhTW9kYWwgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgY29udmVydFRvUGRmOiBmdW5jdGlvbiBjb252ZXJ0VG9QZGYoc2VsZWN0ZWRJdGVtKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdmFyIGZvclNpZ24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7CiAgICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICAgIHVybDogIiIuY29uY2F0KHNlbGVjdGVkSXRlbS51cmwpLAogICAgICAgICAgb3V0cHV0dHlwZTogIi5wZGYiLAogICAgICAgICAgZm9yU2lnbjogZm9yU2lnbiwKICAgICAgICAgIGtleTogc2VsZWN0ZWRJdGVtLmtleQogICAgICAgIH07CiAgICAgICAgU2VydmljZS5jb252ZXJ0VG9QZGZCeUFwaShjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgICBpZiAocnMuZGF0YS51cGxvYWRQYXRoKSB7CiAgICAgICAgICAgIF90aGlzOC4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzOC5zcmMgPSAiIi5jb25jYXQoX3RoaXM4LmJhc2VVcmwsICIvIikuY29uY2F0KHJzLmRhdGEudXBsb2FkUGF0aCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgcmVzKHJzLmRhdGEudXBsb2FkUGF0aCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXMoZmFsc2UpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAvLyB0aGlzLmNhdGNoRXJyKGUpOwogICAgICAgICAgcmVqKGUpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRCeUlkTGV0dGVyOiBmdW5jdGlvbiBnZXRCeUlkTGV0dGVyKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIFNlcnZpY2UuZ2V0QnlJZExldHRlcih0aGlzLnNlbGVjdGVkVHJJdGVtLmxldHRlcklkKS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgIF90aGlzOS5jdXJyZW50RG9jID0gcnMuZGF0YTsKICAgICAgICBfdGhpczkubG9hZGVyUGRmID0gdHJ1ZTsKCiAgICAgICAgX3RoaXM5LmNvbnZlcnRUb1BkZihycy5kYXRhKS50aGVuKGZ1bmN0aW9uICh1cGxvYWRQYXRoKSB7CiAgICAgICAgICBpZiAoIXVwbG9hZFBhdGgpIHsKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXM5LmNvbnZlcnRUb1BkZihycy5kYXRhKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzOS5sb2FkZXJQZGYgPSBmYWxzZTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgX3RoaXM5LmxvYWRlclBkZiA9IGZhbHNlOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LCA0MDAwKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzOS5sb2FkZXJQZGYgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHt9KTsKICAgIH0sCiAgICB2aWV3TGV0dGVyOiBmdW5jdGlvbiB2aWV3TGV0dGVyKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICB0aGlzLnZpZXdNb2RhbEJlZm9yZVNpZ25lZCA9IHRydWU7CiAgICAgIHRoaXMubG9hZGVyUGRmID0gdHJ1ZTsKICAgICAgdGhpcy5iYXNlNjQgPSBudWxsOwogICAgICBTZXJ2aWNlLnZpZXdQZGZCeUxldHRlcklkKHRoaXMuc2VsZWN0ZWRUckl0ZW0ubGV0dGVySWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMxMC5iYXNlNjQgPSByZXMuZGF0YTsKICAgICAgICB9LCAzMDApOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczEwLmxvYWRlclBkZiA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICB2aWV3RG9jQmVmb3JlU2lnbmVkOiBmdW5jdGlvbiB2aWV3RG9jQmVmb3JlU2lnbmVkKCkgewogICAgICAvLyB0aGlzLnZpZXdNb2RhbEJlZm9yZVNpZ25lZCA9IHRydWU7CiAgICAgIC8vIHRoaXMuZ2V0QnlJZExldHRlcigpOwogICAgICB0aGlzLnZpZXdMZXR0ZXIoKTsKICAgIH0sCiAgICBzZXRDdXJyZW50UGFnZTogZnVuY3Rpb24gc2V0Q3VycmVudFBhZ2UocGFnZSkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZTsKICAgIH0sCiAgICBnZXRBdHRhY2hlZEZpbGVzQnlJZDogZnVuY3Rpb24gZ2V0QXR0YWNoZWRGaWxlc0J5SWQoaWQpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgU2VydmljZS5nZXRBdHRhY2hlZEZpbGVzQnlJZChpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxMS5maWxlc0xpc3QgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0UHJvamVjdExldHRlcnNCeUxldHRlcklkOiBmdW5jdGlvbiBnZXRQcm9qZWN0TGV0dGVyc0J5TGV0dGVySWQoZGF0YSkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICBTZXJ2aWNlLnByb2plY3RMZXR0ZXJzQnlMZXR0ZXJJZChkYXRhLmxldHRlcklkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczEyLnByb2plY3RGaWxlc0xpc3QgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZVJlamVjdGVkOiBmdW5jdGlvbiBzYXZlUmVqZWN0ZWQocGF5bG9hZCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICB0aGlzLmNvbnZlcnRUb1BkZih0aGlzLnNlbGVjdGVkVHJJdGVtKS50aGVuKGZ1bmN0aW9uIChyMSkgewogICAgICAgIF90aGlzMTMucmVqZWN0ZWRMb2FkZXIgPSB0cnVlOwogICAgICAgIFNlcnZpY2Uuc2F2ZVJlamVjdGVkKF90aGlzMTMuc2VsZWN0ZWRUckl0ZW0ubGV0dGVySWQsIF90aGlzMTMuc2VsZWN0ZWRUckl0ZW0uaWQsIF90aGlzMTMucmVhc29uUmVqZWN0ZWQsIHBheWxvYWQpLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgICAgdmFyIHRlbXBEYXRhOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgX3RoaXMxMy5pc1JlamVjdGVkTW9kYWwgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgdGVtcERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpczEzLnNlbGVjdGVkVHJJdGVtKTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMy5zdWNjZXNzU2F2ZWQoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTMuZ2V0TGlzdCh0cnVlLCB0ZW1wRGF0YS5pZCk7CgogICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEzLmdldEluY29tZVRvdGFsQ291bnQoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgICB9KSkpLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMxMy5yZWplY3RlZExvYWRlciA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVUb1JlamVjdDogZnVuY3Rpb24gaGFuZGxlVG9SZWplY3QoKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIHRoaXMuY25mKCkudGhlbihmdW5jdGlvbiAocnMpIHsKICAgICAgICBpZiAocnMudmFsdWUpIHsKICAgICAgICAgIF90aGlzMTQuJHJvdXRlci5wdXNoKCIvbGV0dGVyL3RvLXJlamVjdC8iLmNvbmNhdChfdGhpczE0LnNlbGVjdGVkVHJJdGVtLmlkLCAiLyIpLmNvbmNhdChfdGhpczE0LnNlbGVjdGVkVHJJdGVtLmxldHRlcklkKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzaG93UmVqZWN0ZWRNb2RhbDogZnVuY3Rpb24gc2hvd1JlamVjdGVkTW9kYWwoKSB7CiAgICAgIHN3aXRjaCAodGhpcy5zZWxlY3RlZFRySXRlbS5hY3Rpb24pIHsKICAgICAgICBjYXNlICdTSUdOQVRVUkUnOgogICAgICAgICAgc3dpdGNoICh0aGlzLnNlbGVjdGVkVHJJdGVtLnN0YXR1cykgewogICAgICAgICAgICBjYXNlICdTRU5EX0ZPUl9DT01NSVNTSU9OJzoKICAgICAgICAgICAgICB0aGlzLmhhbmRsZVRvUmVqZWN0KCk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgIHRoaXMuaXNSZWplY3RlZE1vZGFsID0gdHJ1ZTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnUkVWSUVXJzoKICAgICAgICAgIHN3aXRjaCAodGhpcy5zZWxlY3RlZFRySXRlbS5zdGF0dXMpIHsKICAgICAgICAgICAgY2FzZSAnU0VORF9TRUVOX0NMT1NFRCc6CiAgICAgICAgICAgICAgdGhpcy5oYW5kbGVMZXR0ZXJDYW5jZWxsZWQodGhpcy5zZWxlY3RlZFRySXRlbSk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgIHRoaXMuaXNSZWplY3RlZE1vZGFsID0gdHJ1ZTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHRoaXMuaXNSZWplY3RlZE1vZGFsID0gdHJ1ZTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgdmlld0RvY1NpZ25lZDogZnVuY3Rpb24gdmlld0RvY1NpZ25lZCgpIHsKICAgICAgdGhpcy52aWV3TW9kYWwgPSB0cnVlOwogICAgfSwKICAgIGdldEluY29tZVRvdGFsQ291bnQ6IGZ1bmN0aW9uIGdldEluY29tZVRvdGFsQ291bnQoKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIFNlcnZpY2UuZ2V0SW5jb21lVG90YWxDb3VudCgpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgX3RoaXMxNS5hZ3JlZW1lbnRDb3VudCA9IHJzLmRhdGEuYWdyZWVtZW50OwogICAgICAgIF90aGlzMTUucmV2aWV3Q291bnQgPSBycy5kYXRhLnJldmlldzsKICAgICAgICBfdGhpczE1LnNpZ25hdHVyZUNvdW50ID0gcnMuZGF0YS5zaWduYXR1cmU7CiAgICAgIH0pOwogICAgfSwKICAgIHNpZ25TdWNjZXNzOiBmdW5jdGlvbiBzaWduU3VjY2VzcyhkYXRhKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICB2YXIgcGF5bG9hZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBheWxvYWQgPSB7CiAgICAgICAgICAgICAgICAgIHNpZ25lZENvbnRlbnQ6IGRhdGEuY29udGVudCwKICAgICAgICAgICAgICAgICAgaW5uOiBkYXRhLmlubiwKICAgICAgICAgICAgICAgICAgcG5mbDogZGF0YS5wbmZsCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMxNi5pc1JlamVjdGVkTW9kYWwpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMxNi5pc01vZGFsS2V5cyA9IGZhbHNlOwogICAgICAgICAgICAgICAgX3RoaXMxNi5zaWduYXR1cmVNb2RhbCA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIF90aGlzMTYuc2F2ZVJlamVjdGVkKHBheWxvYWQpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIudDAgPSBfdGhpczE2LnNlbGVjdGVkVHJJdGVtLnN0YXR1czsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IF9jb250ZXh0MTIudDAgPT09ICdDT01NSVNTSU9OX1NFTkQnID8gMTAgOiBfY29udGV4dDEyLnQwID09PSAnTk9UX0JFTE9ORycgPyAxMiA6IF9jb250ZXh0MTIudDAgPT09ICdTRU5EX1NJR05fVE9fUkVUVVJOJyA/IDE1IDogMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIFNlcnZpY2Uub25seURvY1NpZ24ocGF5bG9hZCwgX3RoaXMxNi5zZWxlY3RlZFRySXRlbS5pZCkudGhlbiggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgICAgICAgICAgIHZhciB0ZW1wRGF0YTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LmlzTW9kYWxLZXlzID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5zaWduYXR1cmVNb2RhbCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMxNi5zZWxlY3RlZFRySXRlbSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaG93TXNnU3VjY2VzcyhfdGhpczE2LiR0KCJzdWNjZXNzRG9jU2lnbmVkIikpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNi5nZXRMaXN0KHRydWUsIHRlbXBEYXRhLmlkKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTYuZ2V0SW5jb21lVG90YWxDb3VudCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICAgICAgICAgICAgfSkpKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7Ly8gdGhpcy5jYXRjaEVycihlcnIpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoImJyZWFrIiwgMTkpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICByZXR1cm4gU2VydmljZS5vbmx5RG9jU2lnbihwYXlsb2FkLCBfdGhpczE2LnNlbGVjdGVkVHJJdGVtLmlkKS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICAgICAgICAgICAgdmFyIHRlbXBEYXRhOwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU2VydmljZS5vbmx5RG9jU2lnbk5vdEJlbG9uZyhwYXlsb2FkLCBfdGhpczE2LnNlbGVjdGVkVHJJdGVtLmlkKS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYuY2F0Y2hFcnIoZXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LmlzTW9kYWxLZXlzID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5zaWduYXR1cmVNb2RhbCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMxNi5zZWxlY3RlZFRySXRlbSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaG93TXNnU3VjY2VzcyhfdGhpczE2LiR0KCJzdWNjZXNzRG9jU2lnbmVkIikpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNi5nZXRMaXN0KHRydWUsIHRlbXBEYXRhLmlkKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE2LmdldEluY29tZVRvdGFsQ291bnQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgICAgICAgICAgICB9KSkpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsvLyB0aGlzLmNhdGNoRXJyKGVycik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLmFicnVwdCgiYnJlYWsiLCAxOSk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBTZXJ2aWNlLnNpZ25Eb2MocGF5bG9hZCwgX3RoaXMxNi5zZWxlY3RlZFRySXRlbS5pZCwgX3RoaXMxNi5jb21taXNzaW9uVHlwZUlkLCBfdGhpczE2LmNvbW1pc3Npb25Db21tZW50KS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciB0ZW1wRGF0YTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5pc01vZGFsS2V5cyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYuc2lnbmF0dXJlTW9kYWwgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LmNvbW1pc3Npb25zTW9kYWwgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIF90aGlzMTYuc2VsZWN0ZWRUckl0ZW0pOwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNob3dNc2dTdWNjZXNzKF90aGlzMTYuJHQoInN1Y2Nlc3NEb2NTaWduZWQiKSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNi5nZXRMaXN0KHRydWUsIHRlbXBEYXRhLmlkKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNi5nZXRJbmNvbWVUb3RhbENvdW50KCk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgICAgICAgICAgICB9KSkpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsvLyB0aGlzLmNhdGNoRXJyKGVycik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLmFicnVwdCgiYnJlYWsiLCAxOSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBTZXJ2aWNlLnNpZ25Eb2MocGF5bG9hZCwgX3RoaXMxNi5zZWxlY3RlZFRySXRlbS5pZCwgX3RoaXMxNi5jb21taXNzaW9uVHlwZUlkLCBfdGhpczE2LmNvbW1pc3Npb25Db21tZW50KS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7CiAgICAgICAgICAgICAgICAgIHZhciB0ZW1wRGF0YTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5pc01vZGFsS2V5cyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYuc2lnbmF0dXJlTW9kYWwgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LmNvbW1pc3Npb25zTW9kYWwgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIF90aGlzMTYuc2VsZWN0ZWRUckl0ZW0pOwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNob3dNc2dTdWNjZXNzKF90aGlzMTYuJHQoInN1Y2Nlc3NEb2NTaWduZWQiKSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNi5nZXRMaXN0KHRydWUsIHRlbXBEYXRhLmlkKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNi5nZXRJbmNvbWVUb3RhbENvdW50KCk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgICAgICAgICAgICB9KSkpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsvLyB0aGlzLmNhdGNoRXJyKGVycik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLmFicnVwdCgiYnJlYWsiLCAxOSk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFJlY2VpdmVyczogZnVuY3Rpb24gZ2V0UmVjZWl2ZXJzKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMTcgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkZXJSZWNlaXZlciA9IHRydWU7CiAgICAgIFNlcnZpY2UuZ2V0UmVjZWl2ZXJzKGl0ZW0ubGV0dGVySWQpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgX3RoaXMxNy5pbmZvRGF0YSA9IHJzLmRhdGE7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMTcubG9hZGVyUmVjZWl2ZXIgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0VmlzYUluZm9CeUlkOiBmdW5jdGlvbiBnZXRWaXNhSW5mb0J5SWQoKSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gaGVscGVyU2VydmljZS5nZXRWaXNhQWxsSW5mb0J5SWQoX3RoaXMxOC5zZWxlY3RlZFRySXRlbS5hcHBsaWNhdGlvbklkRnJvbURYQSwgZmFsc2UpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpczE4LnZpc2FJbmZvQnlJZCA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjbGlja1RySXRlbTogZnVuY3Rpb24gY2xpY2tUckl0ZW0oaXRlbSkgewogICAgICB2YXIgX3RoaXMxOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczE5LnNlbGVjdGVkVHJJdGVtLmlkID09PSBpdGVtLmlkKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczE5LnNlbGVjdGVkVHJJdGVtID0ge307CiAgICAgICAgICAgICAgICBfdGhpczE5LmluZm9EYXRhID0ge307CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAyNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpczE5LnNlbGVjdGVkVHJJdGVtID0gaXRlbTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxOS5nZXRBdHRhY2hlZEZpbGVzQnlJZChpdGVtLmxldHRlcklkKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxOS5nZXRSZWNlaXZlcnMoaXRlbSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBpZiAoIVsnRlJPTV9EWEEnLCAnTk9UX0JFTE9ORyddLmluY2x1ZGVzKGl0ZW0uYXBwbGljYXRpb25UeXBlSW5Qcm9qZWN0KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxOS5nZXRWaXNhSW5mb0J5SWQoKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTkuZ2V0UHJvamVjdExldHRlcnNCeUxldHRlcklkKGl0ZW0pOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF90aGlzMTkudmlzYUluZm9CeUlkID0ge307CiAgICAgICAgICAgICAgICBfdGhpczE5LnByb2plY3RGaWxlc0xpc3QgPSBbXTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQudDAgPSBpdGVtLnN0YXR1czsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IF9jb250ZXh0MTQudDAgPT09ICdSRUpFQ1RfTEVUVEVSX0NSRUFURUQnID8gMjIgOiAyNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgU2VydmljZS5nZXRSZWplY3RMZXR0ZXIoaXRlbS5sZXR0ZXJJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTkucmVqZWN0ZWRMZXR0ZXIgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5hYnJ1cHQoImJyZWFrIiwgMjcpOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgICAgX3RoaXMxOS5yZWplY3RlZExldHRlciA9IG51bGw7CiAgICAgICAgICAgICAgICBfdGhpczE5LmZpbGVVcGxvYWRQYXRoID0gbnVsbDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LmFicnVwdCgiYnJlYWsiLCAyNyk7CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNpZ25hdHVyZUl0ZW06IGZ1bmN0aW9uIHNpZ25hdHVyZUl0ZW0oKSB7CiAgICAgIHRoaXMuaXNNb2RhbEtleXMgPSB0cnVlOwogICAgfSwKICAgIHNlbGVjdFNlbmRUeXBlOiBmdW5jdGlvbiBzZWxlY3RTZW5kVHlwZSh2KSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRUckl0ZW0gPSB7fTsKICAgICAgdGhpcy5pbmZvRGF0YSA9IHt9OwoKICAgICAgaWYgKHRoaXMuYWN0aXZlID09IHYpIHsKICAgICAgICB0aGlzLmFjdGl2ZSA9ICIiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWN0aXZlID0gdjsKICAgICAgfQoKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgbWFrZUFncmVlOiBmdW5jdGlvbiBtYWtlQWdyZWUoaXRlbSkgewogICAgICB2YXIgX3RoaXMyMCA9IHRoaXM7CgogICAgICB0aGlzLmNuZigpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgaWYgKHJzLnZhbHVlKSB7CiAgICAgICAgICBTZXJ2aWNlLm1ha2VBZ3JlZShpdGVtLmxldHRlcklkKS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKSB7CiAgICAgICAgICAgIHZhciB0ZW1wRGF0YTsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgdGVtcERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpczIwLnNlbGVjdGVkVHJJdGVtKTsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIwLnN1Y2Nlc3NTYXZlZCgpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjAuZ2V0TGlzdCh0cnVlLCB0ZW1wRGF0YS5pZCk7CgogICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyMC5nZXRJbmNvbWVUb3RhbENvdW50KCk7CgogICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTE1KTsKICAgICAgICAgIH0pKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBmZXRjaENvbW1pc3Npb25UeXBlczogZnVuY3Rpb24gZmV0Y2hDb21taXNzaW9uVHlwZXMoKSB7CiAgICAgIHZhciBfdGhpczIxID0gdGhpczsKCiAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfTsKICAgICAgU2VydmljZS5zZWFyY2hMaXN0KCdkaXJlY3RvcnkvY29tbWlzc2lvbi9jb21taXNzaW9uLXR5cGUnLCB0aGlzLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLCBudWxsLCB0cnVlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIxLmNvbW1pc3Npb25UeXBlcyA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgfSk7CiAgICB9LAogICAgbWFrZVJldmlld0ZvckNvbW1pc3Npb246IGZ1bmN0aW9uIG1ha2VSZXZpZXdGb3JDb21taXNzaW9uKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMjIgPSB0aGlzOwoKICAgICAgdGhpcy5jbmYoKS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgIGlmIChycy52YWx1ZSkgewogICAgICAgICAgU2VydmljZS5tYWtlUmV2aWV3Rm9yQ29tbWlzc2lvbihpdGVtLmlkLCBpdGVtLmNvbW1lbnQpLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNigpIHsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTYucHJldiA9IF9jb250ZXh0MTYubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyMi5zdWNjZXNzU2F2ZWQoKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIyLiRyb3V0ZXIucHVzaCgiL3Byb2plY3RzL2NvbW1pc3Npb24iKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfY2FsbGVlMTYpOwogICAgICAgICAgfSkpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG1ha2VSZXZpZXdGb3JDb21taXNzaW9uV2l0aENvbW1lbnQ6IGZ1bmN0aW9uIG1ha2VSZXZpZXdGb3JDb21taXNzaW9uV2l0aENvbW1lbnQoaXRlbSkgewogICAgICB2YXIgX3RoaXMyMyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5jb21taXNzaW9uVHlwZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2hDb21taXNzaW9uVHlwZXMoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyMy5jb21taXNzaW9uc01vZGFsID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5jb21taXNzaW9uc01vZGFsID0gdHJ1ZTsKICAgIH0sCiAgICBtYWtlUmV2aWV3OiBmdW5jdGlvbiBtYWtlUmV2aWV3KGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMjQgPSB0aGlzOwoKICAgICAgdGhpcy5jbmYoKS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgIGlmIChycy52YWx1ZSkgewogICAgICAgICAgU2VydmljZS5tYWtlUmV2aWV3KGl0ZW0ubGV0dGVySWQpLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHsKICAgICAgICAgICAgdmFyIHRlbXBEYXRhOwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAvLyBsZXQgdGVtcERhdGEgPSB0aGlzLnNlbGVjdGVkVHJJdGVtOwogICAgICAgICAgICAgICAgICAgIHRlbXBEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMyNC5zZWxlY3RlZFRySXRlbSk7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyNC5zdWNjZXNzU2F2ZWQoKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczI0LmdldExpc3QodHJ1ZSwgdGVtcERhdGEuaWQpOwoKICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjQuZ2V0SW5jb21lVG90YWxDb3VudCgpOwoKICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF9jYWxsZWUxNyk7CiAgICAgICAgICB9KSkpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbWFrZVJldmlld0xldHRlcjogZnVuY3Rpb24gbWFrZVJldmlld0xldHRlcihpdGVtKSB7CiAgICAgIHZhciBfdGhpczI1ID0gdGhpczsKCiAgICAgIHRoaXMuY25mKCkudGhlbihmdW5jdGlvbiAocnMpIHsKICAgICAgICBpZiAocnMudmFsdWUpIHsKICAgICAgICAgIFNlcnZpY2UubWFrZUFncmVlZExldHRlcihpdGVtLmlkKS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTgoKSB7CiAgICAgICAgICAgIHZhciB0ZW1wRGF0YTsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOCQoX2NvbnRleHQxOCkgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTgucHJldiA9IF9jb250ZXh0MTgubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgdGVtcERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpczI1LnNlbGVjdGVkVHJJdGVtKTsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczI1LnN1Y2Nlc3NTYXZlZCgpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjUuZ2V0TGlzdCh0cnVlLCB0ZW1wRGF0YS5pZCk7CgogICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyNS5nZXRJbmNvbWVUb3RhbENvdW50KCk7CgogICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTE4KTsKICAgICAgICAgIH0pKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZWplY3RDb25maXJtOiBmdW5jdGlvbiByZWplY3RDb25maXJtKCkgewogICAgICB2YXIgX3RoaXMyNiA9IHRoaXM7CgogICAgICBjbmZEb2ModGhpcy4kdCgibWVzc2FnZXMucmVqZWN0X3RpdGxlIikpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgaWYgKHJzLnZhbHVlKSB7CiAgICAgICAgICBfdGhpczI2LnNpZ25hdHVyZU1vZGFsID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHZpZXdGaWxlOiBmdW5jdGlvbiB2aWV3RmlsZSh1cGxvYWRQYXRoKSB7CiAgICAgIGlmICh0aGlzLmdldEV4dCh1cGxvYWRQYXRoKSA9PT0gInBkZiIpIHsKICAgICAgICB0aGlzLmZpbGVVcGxvYWRQYXRoID0gdXBsb2FkUGF0aDsKICAgICAgICB0aGlzLnZpZXdGaWxlTW9kYWwgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgc2lnbkl0ZW1Ub01hbmFnZW1lbnQ6IGZ1bmN0aW9uIHNpZ25JdGVtVG9NYW5hZ2VtZW50KGl0ZW0pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sZXR0ZXIvaW5jb21lL3RvLW1hbmFnZW1lbnQvIi5jb25jYXQoaXRlbS5sZXR0ZXJJZCwgIi8iKS5jb25jYXQoaXRlbS5pZCkpOwogICAgfSwKICAgIGhhbmRsZVNlbmRMZXR0ZXJUb0NoYWlybWFuOiBmdW5jdGlvbiBoYW5kbGVTZW5kTGV0dGVyVG9DaGFpcm1hbigpIHsKICAgICAgdmFyIF90aGlzMjcgPSB0aGlzOwoKICAgICAgdGhpcy5jbmYoKS50aGVuKGZ1bmN0aW9uIChfcmVmMTQpIHsKICAgICAgICB2YXIgdmFsdWUgPSBfcmVmMTQudmFsdWU7CgogICAgICAgIGlmICh2YWx1ZSkgewogICAgICAgICAgX3RoaXMyNy5zZW5kTGV0dGVyVG9DaGFpcm1hbi5sb2FkZXIgPSB0cnVlOwogICAgICAgICAgU2VydmljZS5oYW5kbGVTZW5kTGV0dGVyVG9DaGFpcm1hbihfdGhpczI3LnJlamVjdGVkTGV0dGVyLmlkLCBfdGhpczI3LnNlbmRMZXR0ZXJUb0NoYWlybWFuLmNvbW1lbnQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczI3LmdldExpc3QoKTsKCiAgICAgICAgICAgIF90aGlzMjcuc2VuZExldHRlclRvQ2hhaXJtYW4ubG9hZGVyID0gZmFsc2U7CiAgICAgICAgICAgIF90aGlzMjcuc2VuZExldHRlclRvQ2hhaXJtYW4ubW9kYWwgPSBmYWxzZTsKICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczI3LnNlbmRMZXR0ZXJUb0NoYWlybWFuLmxvYWRlciA9IGZhbHNlOwogICAgICAgICAgICBfdGhpczI3LnNlbmRMZXR0ZXJUb0NoYWlybWFuLm1vZGFsID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUxldHRlckNhbmNlbGxlZDogZnVuY3Rpb24gaGFuZGxlTGV0dGVyQ2FuY2VsbGVkKGl0ZW0pIHsKICAgICAgdGhpcy5pc1JlamVjdGVkU2VlTW9kYWwgPSB0cnVlOwogICAgfSwKICAgIHNpZ25BY2NlcHRlZEl0ZW06IGZ1bmN0aW9uIHNpZ25BY2NlcHRlZEl0ZW0oaXRlbSkgewogICAgICB2YXIgX3RoaXMyOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTkoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOSQoX2NvbnRleHQxOSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE5LnByZXYgPSBfY29udGV4dDE5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShpdGVtLmFwcGxpY2F0aW9uVHlwZUluUHJvamVjdCA9PT0gJ0ZST01fRFhBJyAmJiBpdGVtLnN0YXR1cyA9PT0gJ1NFTkRfU0lHTicgJiYgaXRlbS5hY3Rpb24gPT09ICdTSUdOQVRVUkUnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIFNlcnZpY2Uuc2V0TGV0dGVyUmVqdE9yQWNjZXB0KGl0ZW0ubGV0dGVySWQsIGZhbHNlKS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgICAgICAgICAgICBfdGhpczI4LiRyb3V0ZXIucHVzaCgiL2xldHRlci9pbmNvbWUvIi5jb25jYXQoaXRlbS5sZXR0ZXJJZCwgIi8iKS5jb25jYXQoaXRlbS5pZCkpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2lnblJlamVjdGVkSXRlbTogZnVuY3Rpb24gc2lnblJlamVjdGVkSXRlbShpdGVtKSB7CiAgICAgIHZhciBfdGhpczI5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjAucHJldiA9IF9jb250ZXh0MjAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKGl0ZW0uYXBwbGljYXRpb25UeXBlSW5Qcm9qZWN0ID09PSAnRlJPTV9EWEEnICYmIGl0ZW0uc3RhdHVzID09PSAnU0VORF9TSUdOJyAmJiBpdGVtLmFjdGlvbiA9PT0gJ1NJR05BVFVSRScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gU2VydmljZS5zZXRMZXR0ZXJSZWp0T3JBY2NlcHQoaXRlbS5sZXR0ZXJJZCwgdHJ1ZSkudGhlbihmdW5jdGlvbiAocnMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyOS4kcm91dGVyLnB1c2goIi9sZXR0ZXIvaW5jb21lLyIuY29uY2F0KGl0ZW0ubGV0dGVySWQsICIvIikuY29uY2F0KGl0ZW0uaWQpKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNpZ25JdGVtOiBmdW5jdGlvbiBzaWduSXRlbShpdGVtKSB7CiAgICAgIHZhciBfdGhpczMwID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI0JChfY29udGV4dDI0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjQucHJldiA9IF9jb250ZXh0MjQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjQudDAgPSBpdGVtLmFjdGlvbjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IF9jb250ZXh0MjQudDAgPT09ICdTSUdOQVRVUkUnID8gMyA6IF9jb250ZXh0MjQudDAgPT09ICdBR1JFRU1FTlQnID8gNTkgOiBfY29udGV4dDI0LnQwID09PSAnUkVWSUVXJyA/IDY2IDogODc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3RoaXMzMC5jdXJyZW50SXRlbSA9IGl0ZW07CgogICAgICAgICAgICAgICAgaWYgKCEoaXRlbS5hcHBsaWNhdGlvblR5cGVJblByb2plY3QgPT09ICdGUk9NX0RYQScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDI0LnQxID0gaXRlbS5zdGF0dXM7CiAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSBfY29udGV4dDI0LnQxID09PSAnU0VORF9TSUdOJyA/IDggOiBfY29udGV4dDI0LnQxID09PSAnQ09NTUlTU0lPTl9TRU5EJyA/IDExIDogMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gU2VydmljZS5zZXRMZXR0ZXJSZWp0T3JBY2NlcHQoaXRlbS5sZXR0ZXJJZCwgdHJ1ZSkudGhlbihmdW5jdGlvbiAocnMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzMC4kcm91dGVyLnB1c2goIi9sZXR0ZXIvaW5jb21lLyIuY29uY2F0KGl0ZW0ubGV0dGVySWQsICIvIikuY29uY2F0KGl0ZW0uaWQpKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuYWJydXB0KCJicmVhayIsIDE2KTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIFNlcnZpY2Uuc2V0TGV0dGVyUmVqdE9yQWNjZXB0KGl0ZW0ubGV0dGVySWQsIHRydWUpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMzAuJHJvdXRlci5wdXNoKCIvbGV0dGVyL2luY29tZS8iLmNvbmNhdChpdGVtLmxldHRlcklkLCAiLyIpLmNvbmNhdChpdGVtLmlkKSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LmFicnVwdCgiYnJlYWsiLCAxNik7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBjbmZEb2MoX3RoaXMzMC4kdCgiZG9jQ29uZmlybSIpKS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgICAgICAgICAgICBpZiAocnMudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczMwLnNpZ25hdHVyZU1vZGFsID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5hYnJ1cHQoImJyZWFrIiwgMTYpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gNTg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIGlmICghKGl0ZW0uYXBwbGljYXRpb25UeXBlSW5Qcm9qZWN0ID09PSAnTk9UX0JFTE9ORycpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShpdGVtLmZpbGVUeXBlICE9PSAncGRmJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMzAuY29udmVydFRvUGRmKGl0ZW0pLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMTUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMShyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMSQoX2NvbnRleHQyMSkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIxLnByZXYgPSBfY29udGV4dDIxLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoci51cGxvYWRQYXRoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzAuJHRvYXN0KF90aGlzMzAuJHQoJ21lc3NhZ2VzLnByb2plY3RfZmlsZXNfY29udmVydF9wZGZfZXJyb3InKSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoci51cGxvYWRQYXRoLmVuZHNXaXRoKCcucGRmJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzMC4kdG9hc3QoX3RoaXMzMC4kdCgnbWVzc2FnZXMucHJvamVjdF9maWxlc19jb252ZXJ0X3BkZl9lcnJvcicpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGkgPT09IG5vdFBkZkRvY3MubGVuZ3RoIC0gMSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNlcnZpY2Uuc2V0TGV0dGVyUmVqdE9yQWNjZXB0KGl0ZW0ubGV0dGVySWQsIHRydWUpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMzAuJHJvdXRlci5wdXNoKCIvbGV0dGVyL2luY29tZS8iLmNvbmNhdChpdGVtLmxldHRlcklkLCAiLyIpLmNvbmNhdChpdGVtLmlkKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIxKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMTUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSA1ODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgICAgX2NvbnRleHQyNC50MiA9IGl0ZW0uc3RhdHVzOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gX2NvbnRleHQyNC50MiA9PT0gJ1NFTkRfU0lHTicgPyAyNyA6IF9jb250ZXh0MjQudDIgPT09ICdGT1JfUkVHSU9OJyA/IDI5IDogX2NvbnRleHQyNC50MiA9PT0gJ0ZPUl9OT1RfQkVMT05HJyA/IDMyIDogX2NvbnRleHQyNC50MiA9PT0gJ0NPTU1JU1NJT05fU0VORCcgPyAzNSA6IF9jb250ZXh0MjQudDIgPT09ICdTRU5EX1NJR05fRklOSVNIJyA/IDM3IDogX2NvbnRleHQyNC50MiA9PT0gJ0ZPUl9OT1RfQ09NUExFVEVEJyA/IDQwIDogX2NvbnRleHQyNC50MiA9PT0gJ1NFTkRfRk9SX0NPTU1JU1NJT04nID8gNDMgOiBfY29udGV4dDI0LnQyID09PSAnU0VORF9TSUdOX1RPX1JFVFVSTicgPyA0NiA6IF9jb250ZXh0MjQudDIgPT09ICdUT19TSUdOX1JFSkVDVF9MRVRURVInID8gNDkgOiBfY29udGV4dDI0LnQyID09PSAnVE9fU0lHTl9GSU5JU0hfTEVUVEVSJyA/IDUyIDogNTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICAgIF90aGlzMzAuJHJvdXRlci5wdXNoKCIvbGV0dGVyL2luY29tZS8iLmNvbmNhdChpdGVtLmxldHRlcklkLCAiLyIpLmNvbmNhdChpdGVtLmlkKSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuYWJydXB0KCJicmVhayIsIDU4KTsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDMxOwogICAgICAgICAgICAgICAgcmV0dXJuIFNlcnZpY2Uuc2V0TGV0dGVyUmVqdE9yQWNjZXB0KGl0ZW0ubGV0dGVySWQsIHRydWUpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMzAuJHJvdXRlci5wdXNoKCIvbGV0dGVyL2luY29tZS8iLmNvbmNhdChpdGVtLmxldHRlcklkLCAiLyIpLmNvbmNhdChpdGVtLmlkKSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LmFicnVwdCgiYnJlYWsiLCA1OCk7CgogICAgICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSAzNDsKICAgICAgICAgICAgICAgIHJldHVybiBTZXJ2aWNlLnNldExldHRlclJlanRPckFjY2VwdChpdGVtLmxldHRlcklkLCB0cnVlKS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgICAgICAgICAgICBfdGhpczMwLiRyb3V0ZXIucHVzaCgiL2xldHRlci9pbmNvbWUvIi5jb25jYXQoaXRlbS5sZXR0ZXJJZCwgIi8iKS5jb25jYXQoaXRlbS5pZCkpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzQ6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5hYnJ1cHQoImJyZWFrIiwgNTgpOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgICAgX3RoaXMzMC4kcm91dGVyLnB1c2goIi9sZXR0ZXIvaW5jb21lLyIuY29uY2F0KGl0ZW0ubGV0dGVySWQsICIvIikuY29uY2F0KGl0ZW0uaWQpKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5hYnJ1cHQoImJyZWFrIiwgNTgpOwoKICAgICAgICAgICAgICBjYXNlIDM3OgogICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gMzk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzMC4kcm91dGVyLnB1c2goIi9sZXR0ZXIvbWFrZS1zaWduZWQtdG8tY2xvc2VkLyIuY29uY2F0KGl0ZW0uaWQsICIvIikuY29uY2F0KGl0ZW0ubGV0dGVySWQpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LmFicnVwdCgiYnJlYWsiLCA1OCk7CgogICAgICAgICAgICAgIGNhc2UgNDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSA0MjsKICAgICAgICAgICAgICAgIHJldHVybiBTZXJ2aWNlLnNldExldHRlclJlanRPckFjY2VwdChpdGVtLmxldHRlcklkLCB0cnVlKS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgICAgICAgICAgICBfdGhpczMwLiRyb3V0ZXIucHVzaCgiL2xldHRlci9pbmNvbWUvIi5jb25jYXQoaXRlbS5sZXR0ZXJJZCwgIi8iKS5jb25jYXQoaXRlbS5pZCkpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5hYnJ1cHQoImJyZWFrIiwgNTgpOwoKICAgICAgICAgICAgICBjYXNlIDQzOgogICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gNDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzMC4kcm91dGVyLnB1c2goIi9sZXR0ZXIvYmVmb3JlLWNvbW1pc3Npb24vIi5jb25jYXQoaXRlbS5pZCwgIi8iKS5jb25jYXQoaXRlbS5sZXR0ZXJJZCkpOwoKICAgICAgICAgICAgICBjYXNlIDQ1OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuYWJydXB0KCJicmVhayIsIDU4KTsKCiAgICAgICAgICAgICAgY2FzZSA0NjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDQ4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMzAuJHJvdXRlci5wdXNoKCIvbGV0dGVyL2luY29tZS8iLmNvbmNhdChpdGVtLmxldHRlcklkLCAiLyIpLmNvbmNhdChpdGVtLmlkKSk7CgogICAgICAgICAgICAgIGNhc2UgNDg6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5hYnJ1cHQoImJyZWFrIiwgNTgpOwoKICAgICAgICAgICAgICBjYXNlIDQ5OgogICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gNTE7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzMC4kcm91dGVyLnB1c2goIi9sZXR0ZXIvYmVmb3JlLWNvbW1pc3Npb24vIi5jb25jYXQoaXRlbS5pZCwgIi8iKS5jb25jYXQoaXRlbS5sZXR0ZXJJZCkpOwoKICAgICAgICAgICAgICBjYXNlIDUxOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuYWJydXB0KCJicmVhayIsIDU4KTsKCiAgICAgICAgICAgICAgY2FzZSA1MjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDU0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMzAuJHJvdXRlci5wdXNoKCIvbGV0dGVyL2JlZm9yZS1jb21taXNzaW9uLyIuY29uY2F0KGl0ZW0uaWQsICIvIikuY29uY2F0KGl0ZW0ubGV0dGVySWQpKTsKCiAgICAgICAgICAgICAgY2FzZSA1NDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LmFicnVwdCgiYnJlYWsiLCA1OCk7CgogICAgICAgICAgICAgIGNhc2UgNTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSA1NzsKICAgICAgICAgICAgICAgIHJldHVybiBjbmZEb2MoX3RoaXMzMC4kdCgiZG9jQ29uZmlybSIpKS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgICAgICAgICAgICBpZiAocnMudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczMwLnNpZ25hdHVyZU1vZGFsID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNTc6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5hYnJ1cHQoImJyZWFrIiwgNTgpOwoKICAgICAgICAgICAgICBjYXNlIDU4OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuYWJydXB0KCJicmVhayIsIDg3KTsKCiAgICAgICAgICAgICAgY2FzZSA1OToKICAgICAgICAgICAgICAgIF90aGlzMzAuY3VycmVudEl0ZW0gPSBpdGVtOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNC50MyA9IGl0ZW0uc3RhdHVzOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gNjM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2MzoKICAgICAgICAgICAgICAgIF90aGlzMzAubWFrZUFncmVlKGl0ZW0pOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LmFicnVwdCgiYnJlYWsiLCA2NSk7CgogICAgICAgICAgICAgIGNhc2UgNjU6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5hYnJ1cHQoImJyZWFrIiwgODcpOwoKICAgICAgICAgICAgICBjYXNlIDY2OgogICAgICAgICAgICAgICAgX3RoaXMzMC5jdXJyZW50SXRlbSA9IGl0ZW07CiAgICAgICAgICAgICAgICBfY29udGV4dDI0LnQ0ID0gaXRlbS5zdGF0dXM7CiAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSBfY29udGV4dDI0LnQ0ID09PSAnU0VORF9GT1JfQ09NTUlTU0lPTicgPyA3MCA6IF9jb250ZXh0MjQudDQgPT09ICdTRU5UX1RPX01BTkFHRU1FTlQnID8gNzIgOiBfY29udGV4dDI0LnQ0ID09PSAnU0VOVF9GT1JfUkVKRUNUJyA/IDc0IDogX2NvbnRleHQyNC50NCA9PT0gJ1RPX0lOVk9LRV9TSUdORUQnID8gNzYgOiBfY29udGV4dDI0LnQ0ID09PSAnU0VORF9TRUVOX0NMT1NFRCcgPyA3OCA6IF9jb250ZXh0MjQudDQgPT09ICdGSU5JU0hfTEVUVEVSX1NJR05fQU5EX1NFTkQnID8gODEgOiA4NDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDcwOgogICAgICAgICAgICAgICAgX3RoaXMzMC5tYWtlUmV2aWV3Rm9yQ29tbWlzc2lvbihpdGVtKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5hYnJ1cHQoImJyZWFrIiwgODYpOwoKICAgICAgICAgICAgICBjYXNlIDcyOgogICAgICAgICAgICAgICAgX3RoaXMzMC5tYWtlUmV2aWV3Rm9yQ29tbWlzc2lvbldpdGhDb21tZW50KGl0ZW0pOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LmFicnVwdCgiYnJlYWsiLCA4Nik7CgogICAgICAgICAgICAgIGNhc2UgNzQ6CiAgICAgICAgICAgICAgICBfdGhpczMwLnVwbG9hZFJlamVjdExldHRlcihpdGVtKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5hYnJ1cHQoImJyZWFrIiwgODYpOwoKICAgICAgICAgICAgICBjYXNlIDc2OgogICAgICAgICAgICAgICAgX3RoaXMzMC5tYWtlUmV2aWV3TGV0dGVyKGl0ZW0pOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LmFicnVwdCgiYnJlYWsiLCA4Nik7CgogICAgICAgICAgICAgIGNhc2UgNzg6CiAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSA4MDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMwLmNuZigpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgICAgICAgICAgIGlmIChycy52YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIFNlcnZpY2UubWFrZUFncmVlZExldHRlclRvQ2xvc2VkKGl0ZW0uaWQpLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMigpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wRGF0YTsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjIkKF9jb250ZXh0MjIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjIucHJldiA9IF9jb250ZXh0MjIubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIF90aGlzMzAuc2VsZWN0ZWRUckl0ZW0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzMC5zdWNjZXNzU2F2ZWQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMwLmdldExpc3QodHJ1ZSwgdGVtcERhdGEuaWQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMzAuZ2V0SW5jb21lVG90YWxDb3VudCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyMik7CiAgICAgICAgICAgICAgICAgICAgfSkpKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgODA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5hYnJ1cHQoImJyZWFrIiwgODYpOwoKICAgICAgICAgICAgICBjYXNlIDgxOgogICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gODM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzMC5jbmYoKS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgICAgICAgICAgICBpZiAocnMudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICBTZXJ2aWNlLm1ha2VWaWV3ZWRMZXR0ZXJUb0ZpbmlzaChpdGVtLmlkKS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjMoKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcERhdGE7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIzJChfY29udGV4dDIzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIzLnByZXYgPSBfY29udGV4dDIzLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpczMwLnNlbGVjdGVkVHJJdGVtKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMzAuc3VjY2Vzc1NhdmVkKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzMC5nZXRMaXN0KHRydWUsIHRlbXBEYXRhLmlkKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMwLmdldEluY29tZVRvdGFsQ291bnQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMjMpOwogICAgICAgICAgICAgICAgICAgIH0pKSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDgzOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuYWJydXB0KCJicmVhayIsIDg2KTsKCiAgICAgICAgICAgICAgY2FzZSA4NDoKICAgICAgICAgICAgICAgIF90aGlzMzAubWFrZVJldmlldyhpdGVtKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5hYnJ1cHQoImJyZWFrIiwgODYpOwoKICAgICAgICAgICAgICBjYXNlIDg2OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuYWJydXB0KCJicmVhayIsIDg3KTsKCiAgICAgICAgICAgICAgY2FzZSA4NzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIF90aGlzMzEgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLiRyZWZzLmFkZFJlZi5jaGVja1ZhbGlkaXR5KCkpIHsKICAgICAgICBTZXJ2aWNlLnVwbG9hZCh0aGlzLiRyZWZzLmFkZFJlZi5mb3JtKS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgICAgaWYgKHJzLmRhdGEpIHsKICAgICAgICAgICAgX3RoaXMzMS5nZXRMaXN0KCk7CgogICAgICAgICAgICB2YXIgcm91dGVEYXRhID0gX3RoaXMzMS4kcm91dGVyLnJlc29sdmUoewogICAgICAgICAgICAgIG5hbWU6ICJPZmZpY2UtRE9DVU1FTlQtY29tbWlzc2lvbiIsCiAgICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICAgIHBhZ2U6ICJHRVQiLAogICAgICAgICAgICAgICAgaWQ6IHJzLmRhdGEuaWQKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgd2luZG93Lm9wZW4ocm91dGVEYXRhLmhyZWYsICJfYmxhbmsiKTsKICAgICAgICAgICAgX3RoaXMzMS5pc01vZGFsID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lbnRlckluZm8oKTsKICAgICAgfQogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB0aGlzLmlzTW9kYWwgPSB0cnVlOwogICAgfSwKICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpczMyID0gdGhpczsKCiAgICAgIHZhciByZXNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7CiAgICAgIHZhciByZXNldElkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIFNlcnZpY2UuZ2V0TGlzdExldHRlckluY29tZSh0aGlzLnBhcmFtcywgdGhpcy5hY3RpdmUpLnRoZW4oZnVuY3Rpb24gKF9yZWYxOCkgewogICAgICAgIHZhciBkYXRhID0gX3JlZjE4LmRhdGE7CiAgICAgICAgX3RoaXMzMi5saXN0ID0gZGF0YS5saXN0OwogICAgICAgIF90aGlzMzIudG90YWwgPSBkYXRhLnRvdGFsOwoKICAgICAgICBpZiAocmVzZXQpIHsKICAgICAgICAgIHZhciBuZXdkYXRhID0gX3RoaXMzMi5saXN0LmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIGUuaWQgPT09IHJlc2V0SWQ7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczMyLnNlbGVjdGVkVHJJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgbmV3ZGF0YSk7IC8vIHRoaXMuJGZvcmNlVXBkYXRlKCk7CgogICAgICAgICAgX3RoaXMzMi5nZXRSZWNlaXZlcnMoX3RoaXMzMi5zZWxlY3RlZFRySXRlbSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7Ly8gdGhpcy5jYXRjaEVycihlcnIpOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgdXBsb2FkUmVqZWN0TGV0dGVyOiBmdW5jdGlvbiB1cGxvYWRSZWplY3RMZXR0ZXIoaXRlbSkgewogICAgICB2YXIgX3RoaXMzMyA9IHRoaXM7CgogICAgICB0aGlzLmNuZigpLnRoZW4oZnVuY3Rpb24gKF9yZWYxOSkgewogICAgICAgIHZhciB2YWx1ZSA9IF9yZWYxOS52YWx1ZTsKCiAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICBTZXJ2aWNlLnVwbG9hZFJlamVjdExldHRlcihpdGVtLmxldHRlcklkLCAnTEVUVEVSX1JFSkVDVCcsICJSYWQgZXRpc2ggeGF0aSIpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgICAgIHZhciByb3V0ZURhdGEgPSBfdGhpczMzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgICAgICAgbmFtZTogIk9mZmljZS1ET0NVTUVOVC1jb21taXNzaW9uIiwKICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgaWQ6IHJzLmRhdGEuaWQsCiAgICAgICAgICAgICAgICBwYWdlOiAiR0VUIgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczMzLmdldExpc3QoKTsKCiAgICAgICAgICAgIF90aGlzMzMuZ2V0SW5jb21lVG90YWxDb3VudCgpOwoKICAgICAgICAgICAgd2luZG93Lm9wZW4ocm91dGVEYXRhLmhyZWYsICJfYmxhbmsiKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["income.vue"],"names":[],"mappings":";;;;;;;AACA,OAAA,OAAA,MAAA,kBAAA;AACA,SAAA,MAAA,EAAA,cAAA,QAAA,UAAA;AACA,OAAA,QAAA,MAAA,iBAAA;AACA,OAAA,SAAA,MAAA,iBAAA;AACA,OAAA,MAAA,MAAA,4BAAA;AACA,OAAA,KAAA,MAAA,qBAAA;AACA,OAAA,aAAA,MAAA,kCAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,QAAA,EAAA,QAAA;AAAA,IAAA,SAAA,EAAA,SAAA;AAAA,IAAA,MAAA,EAAA,MAAA;AAAA,IAAA,KAAA,EAAA;AAAA,GADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,WAAA,OAAA;AACA,KAHA;AAIA,IAAA,WAJA,uBAIA,CAJA,EAIA;AACA,WAAA,OAAA;AACA;AANA,GAFA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA,MAAA,iBAAA,EAAA,KADA;AAEA,MAAA,cAAA,EAAA,IAFA;AAGA,MAAA,aAAA,EAAA,KAHA;AAIA,MAAA,cAAA,EAAA,IAJA;AAKA,MAAA,kBAAA,EAAA,KALA;AAMA,MAAA,iBAAA,EAAA,KANA;AAOA,MAAA,iBAAA,EAAA,EAPA;AAQA,MAAA,gBAAA,EAAA,IARA;AASA,MAAA,iBAAA,EAAA,EATA;AAUA,MAAA,wBAAA,EAAA,IAVA;AAWA,MAAA,qBAAA,EAAA,KAXA;AAYA,MAAA,eAAA,EAAA,EAZA;AAaA,MAAA,gBAAA,EAAA,KAbA;AAcA,MAAA,WAAA,EAAA,CAdA;AAeA,MAAA,GAAA,EAAA,IAfA;AAgBA,MAAA,QAAA,EAAA,SAhBA;AAiBA,MAAA,cAAA,EAAA,EAjBA;AAkBA,MAAA,cAAA,EAAA,EAlBA;AAmBA,MAAA,MAAA,EAAA,EAnBA;AAoBA,MAAA,YAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,cAAA,CADA;AAEA,QAAA,KAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,cAAA,CADA;AAEA,QAAA,KAAA,EAAA;AAFA,OALA,EASA;AACA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,WAAA,CADA;AAEA,QAAA,KAAA,EAAA;AAFA,OATA,CApBA;AAkCA,MAAA,KAAA,EAAA,KAAA,EAAA,CAAA,UAAA,CAlCA;AAmCA,MAAA,KAAA,EAAA,CACA;AACA,QAAA,IAAA,EAAA,KAAA,EAAA,CAAA,MAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,IAAA,EAAA,KAAA,EAAA,CAAA,UAAA,CADA;AAEA,QAAA,MAAA,EAAA;AAFA,OALA,CAnCA;AA6CA,MAAA,IAAA,EAAA,EA7CA;AA8CA,MAAA,WAAA,EAAA,EA9CA;AA+CA,MAAA,IAAA,EAAA,CA/CA;AAgDA,MAAA,KAAA,EAAA,EAhDA;AAiDA,MAAA,OAAA,EAAA,KAjDA;AAkDA,MAAA,KAAA,EAAA,CAlDA;AAmDA,MAAA,OAAA,EAAA,KAnDA;AAoDA,MAAA,WAAA,EAAA,EApDA;AAqDA,MAAA,cAAA,EAAA,KArDA;AAsDA,MAAA,YAAA,EAAA,KAtDA;AAuDA,MAAA,WAAA,EAAA,KAvDA;AAwDA,MAAA,cAAA,EAAA,CAxDA;AAyDA,MAAA,cAAA,EAAA,CAzDA;AA0DA,MAAA,WAAA,EAAA,CA1DA;AA2DA,MAAA,cAAA,EAAA,KA3DA;AA4DA,MAAA,QAAA,EAAA,EA5DA;AA6DA,MAAA,YAAA,EAAA,EA7DA;AA8DA,MAAA,cAAA,EAAA,KA9DA;AA+DA,MAAA,eAAA,EAAA,KA/DA;AAgEA,MAAA,SAAA,EAAA,KAhEA;AAiEA,MAAA,SAAA,EAAA,EAjEA;AAkEA,MAAA,gBAAA,EAAA,EAlEA;AAmEA,MAAA,qBAAA,EAAA,KAnEA;AAoEA,MAAA,SAAA,EAAA,KApEA;AAqEA,MAAA,eAAA,EAAA,IArEA;AAsEA,MAAA,cAAA,EAAA,KAtEA;AAuEA,MAAA,MAAA,EAAA,IAvEA;AAwEA,MAAA,SAAA,EAAA,KAxEA;AAyEA,MAAA,MAAA,EAAA,KAzEA;AA0EA,MAAA,WAAA,EAAA,EA1EA;AA2EA,MAAA,IAAA,EAAA;AACA,QAAA,GAAA,EAAA,OAAA,CAAA,kBAAA;AADA,OA3EA;AA8EA,MAAA,oBAAA,EAAA;AACA,QAAA,KAAA,EAAA,KADA;AAEA,QAAA,OAAA,EAAA,EAFA;AAGA,QAAA,MAAA,EAAA;AAHA;AA9EA,KAAA;AAoFA,GA/FA;AAgGA,EAAA,OAhGA,qBAgGA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,OAAA,EADA;;AAAA;AAAA;AAAA,qBAEA,KAAA,CAAA,mBAAA,EAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,GAnGA;AAoGA,EAAA,QAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,aAAA;AACA,QAAA,MAAA,EAAA;AACA,UAAA,YAAA,EAAA,KAAA,KADA;AAEA,UAAA,IAAA,EAAA,KAAA,IAAA,GAAA;AAFA,SADA;AAKA,QAAA,MAAA,EAAA,KAAA;AALA,OAAA;AAOA;AATA,GApGA;AAgHA,EAAA,OAAA,EAAA;AACA,IAAA,uBADA,mCACA,IADA,EACA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,WAAA,kBAAA,GAAA,IAAA;AACA,KAJA;AAKA,IAAA,gBALA,8BAKA;AAAA;;AACA,MAAA,MAAA,CAAA,KAAA,EAAA,CAAA,uBAAA,CAAA,CAAA,CAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,YAAA,EAAA,CAAA,KAAA,EAAA;AACA,UAAA,MAAA,CAAA,iBAAA,GAAA,IAAA;AACA;AACA,OAJA;AAKA,KAXA;AAYA,IAAA,cAZA,0BAYA,IAZA,EAYA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,OADA,GACA;AACA,kBAAA,aAAA,EAAA,IAAA,CAAA,OADA;AAEA,kBAAA,GAAA,EAAA,IAAA,CAAA,GAFA;AAGA,kBAAA,IAAA,EAAA,IAAA,CAAA;AAHA,iBADA;AAAA,+BAMA,MAAA,CAAA,cAAA,CAAA,MANA;AAAA,kDAOA,QAPA;AAAA;;AAAA;AAAA,+BAQA,MAAA,CAAA,cAAA,CAAA,MARA;AAAA,kDASA,kBATA;AAAA;;AAAA;AAAA;AAAA,uBAUA,OAAA,CAAA,eAAA,CAAA,OAAA,EAAA,MAAA,CAAA,cAAA,CAAA,QAAA,EAAA,MAAA,CAAA,cAAA,CAAA,EAAA,EAAA,MAAA,CAAA,iBAAA,EACA,IADA,uEACA;AAAA;AAAA;AAAA;AAAA;AACA,0BAAA,MAAA,CAAA,kBAAA,GAAA,KAAA;AACA,0BAAA,MAAA,CAAA,iBAAA,GAAA,KAAA;;AACA,0BAAA,MAAA,CAAA,WAAA;;AACA,0BAAA,MAAA,CAAA,aAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,IAOA,KAPA,CAOA,UAAA,GAAA,EAAA,CACA;AACA,iBATA,CAVA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAwBA,OAAA,CAAA,6BAAA,CAAA,OAAA,EAAA,MAAA,CAAA,cAAA,CAAA,QAAA,EAAA,MAAA,CAAA,cAAA,CAAA,EAAA,EAAA,MAAA,CAAA,iBAAA,EACA,IADA,uEACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,0BAAA,MAAA,CAAA,kBAAA,GAAA,KAAA;AACA,0BAAA,MAAA,CAAA,iBAAA,GAAA,KAAA;AACA,0BAAA,QAHA,GAGA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,MAAA,CAAA,cAAA,CAHA;AAAA;AAAA,iCAIA,cAAA,CAAA,MAAA,CAAA,EAAA,CAAA,kBAAA,CAAA,CAJA;;AAAA;AAKA,0BAAA,MAAA,CAAA,OAAA;;AACA,0BAAA,MAAA,CAAA,aAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,IASA,KATA,CASA,UAAA,GAAA,EAAA,CACA;AACA,iBAXA,CAxBA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsCA,KAlDA;AAmDA,IAAA,+BAnDA,6CAmDA;AAAA;;AACA,UAAA,KAAA,gBAAA,EAAA;AACA,YAAA,KAAA,cAAA,CAAA,MAAA,KAAA,QAAA,IACA,KAAA,cAAA,CAAA,wBAAA,KAAA,OADA,IAEA,KAAA,cAAA,CAAA,MAAA,KAAA,oBAFA,IAGA,KAAA,cAAA,CAAA,WAAA,KAAA,mBAHA,EAGA;AACA,cAAA,CAAA,KAAA,wBAAA,EAAA;AACA,mBAAA,KAAA,MAAA,CAAA,KAAA,EAAA,CAAA,+BAAA,CAAA,EAAA;AAAA,cAAA,IAAA,EAAA;AAAA,aAAA,CAAA;AACA;;AACA,UAAA,OAAA,CAAA,iCAAA,CAAA,KAAA,cAAA,CAAA,EAAA,EAAA,KAAA,gBAAA,EAAA,KAAA,iBAAA,EAAA,KAAA,wBAAA,EACA,IADA,uEACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACA,cAAA,CAAA,MAAA,CAAA,EAAA,CAAA,kBAAA,CAAA,CADA;;AAAA;AAEA,oBAAA,MAAA,CAAA,WAAA;;AACA,oBAAA,MAAA,CAAA,aAAA;;AACA,oBAAA,MAAA,CAAA,cAAA,GAAA,KAAA;AACA,oBAAA,MAAA,CAAA,gBAAA,GAAA,KAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADA,IAQA,KARA,CAQA,UAAA,GAAA,EAAA,CACA;AACA,WAVA,EAWA,OAXA,CAWA,YAAA;AACA,YAAA,MAAA,CAAA,cAAA,GAAA,KAAA;AACA,YAAA,MAAA,CAAA,gBAAA,GAAA,KAAA;AACA,WAdA;AAeA,SAtBA,MAsBA;AACA,eAAA,cAAA,GAAA,IAAA;AACA;AACA,OA1BA,MA0BA;AACA,aAAA,MAAA,CAAA,KAAA,EAAA,CAAA,+BAAA,CAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA;AACA,KAjFA;AAkFA,IAAA,0BAlFA,sCAkFA,GAlFA,EAkFA;AACA,UAAA,QAAA,GAAA,KAAA,eAAA,CAAA,IAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,EAAA,IAAA,GAAA;AAAA,OAAA,CAAA;;AACA,UAAA,QAAA,EAAA;AACA,yBAAA,KAAA,OAAA,CAAA;AACA,UAAA,MAAA,EAAA,QAAA,CAAA,MADA;AAEA,UAAA,MAAA,EAAA,QAAA,CAAA,MAFA;AAGA,UAAA,MAAA,EAAA,QAAA,CAAA;AAHA,SAAA,CAAA;AAMA;;AACA;AACA,KA7FA;AA8FA,IAAA,UA9FA,sBA8FA,IA9FA,EA8FA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,KAhGA;AAiGA,IAAA,OAjGA,qBAiGA;AAAA;;AACA,UAAA,IAAA,GAAA,KAAA,KAAA,CAAA,SAAA,CAAA,IAAA;AACA,WAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,IAAA;AACA,MAAA,OAAA,CAAA,cAAA,CAAA,KAAA,cAAA,CAAA,QAAA,EAAA,IAAA,EACA,IADA,CACA,YAAA;AACA,YAAA,QAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,MAAA,CAAA,cAAA,CAAA;;AACA,QAAA,MAAA,CAAA,aAAA;;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,IAAA,EAAA,QAAA,CAAA,EAAA;;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,KAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAZA,EAaA,KAbA,CAaA,UAAA,CAAA,EAAA,CACA,CAdA,EAeA,OAfA,CAeA,YAAA;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,KAAA;AACA,OAjBA;AAkBA,KAtHA;AAuHA,IAAA,cAvHA,4BAuHA;AAAA;;AACA,WAAA,KAAA,CAAA,YAAA,CAAA,UAAA,CAAA,IAAA;AACA,WAAA,qBAAA,GAAA,IAAA;AACA,WAAA,SAAA,GAAA,IAAA;AACA,WAAA,MAAA,GAAA,IAAA;AAEA,MAAA,OAAA,CAAA,OAAA,CAAA,KAAA,WAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA;AACA,SAFA,EAEA,GAFA,CAAA;AAGA,OALA,EAMA,OANA,CAMA,YAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,KAAA;;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,YAAA,CAAA,UAAA,CAAA,KAAA;AACA,OATA;AAUA,KAvIA;AAwIA,IAAA,UAxIA,sBAwIA,IAxIA,EAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,KArJA;AAsJA,IAAA,WAtJA,uBAsJA,cAtJA,EAsJA;AACA;AACA;AACA;AACA;AACA,UAAA,SAAA,GAAA,KAAA,OAAA,CAAA,OAAA,CAAA;AACA,QAAA,IAAA,EAAA,cAAA,CAAA,WAAA,KAAA,YAAA,GAAA,oBAAA,GAAA,cADA;AAEA,QAAA,KAAA,EAAA;AAAA,UAAA,IAAA,EAAA,UAAA;AAAA,UAAA,EAAA,EAAA,cAAA,CAAA;AAAA;AAFA,OAAA,CAAA;AAIA,MAAA,MAAA,CAAA,IAAA,CAAA,SAAA,CAAA,IAAA,EAAA,QAAA;AACA,KAhKA;AAiKA,IAAA,SAjKA,qBAiKA,IAjKA,EAiKA;AAAA;;AACA,UAAA,GAAA,GAAA,KAAA,MAAA,CAAA,IAAA,CAAA,UAAA,GAAA,IAAA,CAAA,UAAA,GAAA,IAAA,CAAA,GAAA,CAAA;;AACA,UAAA,GAAA,KAAA,KAAA,EAAA;AACA,aAAA,eAAA,GAAA,IAAA,CAAA,UAAA,GAAA,IAAA,CAAA,UAAA,GAAA,IAAA,CAAA,GAAA;AACA,aAAA,cAAA,GAAA,IAAA;AACA,OAHA,MAGA;AACA,aAAA,YAAA,CAAA,IAAA,EAAA,IAAA,CAAA,UAAA,UAAA,EAAA;AACA,cAAA,UAAA,EAAA;AACA,YAAA,MAAA,CAAA,eAAA,GAAA,UAAA;AACA,YAAA,MAAA,CAAA,cAAA,GAAA,IAAA;AACA;AACA,SALA;AAMA;AACA,KA9KA;AA+KA,IAAA,cA/KA,0BA+KA,QA/KA,EA+KA;AACA,UAAA,SAAA,GAAA,KAAA,OAAA,CAAA,OAAA,CAAA;AACA,QAAA,IAAA,EAAA,4BADA;AAEA,QAAA,KAAA,EAAA;AAAA,UAAA,EAAA,EAAA,QAAA;AAAA,UAAA,IAAA,EAAA;AAAA;AAFA,OAAA,CAAA;AAIA,MAAA,MAAA,CAAA,IAAA,CAAA,SAAA,CAAA,IAAA,EAAA,QAAA;AACA,KArLA;AAsLA,IAAA,gBAtLA,4BAsLA,UAtLA,EAsLA;AACA,UAAA,KAAA,MAAA,CAAA,UAAA,MAAA,KAAA,EAAA;AACA,aAAA,eAAA,GAAA,UAAA;AACA,aAAA,cAAA,GAAA,IAAA;AACA;AACA,KA3LA;AA4LA,IAAA,YA5LA,wBA4LA,YA5LA,EA4LA;AAAA;;AAAA,UAAA,OAAA,uEAAA,KAAA;AACA,aAAA,IAAA,OAAA,CAAA,UAAA,GAAA,EAAA,GAAA,EAAA;AACA,YAAA,MAAA,GAAA;AACA,UAAA,GAAA,YAAA,YAAA,CAAA,GAAA,CADA;AAEA,UAAA,UAAA,EAAA,MAFA;AAGA,UAAA,OAAA,EAAA,OAHA;AAIA,UAAA,GAAA,EAAA,YAAA,CAAA;AAJA,SAAA;AAMA,QAAA,OAAA,CAAA,iBAAA,CAAA,MAAA,EACA,IADA,CACA,UAAA,EAAA,EAAA;AACA,cAAA,EAAA,CAAA,IAAA,CAAA,UAAA,EAAA;AACA,YAAA,MAAA,CAAA,SAAA,CAAA,YAAA;AACA,cAAA,MAAA,CAAA,GAAA,aAAA,MAAA,CAAA,OAAA,cAAA,EAAA,CAAA,IAAA,CAAA,UAAA;AACA,aAFA;;AAGA,YAAA,GAAA,CAAA,EAAA,CAAA,IAAA,CAAA,UAAA,CAAA;AACA,WALA,MAKA;AACA,YAAA,GAAA,CAAA,KAAA,CAAA;AACA;AACA,SAVA,EAWA,KAXA,CAWA,UAAA,CAAA,EAAA;AACA;AACA,UAAA,GAAA,CAAA,CAAA,CAAA;AACA,SAdA;AAeA,OAtBA,CAAA;AAuBA,KApNA;AAqNA,IAAA,aArNA,2BAqNA;AAAA;;AACA,MAAA,OAAA,CAAA,aAAA,CAAA,KAAA,cAAA,CAAA,QAAA,EACA,IADA,CACA,UAAA,EAAA,EAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,EAAA,CAAA,IAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,IAAA;;AACA,QAAA,MAAA,CAAA,YAAA,CAAA,EAAA,CAAA,IAAA,EAAA,IAAA,CAAA,UAAA,UAAA,EAAA;AACA,cAAA,CAAA,UAAA,EAAA;AACA,YAAA,UAAA,CAAA,YAAA;AACA,cAAA,MAAA,CAAA,YAAA,CAAA,EAAA,CAAA,IAAA,EACA,IADA,CACA,YAAA;AACA,gBAAA,MAAA,CAAA,SAAA,GAAA,KAAA;AACA,eAHA,EAIA,KAJA,CAIA,UAAA,CAAA,EAAA;AACA,gBAAA,MAAA,CAAA,SAAA,GAAA,KAAA;AACA,eANA;AAOA,aARA,EAQA,IARA,CAAA;AASA,WAVA,MAUA;AACA,YAAA,MAAA,CAAA,SAAA,GAAA,KAAA;AACA;AACA,SAdA;AAeA,OAnBA,EAoBA,KApBA,CAoBA,UAAA,CAAA,EAAA,CACA,CArBA;AAsBA,KA5OA;AA6OA,IAAA,UA7OA,wBA6OA;AAAA;;AACA,WAAA,qBAAA,GAAA,IAAA;AACA,WAAA,SAAA,GAAA,IAAA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,MAAA,OAAA,CAAA,iBAAA,CAAA,KAAA,cAAA,CAAA,QAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,OAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA;AACA,SAFA,EAEA,GAFA,CAAA;AAGA,OALA,EAMA,OANA,CAMA,YAAA;AACA,QAAA,OAAA,CAAA,SAAA,GAAA,KAAA;AACA,OARA;AASA,KA1PA;AA2PA,IAAA,mBA3PA,iCA2PA;AACA;AACA;AACA,WAAA,UAAA;AACA,KA/PA;AAgQA,IAAA,cAhQA,0BAgQA,IAhQA,EAgQA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,KAlQA;AAmQA,IAAA,oBAnQA,gCAmQA,EAnQA,EAmQA;AAAA;;AACA,MAAA,OAAA,CAAA,oBAAA,CAAA,EAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA;AACA,OAFA;AAGA,KAvQA;AAwQA,IAAA,2BAxQA,uCAwQA,IAxQA,EAwQA;AAAA;;AACA,MAAA,OAAA,CAAA,wBAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,gBAAA,GAAA,GAAA,CAAA,IAAA;AACA,OAFA;AAGA,KA5QA;AA6QA,IAAA,YA7QA,wBA6QA,OA7QA,EA6QA;AAAA;;AACA,WAAA,YAAA,CAAA,KAAA,cAAA,EAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,QAAA,OAAA,CAAA,cAAA,GAAA,IAAA;AACA,QAAA,OAAA,CAAA,YAAA,CACA,OAAA,CAAA,cAAA,CAAA,QADA,EAEA,OAAA,CAAA,cAAA,CAAA,EAFA,EAGA,OAAA,CAAA,cAHA,EAIA,OAJA,EAMA,IANA,uEAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,kBAAA,OAAA,CAAA,eAAA,GAAA,KAAA;AACA,kBAAA,QAFA,GAEA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA,CAAA,cAAA,CAFA;AAAA;AAAA,yBAGA,OAAA,CAAA,YAAA,EAHA;;AAAA;AAAA;AAAA,yBAIA,OAAA,CAAA,OAAA,CAAA,IAAA,EAAA,QAAA,CAAA,EAAA,CAJA;;AAAA;AAAA;AAAA,yBAKA,OAAA,CAAA,mBAAA,EALA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SANA,IAmBA,OAnBA,CAmBA,YAAA;AACA,UAAA,OAAA,CAAA,cAAA,GAAA,KAAA;AACA,SArBA;AAsBA,OAxBA;AAyBA,KAvSA;AAwSA,IAAA,cAxSA,4BAwSA;AAAA;;AACA,WAAA,GAAA,GAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,YAAA,EAAA,CAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,OAAA,CAAA,IAAA,6BAAA,OAAA,CAAA,cAAA,CAAA,EAAA,cAAA,OAAA,CAAA,cAAA,CAAA,QAAA;AACA;AACA,OAJA;AAKA,KA9SA;AA+SA,IAAA,iBA/SA,+BA+SA;AACA,cAAA,KAAA,cAAA,CAAA,MAAA;AACA,aAAA,WAAA;AACA,kBAAA,KAAA,cAAA,CAAA,MAAA;AACA,iBAAA,qBAAA;AACA,mBAAA,cAAA;AACA;;AACA;AACA,mBAAA,eAAA,GAAA,IAAA;AACA;AANA;;AAQA;;AACA,aAAA,QAAA;AACA,kBAAA,KAAA,cAAA,CAAA,MAAA;AACA,iBAAA,kBAAA;AACA,mBAAA,qBAAA,CAAA,KAAA,cAAA;AACA;;AACA;AACA,mBAAA,eAAA,GAAA,IAAA;AACA;AANA;;AAQA;;AACA;AACA,eAAA,eAAA,GAAA,IAAA;AACA;AAvBA;AAyBA,KAzUA;AA0UA,IAAA,aA1UA,2BA0UA;AACA,WAAA,SAAA,GAAA,IAAA;AACA,KA5UA;AA6UA,IAAA,mBA7UA,iCA6UA;AAAA;;AACA,MAAA,OAAA,CAAA,mBAAA,GAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,QAAA,OAAA,CAAA,cAAA,GAAA,EAAA,CAAA,IAAA,CAAA,SAAA;AACA,QAAA,OAAA,CAAA,WAAA,GAAA,EAAA,CAAA,IAAA,CAAA,MAAA;AACA,QAAA,OAAA,CAAA,cAAA,GAAA,EAAA,CAAA,IAAA,CAAA,SAAA;AACA,OAJA;AAKA,KAnVA;AAoVA,IAAA,WApVA,uBAoVA,IApVA,EAoVA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,OADA,GACA;AACA,kBAAA,aAAA,EAAA,IAAA,CAAA,OADA;AAEA,kBAAA,GAAA,EAAA,IAAA,CAAA,GAFA;AAGA,kBAAA,IAAA,EAAA,IAAA,CAAA;AAHA,iBADA;;AAAA,qBAMA,OAAA,CAAA,eANA;AAAA;AAAA;AAAA;;AAOA,gBAAA,OAAA,CAAA,WAAA,GAAA,KAAA;AACA,gBAAA,OAAA,CAAA,cAAA,GAAA,KAAA;;AACA,gBAAA,OAAA,CAAA,YAAA,CAAA,OAAA;;AATA;AAAA;;AAAA;AAAA,gCAWA,OAAA,CAAA,cAAA,CAAA,MAXA;AAAA,oDAYA,iBAZA,0BAgCA,YAhCA,0BA8DA,qBA9DA;AAAA;;AAAA;AAaA,gBAAA,OAAA,CAAA,WAAA,CAAA,OAAA,EAAA,OAAA,CAAA,cAAA,CAAA,EAAA,EACA,IADA,uEACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,0BAAA,OAAA,CAAA,WAAA,GAAA,KAAA;AACA,0BAAA,OAAA,CAAA,cAAA,GAAA,KAAA;AACA,0BAAA,QAHA,GAGA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA,CAAA,cAAA,CAHA;AAAA;AAAA,iCAIA,cAAA,CAAA,OAAA,CAAA,EAAA,CAAA,kBAAA,CAAA,CAJA;;AAAA;AAAA;AAAA,iCAKA,OAAA,CAAA,OAAA,CAAA,IAAA,EAAA,QAAA,CAAA,EAAA,CALA;;AAAA;AAAA;AAAA,iCAMA,OAAA,CAAA,mBAAA,EANA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,IAeA,KAfA,CAeA,UAAA,GAAA,EAAA,CACA;AACA,iBAjBA;AAbA;;AAAA;AAAA;AAAA,uBAiCA,OAAA,CAAA,WAAA,CAAA,OAAA,EAAA,OAAA,CAAA,cAAA,CAAA,EAAA,EACA,IADA,uEACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACA,OAAA,CAAA,oBAAA,CAAA,OAAA,EAAA,OAAA,CAAA,cAAA,CAAA,EAAA,EACA,IADA,uEACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADA,IAKA,KALA,CAKA,UAAA,GAAA,EAAA;AACA,4BAAA,OAAA,CAAA,QAAA,CAAA,GAAA;AACA,2BAPA,CADA;;AAAA;AAUA,0BAAA,OAAA,CAAA,WAAA,GAAA,KAAA;AACA,0BAAA,OAAA,CAAA,cAAA,GAAA,KAAA;AACA,0BAAA,QAZA,GAYA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA,CAAA,cAAA,CAZA;AAAA;AAAA,iCAaA,cAAA,CAAA,OAAA,CAAA,EAAA,CAAA,kBAAA,CAAA,CAbA;;AAAA;AAAA;AAAA,iCAcA,OAAA,CAAA,OAAA,CAAA,IAAA,EAAA,QAAA,CAAA,EAAA,CAdA;;AAAA;AAAA;AAAA,iCAeA,OAAA,CAAA,mBAAA,EAfA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,IAyBA,KAzBA,CAyBA,UAAA,GAAA,EAAA,CACA;AACA,iBA3BA,CAjCA;;AAAA;AAAA;;AAAA;AA+DA,gBAAA,OAAA,CAAA,OAAA,CAAA,OAAA,EAAA,OAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,CAAA,gBAAA,EAAA,OAAA,CAAA,iBAAA,EACA,IADA,uEACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,0BAAA,OAAA,CAAA,WAAA,GAAA,KAAA;AACA,0BAAA,OAAA,CAAA,cAAA,GAAA,KAAA;AACA,0BAAA,OAAA,CAAA,gBAAA,GAAA,KAAA;AACA,0BAAA,QAJA,GAIA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA,CAAA,cAAA,CAJA;AAAA;AAAA,iCAKA,cAAA,CAAA,OAAA,CAAA,EAAA,CAAA,kBAAA,CAAA,CALA;;AAAA;AAAA;AAAA,iCAMA,OAAA,CAAA,OAAA,CAAA,IAAA,EAAA,QAAA,CAAA,EAAA,CANA;;AAAA;AAAA;AAAA,iCAOA,OAAA,CAAA,mBAAA,EAPA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,IAgBA,KAhBA,CAgBA,UAAA,GAAA,EAAA,CACA;AACA,iBAlBA;AA/DA;;AAAA;AAoFA,gBAAA,OAAA,CAAA,OAAA,CAAA,OAAA,EAAA,OAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,CAAA,gBAAA,EAAA,OAAA,CAAA,iBAAA,EACA,IADA,uEACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,0BAAA,OAAA,CAAA,WAAA,GAAA,KAAA;AACA,0BAAA,OAAA,CAAA,cAAA,GAAA,KAAA;AACA,0BAAA,OAAA,CAAA,gBAAA,GAAA,KAAA;AACA,0BAAA,QAJA,GAIA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA,CAAA,cAAA,CAJA;AAAA;AAAA,iCAKA,cAAA,CAAA,OAAA,CAAA,EAAA,CAAA,kBAAA,CAAA,CALA;;AAAA;AAAA;AAAA,iCAMA,OAAA,CAAA,OAAA,CAAA,IAAA,EAAA,QAAA,CAAA,EAAA,CANA;;AAAA;AAAA;AAAA,iCAOA,OAAA,CAAA,mBAAA,EAPA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,IAgBA,KAhBA,CAgBA,UAAA,GAAA,EAAA,CACA;AACA,iBAlBA;AApFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0GA,KA9bA;AA+bA,IAAA,YA/bA,wBA+bA,IA/bA,EA+bA;AAAA;;AACA,WAAA,cAAA,GAAA,IAAA;AACA,MAAA,OAAA,CAAA,YAAA,CAAA,IAAA,CAAA,QAAA,EACA,IADA,CACA,UAAA,EAAA,EAAA;AACA,QAAA,OAAA,CAAA,QAAA,GAAA,EAAA,CAAA,IAAA;AACA,OAHA,EAIA,OAJA,CAIA,YAAA;AACA,QAAA,OAAA,CAAA,cAAA,GAAA,KAAA;AACA,OANA;AAOA,KAxcA;AAycA,IAAA,eAzcA,6BAycA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,aAAA,CAAA,kBAAA,CAAA,OAAA,CAAA,cAAA,CAAA,oBAAA,EAAA,KAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,kBAAA,OAAA,CAAA,YAAA,GAAA,GAAA,CAAA,IAAA;AACA,iBAHA,EAIA,KAJA,CAIA,UAAA,CAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,iBANA,EAMA,OANA,CAMA,YAAA,CACA,CAPA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KAldA;AAmdA,IAAA,WAndA,uBAmdA,IAndA,EAmdA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,OAAA,CAAA,cAAA,CAAA,EAAA,KAAA,IAAA,CAAA,EADA;AAAA;AAAA;AAAA;;AAEA,gBAAA,OAAA,CAAA,cAAA,GAAA,EAAA;AACA,gBAAA,OAAA,CAAA,QAAA,GAAA,EAAA;AAHA;AAAA;;AAAA;AAKA,gBAAA,OAAA,CAAA,cAAA,GAAA,IAAA;AALA;AAAA,uBAMA,OAAA,CAAA,oBAAA,CAAA,IAAA,CAAA,QAAA,CANA;;AAAA;AAAA;AAAA,uBAOA,OAAA,CAAA,YAAA,CAAA,IAAA,CAPA;;AAAA;AAAA,qBAQA,CAAA,UAAA,EAAA,YAAA,EAAA,QAAA,CAAA,IAAA,CAAA,wBAAA,CARA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBASA,OAAA,CAAA,eAAA,EATA;;AAAA;AAAA;AAAA,uBAUA,OAAA,CAAA,2BAAA,CAAA,IAAA,CAVA;;AAAA;AAAA;AAAA;;AAAA;AAYA,gBAAA,OAAA,CAAA,YAAA,GAAA,EAAA;AACA,gBAAA,OAAA,CAAA,gBAAA,GAAA,EAAA;;AAbA;AAAA,gCAeA,IAAA,CAAA,MAfA;AAAA,oDAgBA,uBAhBA;AAAA;;AAAA;AAiBA,gBAAA,OAAA,CAAA,eAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,kBAAA,OAAA,CAAA,cAAA,GAAA,GAAA,CAAA,IAAA;AACA,iBAFA,EAEA,KAFA,CAEA,UAAA,CAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,iBAJA;AAjBA;;AAAA;AAwBA,gBAAA,OAAA,CAAA,cAAA,GAAA,IAAA;AACA,gBAAA,OAAA,CAAA,cAAA,GAAA,IAAA;AAzBA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6BA,KAhfA;AAifA,IAAA,aAjfA,2BAifA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,KAnfA;AAofA,IAAA,cApfA,0BAofA,CApfA,EAofA;AACA,WAAA,cAAA,GAAA,EAAA;AACA,WAAA,QAAA,GAAA,EAAA;;AACA,UAAA,KAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,MAAA,GAAA,EAAA;AACA,OAFA,MAEA;AACA,aAAA,MAAA,GAAA,CAAA;AACA;;AACA,WAAA,OAAA;AACA,KA7fA;AA8fA,IAAA,SA9fA,qBA8fA,IA9fA,EA8fA;AAAA;;AACA,WAAA,GAAA,GAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,YAAA,EAAA,CAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,SAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,uEAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,oBAAA,QADA,GACA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA,CAAA,cAAA,CADA;AAAA;AAAA,2BAEA,OAAA,CAAA,YAAA,EAFA;;AAAA;AAAA;AAAA,2BAGA,OAAA,CAAA,OAAA,CAAA,IAAA,EAAA,QAAA,CAAA,EAAA,CAHA;;AAAA;AAAA;AAAA,2BAIA,OAAA,CAAA,mBAAA,EAJA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAA;AAYA;AACA,OAfA;AAgBA,KA/gBA;AAghBA,IAAA,oBAhhBA,kCAghBA;AAAA;;AAAA,UAAA,QAAA,uEAAA;AAAA,eAAA,EAAA;AAAA,OAAA;AACA,MAAA,OAAA,CAAA,UAAA,CAAA,sCAAA,EAAA,KAAA,0BAAA,EAAA,IAAA,EAAA,IAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,eAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,QAAA;AACA,OAJA,EAKA,KALA,CAKA,UAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,OAPA;AAQA,KAzhBA;AA0hBA,IAAA,uBA1hBA,mCA0hBA,IA1hBA,EA0hBA;AAAA;;AACA,WAAA,GAAA,GAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,YAAA,EAAA,CAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,uBAAA,CAAA,IAAA,CAAA,EAAA,EAAA,IAAA,CAAA,OAAA,EAAA,IAAA,uEAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACA,OAAA,CAAA,YAAA,EADA;;AAAA;AAAA;AAAA,2BAEA,OAAA,CAAA,OAAA,CAAA,IAAA,CAAA,sBAAA,CAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAA;AAaA;AACA,OAhBA;AAiBA,KA5iBA;AA6iBA,IAAA,kCA7iBA,8CA6iBA,IA7iBA,EA6iBA;AAAA;;AACA,UAAA,KAAA,eAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,eAAA,KAAA,oBAAA,CAAA,YAAA;AACA,UAAA,OAAA,CAAA,gBAAA,GAAA,IAAA;AACA,SAFA,CAAA;AAGA;;AACA,WAAA,gBAAA,GAAA,IAAA;AACA,KApjBA;AAqjBA,IAAA,UArjBA,sBAqjBA,IArjBA,EAqjBA;AAAA;;AACA,WAAA,GAAA,GAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,YAAA,EAAA,CAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,UAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,uEAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,oBAAA,QAFA,GAEA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA,CAAA,cAAA,CAFA;AAAA;AAAA,2BAGA,OAAA,CAAA,YAAA,EAHA;;AAAA;AAAA;AAAA,2BAIA,OAAA,CAAA,OAAA,CAAA,IAAA,EAAA,QAAA,CAAA,EAAA,CAJA;;AAAA;AAAA;AAAA,2BAKA,OAAA,CAAA,mBAAA,EALA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAA;AAaA;AACA,OAhBA;AAiBA,KAvkBA;AAwkBA,IAAA,gBAxkBA,4BAwkBA,IAxkBA,EAwkBA;AAAA;;AACA,WAAA,GAAA,GAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,YAAA,EAAA,CAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,gBAAA,CAAA,IAAA,CAAA,EAAA,EAAA,IAAA,uEAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,oBAAA,QADA,GACA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA,CAAA,cAAA,CADA;AAAA;AAAA,2BAEA,OAAA,CAAA,YAAA,EAFA;;AAAA;AAAA;AAAA,2BAGA,OAAA,CAAA,OAAA,CAAA,IAAA,EAAA,QAAA,CAAA,EAAA,CAHA;;AAAA;AAAA;AAAA,2BAIA,OAAA,CAAA,mBAAA,EAJA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAA;AAMA;AACA,OATA;AAUA,KAnlBA;AAolBA,IAAA,aAplBA,2BAolBA;AAAA;;AACA,MAAA,MAAA,CAAA,KAAA,EAAA,CAAA,uBAAA,CAAA,CAAA,CAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,YAAA,EAAA,CAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,cAAA,GAAA,IAAA;AACA;AACA,OAJA;AAKA,KA1lBA;AA2lBA,IAAA,QA3lBA,oBA2lBA,UA3lBA,EA2lBA;AACA,UAAA,KAAA,MAAA,CAAA,UAAA,MAAA,KAAA,EAAA;AACA,aAAA,cAAA,GAAA,UAAA;AACA,aAAA,aAAA,GAAA,IAAA;AACA;AACA,KAhmBA;AAimBA,IAAA,oBAjmBA,gCAimBA,IAjmBA,EAimBA;AACA,WAAA,OAAA,CAAA,IAAA,wCACA,IAAA,CAAA,QADA,cACA,IAAA,CAAA,EADA;AAGA,KArmBA;AAsmBA,IAAA,0BAtmBA,wCAsmBA;AAAA;;AACA,WAAA,GAAA,GAAA,IAAA,CAAA,kBAAA;AAAA,YAAA,KAAA,UAAA,KAAA;;AACA,YAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,oBAAA,CAAA,MAAA,GAAA,IAAA;AACA,UAAA,OAAA,CAAA,0BAAA,CAAA,OAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,CAAA,oBAAA,CAAA,OAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,OAAA,CAAA,OAAA;;AACA,YAAA,OAAA,CAAA,oBAAA,CAAA,MAAA,GAAA,KAAA;AACA,YAAA,OAAA,CAAA,oBAAA,CAAA,KAAA,GAAA,KAAA;AACA,WAJA,EAKA,OALA,CAKA,YAAA;AACA,YAAA,OAAA,CAAA,oBAAA,CAAA,MAAA,GAAA,KAAA;AACA,YAAA,OAAA,CAAA,oBAAA,CAAA,KAAA,GAAA,KAAA;AACA,WARA;AASA;AACA,OAbA;AAcA,KArnBA;AAsnBA,IAAA,qBAtnBA,iCAsnBA,IAtnBA,EAsnBA;AACA,WAAA,kBAAA,GAAA,IAAA;AACA,KAxnBA;AA0nBA,IAAA,gBA1nBA,4BA0nBA,IA1nBA,EA0nBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,IAAA,CAAA,wBAAA,KAAA,UAAA,IAAA,IAAA,CAAA,MAAA,KAAA,WAAA,IACA,IAAA,CAAA,MAAA,KAAA,WAFA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAGA,OAAA,CAAA,qBAAA,CAAA,IAAA,CAAA,QAAA,EAAA,KAAA,EAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,kBAAA,OAAA,CAAA,OAAA,CAAA,IAAA,0BACA,IAAA,CAAA,QADA,cACA,IAAA,CAAA,EADA;AAGA,iBAJA,CAHA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KAnoBA;AAqoBA,IAAA,gBAroBA,4BAqoBA,IAroBA,EAqoBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,IAAA,CAAA,wBAAA,KAAA,UAAA,IAAA,IAAA,CAAA,MAAA,KAAA,WAAA,IACA,IAAA,CAAA,MAAA,KAAA,WAFA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAGA,OAAA,CAAA,qBAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,EAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,kBAAA,OAAA,CAAA,OAAA,CAAA,IAAA,0BACA,IAAA,CAAA,QADA,cACA,IAAA,CAAA,EADA;AAGA,iBAJA,CAHA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KA9oBA;AAgpBA,IAAA,QAhpBA,oBAgpBA,IAhpBA,EAgpBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCACA,IAAA,CAAA,MADA;AAAA,oDAEA,WAFA,yBAmGA,WAnGA,0BA2GA,QA3GA;AAAA;;AAAA;AAGA,gBAAA,OAAA,CAAA,WAAA,GAAA,IAAA;;AAHA,sBAIA,IAAA,CAAA,wBAAA,KAAA,UAJA;AAAA;AAAA;AAAA;;AAAA,gCAKA,IAAA,CAAA,MALA;AAAA,oDAMA,WANA,yBAaA,iBAbA;AAAA;;AAAA;AAAA;AAAA,uBAOA,OAAA,CAAA,qBAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,EAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,kBAAA,OAAA,CAAA,OAAA,CAAA,IAAA,0BACA,IAAA,CAAA,QADA,cACA,IAAA,CAAA,EADA;AAGA,iBAJA,CAPA;;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAcA,OAAA,CAAA,qBAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,EAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,kBAAA,OAAA,CAAA,OAAA,CAAA,IAAA,0BACA,IAAA,CAAA,QADA,cACA,IAAA,CAAA,EADA;AAGA,iBAJA,CAdA;;AAAA;AAAA;;AAAA;AAqBA,gBAAA,MAAA,CAAA,OAAA,CAAA,EAAA,CAAA,YAAA,CAAA,CAAA,CAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,sBAAA,EAAA,CAAA,KAAA,EAAA;AACA,oBAAA,OAAA,CAAA,cAAA,GAAA,IAAA;AACA;AACA,iBAJA;AArBA;;AAAA;AAAA;AAAA;;AAAA;AAAA,sBA4BA,IAAA,CAAA,wBAAA,KAAA,YA5BA;AAAA;AAAA;AAAA;;AAAA,sBA6BA,IAAA,CAAA,QAAA,KAAA,KA7BA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBA8BA,OAAA,CAAA,YAAA,CAAA,IAAA,EAAA,IAAA;AAAA,uFAAA,mBAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCACA,CAAA,CAAA,UADA;AAAA;AAAA;AAAA;;AAEA,4BAAA,OAAA,CAAA,MAAA,CAAA,OAAA,CAAA,EAAA,CAAA,0CAAA,CAAA,EAAA;AAAA,8BAAA,IAAA,EAAA;AAAA,6BAAA;;AAFA;AAAA;;AAAA;AAAA,gCAGA,CAAA,CAAA,UAAA,CAAA,QAAA,CAAA,MAAA,CAHA;AAAA;AAAA;AAAA;;AAIA,4BAAA,OAAA,CAAA,MAAA,CAAA,OAAA,CAAA,EAAA,CAAA,0CAAA,CAAA,EAAA;AAAA,8BAAA,IAAA,EAAA;AAAA,6BAAA;;AAJA;AAAA;;AAAA;AAAA,kCAKA,CAAA,KAAA,UAAA,CAAA,MAAA,GAAA,CALA;AAAA;AAAA;AAAA;;AAAA;AAAA,mCAMA,OAAA,CAAA,qBAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,EAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,8BAAA,OAAA,CAAA,OAAA,CAAA,IAAA,0BACA,IAAA,CAAA,QADA,cACA,IAAA,CAAA,EADA;AAGA,6BAJA,CANA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAA;;AAAA;AAAA;AAAA;AAAA,qBAaA,KAbA,CAaA,UAAA,CAAA;AAAA,yBAAA,OAAA,CAAA,GAAA,CAAA,CAAA,CAAA;AAAA,iBAbA,CA9BA;;AAAA;AAAA;AAAA;;AAAA;AAAA,gCA8CA,IAAA,CAAA,MA9CA;AAAA,oDA+CA,WA/CA,0BAkDA,YAlDA,0BAyDA,gBAzDA,0BAgEA,iBAhEA,0BAmEA,kBAnEA,0BAsEA,mBAtEA,0BA6EA,qBA7EA,0BAgFA,qBAhFA,0BAmFA,uBAnFA,0BAsFA,uBAtFA;AAAA;;AAAA;AAgDA,gBAAA,OAAA,CAAA,OAAA,CAAA,IAAA,0BAAA,IAAA,CAAA,QAAA,cAAA,IAAA,CAAA,EAAA;;AAhDA;;AAAA;AAAA;AAAA,uBAmDA,OAAA,CAAA,qBAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,EAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,kBAAA,OAAA,CAAA,OAAA,CAAA,IAAA,0BACA,IAAA,CAAA,QADA,cACA,IAAA,CAAA,EADA;AAGA,iBAJA,CAnDA;;AAAA;AAAA;;AAAA;AAAA;AAAA,uBA0DA,OAAA,CAAA,qBAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,EAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,kBAAA,OAAA,CAAA,OAAA,CAAA,IAAA,0BACA,IAAA,CAAA,QADA,cACA,IAAA,CAAA,EADA;AAGA,iBAJA,CA1DA;;AAAA;AAAA;;AAAA;AAiEA,gBAAA,OAAA,CAAA,OAAA,CAAA,IAAA,0BAAA,IAAA,CAAA,QAAA,cAAA,IAAA,CAAA,EAAA;;AAjEA;;AAAA;AAAA;AAAA,uBAoEA,OAAA,CAAA,OAAA,CAAA,IAAA,yCAAA,IAAA,CAAA,EAAA,cAAA,IAAA,CAAA,QAAA,EApEA;;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAuEA,OAAA,CAAA,qBAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,EAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,kBAAA,OAAA,CAAA,OAAA,CAAA,IAAA,0BACA,IAAA,CAAA,QADA,cACA,IAAA,CAAA,EADA;AAGA,iBAJA,CAvEA;;AAAA;AAAA;;AAAA;AAAA;AAAA,uBA8EA,OAAA,CAAA,OAAA,CAAA,IAAA,qCAAA,IAAA,CAAA,EAAA,cAAA,IAAA,CAAA,QAAA,EA9EA;;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAiFA,OAAA,CAAA,OAAA,CAAA,IAAA,0BAAA,IAAA,CAAA,QAAA,cAAA,IAAA,CAAA,EAAA,EAjFA;;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAoFA,OAAA,CAAA,OAAA,CAAA,IAAA,qCAAA,IAAA,CAAA,EAAA,cAAA,IAAA,CAAA,QAAA,EApFA;;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAuFA,OAAA,CAAA,OAAA,CAAA,IAAA,qCAAA,IAAA,CAAA,EAAA,cAAA,IAAA,CAAA,QAAA,EAvFA;;AAAA;AAAA;;AAAA;AAAA;AAAA,uBA0FA,MAAA,CAAA,OAAA,CAAA,EAAA,CAAA,YAAA,CAAA,CAAA,CAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,sBAAA,EAAA,CAAA,KAAA,EAAA;AACA,oBAAA,OAAA,CAAA,cAAA,GAAA,IAAA;AACA;AACA,iBAJA,CA1FA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAoGA,gBAAA,OAAA,CAAA,WAAA,GAAA,IAAA;AApGA,gCAqGA,IAAA,CAAA,MArGA;AAAA;AAAA;;AAAA;AAuGA,gBAAA,OAAA,CAAA,SAAA,CAAA,IAAA;;AAvGA;;AAAA;AAAA;;AAAA;AA4GA,gBAAA,OAAA,CAAA,WAAA,GAAA,IAAA;AA5GA,gCA6GA,IAAA,CAAA,MA7GA;AAAA,oDA8GA,qBA9GA,0BAiHA,oBAjHA,0BAoHA,iBApHA,0BAuHA,kBAvHA,0BA0HA,kBA1HA,0BAsIA,6BAtIA;AAAA;;AAAA;AA+GA,gBAAA,OAAA,CAAA,uBAAA,CAAA,IAAA;;AA/GA;;AAAA;AAkHA,gBAAA,OAAA,CAAA,kCAAA,CAAA,IAAA;;AAlHA;;AAAA;AAqHA,gBAAA,OAAA,CAAA,kBAAA,CAAA,IAAA;;AArHA;;AAAA;AAwHA,gBAAA,OAAA,CAAA,gBAAA,CAAA,IAAA;;AAxHA;;AAAA;AAAA;AAAA,uBA2HA,OAAA,CAAA,GAAA,GAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,sBAAA,EAAA,CAAA,KAAA,EAAA;AACA,oBAAA,OAAA,CAAA,wBAAA,CAAA,IAAA,CAAA,EAAA,EAAA,IAAA,uEAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,8BAAA,QADA,GACA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA,CAAA,cAAA,CADA;AAAA;AAAA,qCAEA,OAAA,CAAA,YAAA,EAFA;;AAAA;AAAA;AAAA,qCAGA,OAAA,CAAA,OAAA,CAAA,IAAA,EAAA,QAAA,CAAA,EAAA,CAHA;;AAAA;AAAA;AAAA,qCAIA,OAAA,CAAA,mBAAA,EAJA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAA;AAMA;AACA,iBATA,CA3HA;;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAuIA,OAAA,CAAA,GAAA,GAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,sBAAA,EAAA,CAAA,KAAA,EAAA;AACA,oBAAA,OAAA,CAAA,wBAAA,CAAA,IAAA,CAAA,EAAA,EAAA,IAAA,uEAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,8BAAA,QADA,GACA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA,CAAA,cAAA,CADA;AAAA;AAAA,qCAEA,OAAA,CAAA,YAAA,EAFA;;AAAA;AAAA;AAAA,qCAGA,OAAA,CAAA,OAAA,CAAA,IAAA,EAAA,QAAA,CAAA,EAAA,CAHA;;AAAA;AAAA;AAAA,qCAIA,OAAA,CAAA,mBAAA,EAJA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAA;AAMA;AACA,iBATA,CAvIA;;AAAA;AAAA;;AAAA;AAmJA,gBAAA,OAAA,CAAA,UAAA,CAAA,IAAA;;AAnJA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwJA,KAxyBA;AAyyBA,IAAA,IAzyBA,kBAyyBA;AAAA;;AACA,UAAA,CAAA,KAAA,KAAA,CAAA,MAAA,CAAA,aAAA,EAAA,EAAA;AACA,QAAA,OAAA,CAAA,MAAA,CAAA,KAAA,KAAA,CAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,cAAA,EAAA,CAAA,IAAA,EAAA;AACA,YAAA,OAAA,CAAA,OAAA;;AACA,gBAAA,SAAA,GAAA,OAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AACA,cAAA,IAAA,EAAA,4BADA;AAEA,cAAA,KAAA,EAAA;AAAA,gBAAA,IAAA,EAAA,KAAA;AAAA,gBAAA,EAAA,EAAA,EAAA,CAAA,IAAA,CAAA;AAAA;AAFA,aAAA,CAAA;;AAIA,YAAA,MAAA,CAAA,IAAA,CAAA,SAAA,CAAA,IAAA,EAAA,QAAA;AACA,YAAA,OAAA,CAAA,OAAA,GAAA,KAAA;AACA;AACA,SAVA;AAWA,OAZA,MAYA;AACA,aAAA,SAAA;AACA;AACA,KAzzBA;AA0zBA,IAAA,GA1zBA,iBA0zBA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,KA5zBA;AA6zBA,IAAA,OA7zBA,qBA6zBA;AAAA;;AAAA,UAAA,KAAA,uEAAA,KAAA;AAAA,UAAA,OAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,MAAA,OAAA,CAAA,mBAAA,CAAA,KAAA,MAAA,EAAA,KAAA,MAAA,EACA,IADA,CACA,kBAAA;AAAA,YAAA,IAAA,UAAA,IAAA;AACA,QAAA,OAAA,CAAA,IAAA,GAAA,IAAA,CAAA,IAAA;AACA,QAAA,OAAA,CAAA,KAAA,GAAA,IAAA,CAAA,KAAA;;AACA,YAAA,KAAA,EAAA;AACA,cAAA,OAAA,GAAA,OAAA,CAAA,IAAA,CAAA,IAAA,CAAA,UAAA,CAAA;AAAA,mBAAA,CAAA,CAAA,EAAA,KAAA,OAAA;AAAA,WAAA,CAAA;;AACA,UAAA,OAAA,CAAA,cAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA,CAAA,CAFA,CAGA;;AACA,UAAA,OAAA,CAAA,YAAA,CAAA,OAAA,CAAA,cAAA;AACA;AACA,OAVA,EAWA,KAXA,CAWA,UAAA,GAAA,EAAA,CACA;AACA,OAbA,EAcA,OAdA,CAcA,YAAA;AACA,QAAA,OAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAhBA;AAiBA,KAh1BA;AAi1BA,IAAA,kBAj1BA,8BAi1BA,IAj1BA,EAi1BA;AAAA;;AACA,WAAA,GAAA,GAAA,IAAA,CAAA,kBAAA;AAAA,YAAA,KAAA,UAAA,KAAA;;AACA,YAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,kBAAA,CAAA,IAAA,CAAA,QAAA,EAAA,eAAA,EAAA,gBAAA,EAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,gBAAA,SAAA,GAAA,OAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AACA,cAAA,IAAA,EAAA,4BADA;AAEA,cAAA,KAAA,EAAA;AAAA,gBAAA,EAAA,EAAA,EAAA,CAAA,IAAA,CAAA,EAAA;AAAA,gBAAA,IAAA,EAAA;AAAA;AAFA,aAAA,CAAA;;AAIA,YAAA,OAAA,CAAA,OAAA;;AACA,YAAA,OAAA,CAAA,mBAAA;;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,SAAA,CAAA,IAAA,EAAA,QAAA;AACA,WARA;AASA;AACA,OAZA;AAaA;AA/1BA;AAhHA,CAAA","sourcesContent":["<script>\r\nimport Service from \"../letterService\";\r\nimport { cnfDoc, showMsgSuccess } from \"@/helper\";\r\nimport SignKeys from \"../SignKeys.vue\";\r\nimport Receivers from \"./receivers.vue\";\r\nimport Editor from \"../create/froal.editor.vue\";\r\nimport Modal from \"../create/modal.vue\";\r\nimport helperService from '@/shared/services/helper.service'\r\n\r\nexport default {\r\n  components: { SignKeys, Receivers, Editor, Modal },\r\n  watch: {\r\n    page() {\r\n      this.getList();\r\n    },\r\n    searchValue(v) {\r\n      this.getList();\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      rejectedSeeLoader: false,\r\n      rejectedLetter: null,\r\n      viewFileModal: false,\r\n      fileUploadPath: null,\r\n      isRejectedSeeModal: false,\r\n      signatureSeeModal: false,\r\n      reasonRejectedSee: \"\",\r\n      commissionTypeId: null,\r\n      commissionComment: '',\r\n      commissionCompletionDate: null,\r\n      commissionModalLoader: false,\r\n      commissionTypes: [],\r\n      commissionsModal: false,\r\n      currentPage: 1,\r\n      src: null,\r\n      numPages: undefined,\r\n      reasonRejected: \"\",\r\n      selectedTrItem: {},\r\n      active: \"\",\r\n      sendTypeList: [\r\n        {\r\n          label: this.$t(\"forSignature\"),\r\n          value: \"SIGNATURE\",\r\n        },\r\n        {\r\n          label: this.$t(\"forAgreement\"),\r\n          value: \"AGREEMENT\",\r\n        },\r\n        {\r\n          label: this.$t(\"forReview\"),\r\n          value: \"REVIEW\",\r\n        },\r\n      ],\r\n      title: this.$t(\"received\"),\r\n      items: [\r\n        {\r\n          text: this.$t(\"menu\"),\r\n          href: \"/\",\r\n        },\r\n        {\r\n          text: this.$t(\"received\"),\r\n          active: true,\r\n        },\r\n      ],\r\n      list: [],\r\n      searchValue: \"\",\r\n      page: 1,\r\n      limit: 20,\r\n      loading: false,\r\n      total: 1,\r\n      isModal: false,\r\n      currentItem: {},\r\n      signatureModal: false,\r\n      loaderButton: false,\r\n      isModalKeys: false,\r\n      agreementCount: 0,\r\n      signatureCount: 0,\r\n      reviewCount: 0,\r\n      loaderReceiver: false,\r\n      infoData: {},\r\n      visaInfoById: {},\r\n      rejectedLoader: false,\r\n      isRejectedModal: false,\r\n      viewModal: false,\r\n      filesList: [],\r\n      projectFilesList: [],\r\n      viewModalBeforeSigned: false,\r\n      loaderPdf: false,\r\n      ilovaUploadPath: null,\r\n      viewIlovaModal: false,\r\n      base64: null,\r\n      editModal: false,\r\n      loader: false,\r\n      contextText: \"\",\r\n      icon: {\r\n        pdf: require('@/assets/pdf.png'),\r\n      },\r\n      sendLetterToChairman: {\r\n        modal: false,\r\n        comment: \"\",\r\n        loader: false,\r\n      }\r\n    };\r\n  },\r\n  async created() {\r\n    await this.getList();\r\n    await this.getIncomeTotalCount();\r\n  },\r\n  computed: {\r\n    params() {\r\n      return {\r\n        params: {\r\n          itemsPerPage: this.limit,\r\n          page: this.page - 1,\r\n        },\r\n        search: this.searchValue,\r\n      };\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    showRejectedByRaisModal(item) {\r\n      this.currentItem = item;\r\n      this.isRejectedSeeModal = true;\r\n    },\r\n    rejectSeeConfirm() {\r\n      cnfDoc(this.$t(\"messages.reject_title\")).then((rs) => {\r\n        if (rs.value) {\r\n          this.signatureSeeModal = true;\r\n        }\r\n      });\r\n    },\r\n    async signSuccessSee(data) {\r\n      let payload = {\r\n        signedContent: data.content,\r\n        inn: data.inn,\r\n        pnfl: data.pnfl\r\n      }\r\n      switch (this.selectedTrItem.action) {\r\n        case 'REVIEW':\r\n          switch (this.selectedTrItem.status) {\r\n            case 'SEND_SEEN_CLOSED':\r\n              await Service.letterCancelled(payload, this.selectedTrItem.letterId, this.selectedTrItem.id, this.reasonRejectedSee)\r\n                  .then(async () => {\r\n                    this.isRejectedSeeModal = false;\r\n                    this.signatureSeeModal = false;\r\n                    this.getProjects();\r\n                    this.getTotalCount();\r\n                  })\r\n                  .catch((err) => {\r\n                    // this.catchErr(err);\r\n                  });\r\n              break;\r\n          }\r\n          break;\r\n        default:\r\n          await Service.onlyDocSignForRRejectedByRais(payload, this.selectedTrItem.letterId, this.selectedTrItem.id, this.reasonRejectedSee)\r\n              .then(async () => {\r\n                this.isRejectedSeeModal = false;\r\n                this.signatureSeeModal = false;\r\n                let tempData = Object.assign({}, this.selectedTrItem);\r\n                await showMsgSuccess(this.$t(\"successDocSigned\"));\r\n                this.getList();\r\n                this.getTotalCount();\r\n              })\r\n              .catch((err) => {\r\n                // this.catchErr(err);\r\n              });\r\n          break;\r\n      }\r\n    },\r\n    openSignatureModalForCommission() {\r\n      if (this.commissionTypeId) {\r\n        if (this.selectedTrItem.action === 'REVIEW'\r\n            && this.selectedTrItem.applicationTypeInProject === 'INNER'\r\n            && (this.selectedTrItem.status === 'SENT_TO_MANAGEMENT')\r\n            && this.selectedTrItem.projectType === 'BEFORE_COMMISSION') {\r\n          if (!this.commissionCompletionDate) {\r\n            return this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n          }\r\n          Service.makeReviewForCommissionManagement(this.selectedTrItem.id, this.commissionTypeId, this.commissionComment, this.commissionCompletionDate)\r\n              .then(async () => {\r\n                await showMsgSuccess(this.$t(\"successDocSigned\"));\r\n                this.getProjects();\r\n                this.getTotalCount();\r\n                this.signatureModal = false;\r\n                this.commissionsModal = false;\r\n              })\r\n              .catch((err) => {\r\n                // this.catchErr(err);\r\n              })\r\n              .finally(() => {\r\n                this.signatureModal = false;\r\n                this.commissionsModal = false;\r\n              });\r\n        } else {\r\n          this.signatureModal = true\r\n        }\r\n      } else {\r\n        this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n      }\r\n    },\r\n    customLabelCommissionTypes(opt) {\r\n      let selected = this.commissionTypes.find(e => e.id == opt);\r\n      if (selected) {\r\n        return `${this.getName({\r\n          nameRu: selected.nameRu,\r\n          nameLt: selected.nameLt,\r\n          nameUz: selected.nameUz,\r\n        })\r\n        }`\r\n      }\r\n      return ``;\r\n    },\r\n    changeText(text) {\r\n      this.contextText = text;\r\n    },\r\n    okModal() {\r\n      let text = this.$refs.editorRef.text;\r\n      this.$refs.editModalRef.loading(true);\r\n      Service.saveLetterBody(this.selectedTrItem.letterId, text)\r\n          .then(() => {\r\n            let tempData = Object.assign({}, this.selectedTrItem);\r\n            this.successEdited();\r\n            this.getList(true, tempData.id);\r\n            this.editModal = false;\r\n            /* setTimeout(() => {\r\n              let newdata = this.list.find((e) => e.id == tempData.id);\r\n              this.selectedTrItem = newdata;\r\n              this.$forceUpdate();\r\n              this.getReceivers(this.selectedTrItem);\r\n            }, 500); */\r\n          })\r\n          .catch((e) => {\r\n          })\r\n          .finally(() => {\r\n            this.$refs.editModalRef.loading(false);\r\n          });\r\n    },\r\n    viewModalClick() {\r\n      this.$refs.editModalRef.loadingPdf(true);\r\n      this.viewModalBeforeSigned = true;\r\n      this.loaderPdf = true;\r\n      this.base64 = null;\r\n\r\n      Service.convert(this.contextText)\r\n          .then((res) => {\r\n            setTimeout(() => {\r\n              this.base64 = res.data;\r\n            }, 400);\r\n          })\r\n          .finally(() => {\r\n            this.loaderPdf = false;\r\n            this.$refs.editModalRef.loadingPdf(false);\r\n          });\r\n    },\r\n    editLetter(item) {\r\n      /* this.editModal = true;\r\n      setTimeout(() => {\r\n        Service.getBody(item.letterId).then((res) => {\r\n          let editor = this.$refs.editorRef;\r\n          if (editor) {\r\n            if (!this._empty(res.data)) {\r\n              editor.setTextContent(res.data);\r\n            }\r\n          }\r\n        });\r\n      }, 400); */\r\n\r\n    },\r\n    viewProject(selectedLetter) {\r\n      /* this.$router.push({\r\n          name: selectedLetter.projectType === 'COMMISSION' ? 'CommissionProjects' : 'ProjectsMain',\r\n          query: { page: \"overview\", id: selectedLetter.projectId },\r\n      }); */\r\n      let routeData = this.$router.resolve({\r\n        name: selectedLetter.projectType === 'COMMISSION' ? 'CommissionProjects' : 'ProjectsMain',\r\n        query: { page: \"overview\", id: selectedLetter.projectId },\r\n      });\r\n      window.open(routeData.href, '_blank');\r\n    },\r\n    viewIlova(item) {\r\n      const ext = this.getExt(item.uploadPath ? item.uploadPath : item.url)\r\n      if (ext === \"pdf\") {\r\n        this.ilovaUploadPath = item.uploadPath ? item.uploadPath : item.url;\r\n        this.viewIlovaModal = true;\r\n      } else {\r\n        this.convertToPdf(item).then((uploadPath) => {\r\n          if (uploadPath) {\r\n            this.ilovaUploadPath = uploadPath;\r\n            this.viewIlovaModal = true;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    openOnlyOffice(letterId) {\r\n      let routeData = this.$router.resolve({\r\n        name: \"Office-DOCUMENT-commission\",\r\n        query: {id: letterId, page: \"GET\"},\r\n      });\r\n      window.open(routeData.href, \"_blank\");\r\n    },\r\n    viewIlovaProject(uploadPath) {\r\n      if (this.getExt(uploadPath) === \"pdf\") {\r\n        this.ilovaUploadPath = uploadPath;\r\n        this.viewIlovaModal = true;\r\n      }\r\n    },\r\n    convertToPdf(selectedItem, forSign = false) {\r\n      return new Promise((res, rej) => {\r\n        let config = {\r\n          url: `${selectedItem.url}`,\r\n          outputtype: \".pdf\",\r\n          forSign: forSign,\r\n          key: selectedItem.key,\r\n        };\r\n        Service.convertToPdfByApi(config)\r\n            .then((rs) => {\r\n              if (rs.data.uploadPath) {\r\n                this.$nextTick(() => {\r\n                  this.src = `${this.baseUrl}/${rs.data.uploadPath}`;\r\n                });\r\n                res(rs.data.uploadPath);\r\n              } else {\r\n                res(false);\r\n              }\r\n            })\r\n            .catch((e) => {\r\n              // this.catchErr(e);\r\n              rej(e);\r\n            });\r\n      });\r\n    },\r\n    getByIdLetter() {\r\n      Service.getByIdLetter(this.selectedTrItem.letterId)\r\n          .then((rs) => {\r\n            this.currentDoc = rs.data;\r\n            this.loaderPdf = true;\r\n            this.convertToPdf(rs.data).then((uploadPath) => {\r\n              if (!uploadPath) {\r\n                setTimeout(() => {\r\n                  this.convertToPdf(rs.data)\r\n                      .then(() => {\r\n                        this.loaderPdf = false;\r\n                      })\r\n                      .catch((e) => {\r\n                        this.loaderPdf = false;\r\n                      });\r\n                }, 4000);\r\n              } else {\r\n                this.loaderPdf = false;\r\n              }\r\n            });\r\n          })\r\n          .catch((e) => {\r\n          });\r\n    },\r\n    viewLetter() {\r\n      this.viewModalBeforeSigned = true;\r\n      this.loaderPdf = true;\r\n      this.base64 = null;\r\n      Service.viewPdfByLetterId(this.selectedTrItem.letterId)\r\n          .then((res) => {\r\n            setTimeout(() => {\r\n              this.base64 = res.data;\r\n            }, 300);\r\n          })\r\n          .finally(() => {\r\n            this.loaderPdf = false;\r\n          });\r\n    },\r\n    viewDocBeforeSigned() {\r\n      // this.viewModalBeforeSigned = true;\r\n      // this.getByIdLetter();\r\n      this.viewLetter();\r\n    },\r\n    setCurrentPage(page) {\r\n      this.currentPage = page;\r\n    },\r\n    getAttachedFilesById(id) {\r\n      Service.getAttachedFilesById(id).then((res) => {\r\n        this.filesList = res.data;\r\n      });\r\n    },\r\n    getProjectLettersByLetterId(data) {\r\n      Service.projectLettersByLetterId(data.letterId).then((res) => {\r\n        this.projectFilesList = res.data;\r\n      });\r\n    },\r\n    saveRejected(payload) {\r\n      this.convertToPdf(this.selectedTrItem).then(r1 => {\r\n        this.rejectedLoader = true;\r\n        Service.saveRejected(\r\n            this.selectedTrItem.letterId,\r\n            this.selectedTrItem.id,\r\n            this.reasonRejected,\r\n            payload\r\n        )\r\n            .then(async () => {\r\n              this.isRejectedModal = false;\r\n              let tempData = Object.assign({}, this.selectedTrItem);\r\n              await this.successSaved();\r\n              await this.getList(true, tempData.id);\r\n              await this.getIncomeTotalCount();\r\n              /* setTimeout(() => {\r\n                let newdata = this.list.find((e) => e.id == tempData.id);\r\n                this.selectedTrItem = newdata;\r\n                this.$forceUpdate();\r\n                this.getReceivers(this.selectedTrItem);\r\n              }, 500); */\r\n            })\r\n            .finally(() => {\r\n              this.rejectedLoader = false;\r\n            });\r\n      })\r\n    },\r\n    handleToReject() {\r\n      this.cnf().then((rs) => {\r\n        if (rs.value) {\r\n          this.$router.push(`/letter/to-reject/${this.selectedTrItem.id}/${this.selectedTrItem.letterId}`);\r\n        }\r\n      });\r\n    },\r\n    showRejectedModal() {\r\n      switch (this.selectedTrItem.action) {\r\n        case 'SIGNATURE':\r\n          switch (this.selectedTrItem.status) {\r\n            case 'SEND_FOR_COMMISSION':\r\n              this.handleToReject();\r\n              break;\r\n            default:\r\n              this.isRejectedModal = true;\r\n              break;\r\n          }\r\n          break;\r\n        case 'REVIEW':\r\n          switch (this.selectedTrItem.status) {\r\n            case 'SEND_SEEN_CLOSED':\r\n              this.handleLetterCancelled(this.selectedTrItem);\r\n              break;\r\n            default:\r\n              this.isRejectedModal = true;\r\n              break;\r\n          }\r\n          break;\r\n        default:\r\n          this.isRejectedModal = true;\r\n          break;\r\n      }\r\n    },\r\n    viewDocSigned() {\r\n      this.viewModal = true;\r\n    },\r\n    getIncomeTotalCount() {\r\n      Service.getIncomeTotalCount().then((rs) => {\r\n        this.agreementCount = rs.data.agreement;\r\n        this.reviewCount = rs.data.review;\r\n        this.signatureCount = rs.data.signature;\r\n      });\r\n    },\r\n    async signSuccess(data) {\r\n      let payload = {\r\n        signedContent: data.content,\r\n        inn: data.inn,\r\n        pnfl: data.pnfl\r\n      };\r\n      if (this.isRejectedModal) {\r\n        this.isModalKeys = false;\r\n        this.signatureModal = false;\r\n        this.saveRejected(payload)\r\n      } else {\r\n        switch (this.selectedTrItem.status) {\r\n          case 'COMMISSION_SEND':\r\n            Service.onlyDocSign(payload, this.selectedTrItem.id)\r\n                .then(async () => {\r\n                  this.isModalKeys = false;\r\n                  this.signatureModal = false;\r\n                  let tempData = Object.assign({}, this.selectedTrItem);\r\n                  await showMsgSuccess(this.$t(\"successDocSigned\"));\r\n                  await this.getList(true, tempData.id);\r\n                  await this.getIncomeTotalCount();\r\n                  // setTimeout(() => {\r\n                  //   let newdata = this.list.find((e) => e.id == tempData.id);\r\n                  //   this.selectedTrItem = Object.assign({}, newdata);\r\n                  //   this.$forceUpdate();\r\n                  //   this.getReceivers(this.selectedTrItem);\r\n                  // }, 1000);\r\n                })\r\n                .catch((err) => {\r\n                  // this.catchErr(err);\r\n                });\r\n            break;\r\n          case 'NOT_BELONG':\r\n            await Service.onlyDocSign(payload, this.selectedTrItem.id)\r\n                .then(async () => {\r\n                  await Service.onlyDocSignNotBelong(payload, this.selectedTrItem.id)\r\n                      .then(async () => {\r\n\r\n\r\n                      })\r\n                      .catch((err) => {\r\n                        this.catchErr(err);\r\n                      });\r\n\r\n                  this.isModalKeys = false;\r\n                  this.signatureModal = false;\r\n                  let tempData = Object.assign({}, this.selectedTrItem);\r\n                  await showMsgSuccess(this.$t(\"successDocSigned\"));\r\n                  await this.getList(true, tempData.id);\r\n                  await this.getIncomeTotalCount();\r\n\r\n                  // setTimeout(() => {\r\n                  //   let newdata = this.list.find((e) => e.id == tempData.id);\r\n                  //   this.selectedTrItem = Object.assign({}, newdata);\r\n                  //   this.$forceUpdate();\r\n                  //   this.getReceivers(this.selectedTrItem);\r\n                  // }, 1000);\r\n                })\r\n                .catch((err) => {\r\n                  // this.catchErr(err);\r\n                });\r\n            break;\r\n          case 'SEND_SIGN_TO_RETURN':\r\n            Service.signDoc(payload, this.selectedTrItem.id, this.commissionTypeId, this.commissionComment)\r\n                .then(async () => {\r\n                  this.isModalKeys = false;\r\n                  this.signatureModal = false;\r\n                  this.commissionsModal = false;\r\n                  let tempData = Object.assign({}, this.selectedTrItem);\r\n                  await showMsgSuccess(this.$t(\"successDocSigned\"));\r\n                  await this.getList(true, tempData.id);\r\n                  await this.getIncomeTotalCount();\r\n                  /* setTimeout(() => {\r\n                    let newdata = this.list.find((e) => e.id == tempData.id);\r\n                    this.selectedTrItem = Object.assign({}, newdata);\r\n                    this.$forceUpdate();\r\n                    this.getReceivers(this.selectedTrItem);\r\n                  }, 1000); */\r\n                })\r\n                .catch((err) => {\r\n                  // this.catchErr(err);\r\n                });\r\n            break;\r\n          default:\r\n            Service.signDoc(payload, this.selectedTrItem.id, this.commissionTypeId, this.commissionComment)\r\n                .then(async () => {\r\n                  this.isModalKeys = false;\r\n                  this.signatureModal = false;\r\n                  this.commissionsModal = false;\r\n                  let tempData = Object.assign({}, this.selectedTrItem);\r\n                  await showMsgSuccess(this.$t(\"successDocSigned\"));\r\n                  await this.getList(true, tempData.id);\r\n                  await this.getIncomeTotalCount();\r\n                  /* setTimeout(() => {\r\n                    let newdata = this.list.find((e) => e.id == tempData.id);\r\n                    this.selectedTrItem = Object.assign({}, newdata);\r\n                    this.$forceUpdate();\r\n                    this.getReceivers(this.selectedTrItem);\r\n                  }, 1000); */\r\n                })\r\n                .catch((err) => {\r\n                  // this.catchErr(err);\r\n                });\r\n            break;\r\n        }\r\n      }\r\n    },\r\n    getReceivers(item) {\r\n      this.loaderReceiver = true;\r\n      Service.getReceivers(item.letterId)\r\n          .then((rs) => {\r\n            this.infoData = rs.data;\r\n          })\r\n          .finally(() => {\r\n            this.loaderReceiver = false;\r\n          });\r\n    },\r\n    async getVisaInfoById() {\r\n      await helperService.getVisaAllInfoById(this.selectedTrItem.applicationIdFromDXA, false)\r\n          .then(res => {\r\n            this.visaInfoById = res.data\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          }).finally(() => {\r\n          })\r\n    },\r\n    async clickTrItem(item) {\r\n      if (this.selectedTrItem.id === item.id) {\r\n        this.selectedTrItem = {};\r\n        this.infoData = {};\r\n      } else {\r\n        this.selectedTrItem = item;\r\n        await this.getAttachedFilesById(item.letterId);\r\n        await this.getReceivers(item);\r\n        if (['FROM_DXA', 'NOT_BELONG'].includes(item.applicationTypeInProject)) {\r\n          await this.getVisaInfoById();\r\n          await this.getProjectLettersByLetterId(item);\r\n        } else {\r\n          this.visaInfoById = {}\r\n          this.projectFilesList = []\r\n        }\r\n        switch (item.status) {\r\n          case 'REJECT_LETTER_CREATED':\r\n            Service.getRejectLetter(item.letterId).then(res => {\r\n              this.rejectedLetter = res.data;\r\n            }).catch(e => {\r\n              console.log(e)\r\n            })\r\n            break;\r\n          default:\r\n            this.rejectedLetter = null;\r\n            this.fileUploadPath = null;\r\n            break;\r\n        }\r\n      }\r\n    },\r\n    signatureItem() {\r\n      this.isModalKeys = true;\r\n    },\r\n    selectSendType(v) {\r\n      this.selectedTrItem = {};\r\n      this.infoData = {};\r\n      if (this.active == v) {\r\n        this.active = \"\";\r\n      } else {\r\n        this.active = v;\r\n      }\r\n      this.getList();\r\n    },\r\n    makeAgree(item) {\r\n      this.cnf().then((rs) => {\r\n        if (rs.value) {\r\n          Service.makeAgree(item.letterId).then(async () => {\r\n            let tempData = Object.assign({}, this.selectedTrItem);\r\n            await this.successSaved();\r\n            await this.getList(true, tempData.id);\r\n            await this.getIncomeTotalCount();\r\n            // setTimeout(() => {\r\n            //   let newdata = this.list.find((e) => e.id == tempData.id);\r\n            //   this.selectedTrItem = Object.assign({}, newdata);\r\n            //   this.$forceUpdate();\r\n            //   this.getReceivers(this.selectedTrItem);\r\n            // }, 500);\r\n          });\r\n        }\r\n      });\r\n    },\r\n    fetchCommissionTypes(callback = () => ({})) {\r\n      Service.searchList('directory/commission/commission-type', this.var_default_search_payload, null, true)\r\n          .then(res => {\r\n            this.commissionTypes = res.data.list\r\n            callback();\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n    },\r\n    makeReviewForCommission(item) {\r\n      this.cnf().then((rs) => {\r\n        if (rs.value) {\r\n          Service.makeReviewForCommission(item.id, item.comment).then(async () => {\r\n            await this.successSaved();\r\n            await this.$router.push(\"/projects/commission\");\r\n            // let tempData = Object.assign({}, this.selectedTrItem);\r\n            // await this.getList(true, tempData.id);\r\n            // await this.getIncomeTotalCount();\r\n            // setTimeout(() => {\r\n            //   let newdata = this.list.find((e) => e.id === tempData.id);\r\n            //   this.selectedTrItem = newdata;\r\n            //   this.$forceUpdate();\r\n            //   this.getReceivers(this.selectedTrItem);\r\n            // }, 500);\r\n          });\r\n        }\r\n      });\r\n    },\r\n    makeReviewForCommissionWithComment(item) {\r\n      if (this.commissionTypes.length === 0) {\r\n        return this.fetchCommissionTypes(() => {\r\n          this.commissionsModal = true;\r\n        });\r\n      }\r\n      this.commissionsModal = true;\r\n    },\r\n    makeReview(item) {\r\n      this.cnf().then((rs) => {\r\n        if (rs.value) {\r\n          Service.makeReview(item.letterId).then(async () => {\r\n            // let tempData = this.selectedTrItem;\r\n            let tempData = Object.assign({}, this.selectedTrItem);\r\n            await this.successSaved();\r\n            await this.getList(true, tempData.id);\r\n            await this.getIncomeTotalCount();\r\n            /* setTimeout(() => {\r\n              let newdata = this.list.find((e) => e.id == tempData.id);\r\n              this.selectedTrItem = newdata;\r\n              this.$forceUpdate();\r\n              this.getReceivers(this.selectedTrItem);\r\n            }, 500); */\r\n          });\r\n        }\r\n      });\r\n    },\r\n    makeReviewLetter(item) {\r\n      this.cnf().then((rs) => {\r\n        if (rs.value) {\r\n          Service.makeAgreedLetter(item.id).then(async () => {\r\n            let tempData = Object.assign({}, this.selectedTrItem);\r\n            await this.successSaved();\r\n            await this.getList(true, tempData.id);\r\n            await this.getIncomeTotalCount();\r\n          });\r\n        }\r\n      });\r\n    },\r\n    rejectConfirm() {\r\n      cnfDoc(this.$t(\"messages.reject_title\")).then((rs) => {\r\n        if (rs.value) {\r\n          this.signatureModal = true;\r\n        }\r\n      });\r\n    },\r\n    viewFile(uploadPath) {\r\n      if (this.getExt(uploadPath) === \"pdf\") {\r\n        this.fileUploadPath = uploadPath;\r\n        this.viewFileModal = true;\r\n      }\r\n    },\r\n    signItemToManagement(item) {\r\n      this.$router.push(\r\n          `/letter/income/to-management/${item.letterId}/${item.id}`\r\n      );\r\n    },\r\n    handleSendLetterToChairman() {\r\n      this.cnf().then(({ value }) => {\r\n        if (value) {\r\n          this.sendLetterToChairman.loader = true\r\n          Service.handleSendLetterToChairman(this.rejectedLetter.id, this.sendLetterToChairman.comment).then(() => {\r\n            this.getList();\r\n            this.sendLetterToChairman.loader = false\r\n            this.sendLetterToChairman.modal = false\r\n          })\r\n              .finally(() => {\r\n                this.sendLetterToChairman.loader = false\r\n                this.sendLetterToChairman.modal = false\r\n              })\r\n        }\r\n      });\r\n    },\r\n    handleLetterCancelled(item) {\r\n      this.isRejectedSeeModal = true;\r\n    },\r\n\r\n    async signAcceptedItem(item) {\r\n      if (item.applicationTypeInProject === 'FROM_DXA' && item.status === 'SEND_SIGN'\r\n          && item.action === 'SIGNATURE') {\r\n        await Service.setLetterRejtOrAccept(item.letterId, false).then((rs) => {\r\n          this.$router.push(\r\n              `/letter/income/${item.letterId}/${item.id}`\r\n          );\r\n        });\r\n      }\r\n    },\r\n\r\n    async signRejectedItem(item) {\r\n      if (item.applicationTypeInProject === 'FROM_DXA' && item.status === 'SEND_SIGN'\r\n          && item.action === 'SIGNATURE') {\r\n        await Service.setLetterRejtOrAccept(item.letterId, true).then((rs) => {\r\n          this.$router.push(\r\n              `/letter/income/${item.letterId}/${item.id}`\r\n          );\r\n        });\r\n      }\r\n    },\r\n\r\n    async signItem(item) {\r\n      switch (item.action) {\r\n        case 'SIGNATURE':\r\n          this.currentItem = item;\r\n          if (item.applicationTypeInProject === 'FROM_DXA') {\r\n            switch (item.status) {\r\n              case 'SEND_SIGN':\r\n                await Service.setLetterRejtOrAccept(item.letterId, true).then((rs) => {\r\n                  this.$router.push(\r\n                      `/letter/income/${item.letterId}/${item.id}`\r\n                  );\r\n                });\r\n                break;\r\n              case 'COMMISSION_SEND':\r\n                await Service.setLetterRejtOrAccept(item.letterId, true).then((rs) => {\r\n                  this.$router.push(\r\n                      `/letter/income/${item.letterId}/${item.id}`\r\n                  );\r\n                });\r\n                break;\r\n              default:\r\n                cnfDoc(this.$t(\"docConfirm\")).then((rs) => {\r\n                  if (rs.value) {\r\n                    this.signatureModal = true;\r\n                  }\r\n                });\r\n                break;\r\n            }\r\n          } else if (item.applicationTypeInProject === 'NOT_BELONG') {\r\n            if (item.fileType !== 'pdf') {\r\n              await this.convertToPdf(item).then(async r => {\r\n                if (!r.uploadPath) {\r\n                  this.$toast(this.$t('messages.project_files_convert_pdf_error'), { type: 'error' })\r\n                } else if (!r.uploadPath.endsWith('.pdf')) {\r\n                  this.$toast(this.$t('messages.project_files_convert_pdf_error'), { type: 'error' })\r\n                } else if (i === notPdfDocs.length - 1) {\r\n                  await Service.setLetterRejtOrAccept(item.letterId, true).then((rs) => {\r\n                    this.$router.push(\r\n                        `/letter/income/${item.letterId}/${item.id}`\r\n                    );\r\n                  });\r\n                }\r\n              })\r\n                .catch(e => console.log(e))\r\n            }\r\n          } else {\r\n            switch (item.status) {\r\n              case 'SEND_SIGN':\r\n                this.$router.push(`/letter/income/${item.letterId}/${item.id}`);\r\n                break;\r\n              case 'FOR_REGION':\r\n                await Service.setLetterRejtOrAccept(item.letterId, true).then((rs) => {\r\n                  this.$router.push(\r\n                      `/letter/income/${item.letterId}/${item.id}`\r\n                  );\r\n                });\r\n                break;\r\n              case 'FOR_NOT_BELONG':\r\n                await Service.setLetterRejtOrAccept(item.letterId, true).then((rs) => {\r\n                  this.$router.push(\r\n                      `/letter/income/${item.letterId}/${item.id}`\r\n                  );\r\n                });\r\n                break;\r\n              case 'COMMISSION_SEND':\r\n                this.$router.push(`/letter/income/${item.letterId}/${item.id}`);\r\n                break;\r\n              case 'SEND_SIGN_FINISH':\r\n                await this.$router.push(`/letter/make-signed-to-closed/${item.id}/${item.letterId}`);\r\n                break;\r\n              case 'FOR_NOT_COMPLETED':\r\n                await Service.setLetterRejtOrAccept(item.letterId, true).then((rs) => {\r\n                  this.$router.push(\r\n                      `/letter/income/${item.letterId}/${item.id}`\r\n                  );\r\n                });\r\n                break;\r\n              case 'SEND_FOR_COMMISSION':\r\n                await this.$router.push(`/letter/before-commission/${item.id}/${item.letterId}`);\r\n                break;\r\n              case 'SEND_SIGN_TO_RETURN':\r\n                await this.$router.push(`/letter/income/${item.letterId}/${item.id}`);\r\n                break;\r\n              case 'TO_SIGN_REJECT_LETTER':\r\n                await this.$router.push(`/letter/before-commission/${item.id}/${item.letterId}`);\r\n                break;\r\n              case 'TO_SIGN_FINISH_LETTER':\r\n                await this.$router.push(`/letter/before-commission/${item.id}/${item.letterId}`);\r\n                break;\r\n              default:\r\n                await cnfDoc(this.$t(\"docConfirm\")).then((rs) => {\r\n                  if (rs.value) {\r\n                    this.signatureModal = true;\r\n                  }\r\n                });\r\n                break;\r\n            }\r\n          }\r\n          break;\r\n        case 'AGREEMENT':\r\n          this.currentItem = item;\r\n          switch (item.status) {\r\n            default:\r\n              this.makeAgree(item);\r\n              break;\r\n          }\r\n          break;\r\n        case 'REVIEW':\r\n          this.currentItem = item;\r\n          switch (item.status) {\r\n            case 'SEND_FOR_COMMISSION':\r\n              this.makeReviewForCommission(item);\r\n              break;\r\n            case 'SENT_TO_MANAGEMENT':\r\n              this.makeReviewForCommissionWithComment(item);\r\n              break;\r\n            case 'SENT_FOR_REJECT':\r\n              this.uploadRejectLetter(item);\r\n              break;\r\n            case 'TO_INVOKE_SIGNED':\r\n              this.makeReviewLetter(item);\r\n              break;\r\n            case 'SEND_SEEN_CLOSED':\r\n              await this.cnf().then((rs) => {\r\n                if (rs.value) {\r\n                  Service.makeAgreedLetterToClosed(item.id).then(async () => {\r\n                    let tempData = Object.assign({}, this.selectedTrItem);\r\n                    await this.successSaved();\r\n                    await this.getList(true, tempData.id);\r\n                    await this.getIncomeTotalCount();\r\n                  });\r\n                }\r\n              });\r\n              break;\r\n            case 'FINISH_LETTER_SIGN_AND_SEND':\r\n              await this.cnf().then((rs) => {\r\n                if (rs.value) {\r\n                  Service.makeViewedLetterToFinish(item.id).then(async () => {\r\n                    let tempData = Object.assign({}, this.selectedTrItem);\r\n                    await this.successSaved();\r\n                    await this.getList(true, tempData.id);\r\n                    await this.getIncomeTotalCount();\r\n                  });\r\n                }\r\n              });\r\n              break;\r\n            default:\r\n              this.makeReview(item);\r\n              break;\r\n          }\r\n          break;\r\n      }\r\n    },\r\n    save() {\r\n      if (!this.$refs.addRef.checkValidity()) {\r\n        Service.upload(this.$refs.addRef.form).then((rs) => {\r\n          if (rs.data) {\r\n            this.getList();\r\n            let routeData = this.$router.resolve({\r\n              name: \"Office-DOCUMENT-commission\",\r\n              query: { page: \"GET\", id: rs.data.id },\r\n            });\r\n            window.open(routeData.href, \"_blank\");\r\n            this.isModal = false;\r\n          }\r\n        });\r\n      } else {\r\n        this.enterInfo();\r\n      }\r\n    },\r\n    add() {\r\n      this.isModal = true;\r\n    },\r\n    getList(reset = false, resetId) {\r\n      this.loading = true;\r\n      Service.getListLetterIncome(this.params, this.active)\r\n          .then(({ data }) => {\r\n            this.list = data.list;\r\n            this.total = data.total;\r\n            if (reset) {\r\n              let newdata = this.list.find((e) => e.id === resetId);\r\n              this.selectedTrItem = Object.assign({}, newdata);\r\n              // this.$forceUpdate();\r\n              this.getReceivers(this.selectedTrItem);\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            // this.catchErr(err);\r\n          })\r\n          .finally(() => {\r\n            this.loading = false;\r\n          });\r\n    },\r\n    uploadRejectLetter(item) {\r\n      this.cnf().then(({ value }) => {\r\n        if (value) {\r\n          Service.uploadRejectLetter(item.letterId, 'LETTER_REJECT', \"Rad etish xati\").then((rs) => {\r\n            let routeData = this.$router.resolve({\r\n              name: \"Office-DOCUMENT-commission\",\r\n              query: { id: rs.data.id, page: \"GET\" },\r\n            });\r\n            this.getList();\r\n            this.getIncomeTotalCount();\r\n            window.open(routeData.href, \"_blank\");\r\n          });\r\n        }\r\n      });\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <div class=\"col-md-12 text-center\">\r\n      <div class=\"h4 mb-4 d-inline-block\">{{ $t('submodules.reports.report_income') }}</div>\r\n    </div>\r\n    <b-modal v-model=\"isRejectedSeeModal\" :title=\"$t('submodules.reports.reasonRejected')\" scrollable size=\"md\" >\r\n      <b-form-textarea v-model=\"reasonRejectedSee\" rows=\"5\" ></b-form-textarea>\r\n\r\n      <template v-slot:modal-footer>\r\n        <b-button variant=\"danger\" @click=\"rejectSeeConfirm\" >\r\n          <b-overlay :opacity=\"0.1\" :show=\"rejectedSeeLoader\" rounded=\"sm\" >\r\n            {{ $t(\"submodules.reports.rejected\") }}\r\n          </b-overlay>\r\n        </b-button>\r\n      </template>\r\n    </b-modal>\r\n    <b-modal v-model=\"signatureSeeModal\" :title=\"$t('submodules.reports.make_sign')\" hide-footer scrollable size=\"lg\">\r\n      <SignKeys :dataToSign=\"selectedTrItem\" @sign=\"signSuccessSee\" />\r\n    </b-modal>\r\n    <Modal\r\n        ref=\"editModalRef\"\r\n        :cancelText=\"'actions.cancel'\"\r\n        :okText=\"'actions.save'\"\r\n        :scroll=\"true\"\r\n        :signerHide=\"false\"\r\n        :size=\"'xl'\"\r\n        :title=\"selectedTrItem.fileName\"\r\n        :value=\"editModal\"\r\n        :variantOk=\"'success'\"\r\n        @closeModal=\"editModal = false\"\r\n        @okModal=\"okModal\"\r\n        @viewModalClick=\"viewModalClick\"\r\n    >\r\n      <template v-slot:body>\r\n        <div>\r\n          <Editor ref=\"editorRef\" @changeText=\"changeText\" />\r\n        </div>\r\n      </template>\r\n    </Modal>\r\n    <b-modal v-model=\"viewIlovaModal\" :title=\"$t('actions.view')\" scrollable size=\"xl\" >\r\n      <div v-if=\"ilovaUploadPath\" style=\"height: 700px\" >\r\n        <embed\r\n            :src=\"`${baseUrl}/${ilovaUploadPath}`\"\r\n            height=\"800\"\r\n            type=\"application/pdf\"\r\n            width=\"100%\"\r\n        />\r\n      </div>\r\n      <template v-slot:modal-footer>\r\n        <b-button variant=\"secondary\" @click=\"viewIlovaModal = false\" >{{ $t(\"actions.close\") }} </b-button>\r\n      </template>\r\n    </b-modal>\r\n    <b-modal\r\n        v-model=\"signatureModal\"\r\n        :title=\"`${$t('submodules.reports.make_sign')}`\"\r\n        hide-footer\r\n        scrollable\r\n        size=\"lg\"\r\n    >\r\n      <SignKeys :dataToSign=\"selectedTrItem\" @sign=\"signSuccess\" />\r\n    </b-modal>\r\n\r\n    <!-- for view document -->\r\n    <b-modal\r\n        v-model=\"viewModal\"\r\n        :title=\"selectedTrItem.id ? selectedTrItem.fileName : ''\"\r\n        scrollable\r\n        size=\"xl\"\r\n    >\r\n      <div v-if=\"selectedTrItem.url\" style=\"height: 700px\" >\r\n        <embed\r\n            :src=\"`${baseUrl}/${selectedTrItem.url}`\"\r\n            height=\"800\"\r\n            type=\"application/pdf\"\r\n            width=\"100%\"\r\n        />\r\n      </div>\r\n      <template v-slot:modal-footer>\r\n        <b-button variant=\"secondary\" @click=\"viewModal = false\" >{{$t(\"actions.close\")}}</b-button>\r\n      </template>\r\n    </b-modal>\r\n\r\n    <!-- modal view before modal -->\r\n    <b-modal\r\n        v-model=\"viewModalBeforeSigned\"\r\n        :title=\"selectedTrItem.id ? selectedTrItem.fileName : ''\"\r\n        body-bg-variant=\"light\"\r\n        scrollable\r\n        size=\"xl\"\r\n    >\r\n      <b-overlay :opacity=\"1\" :show=\"loaderPdf\" rounded=\"lg\" variant=\"white\" >\r\n        <div style=\"min-height: 700px\">\r\n          <embed\r\n              v-if=\"base64\"\r\n              :src=\"`data:application/pdf;base64, ${base64}`\"\r\n              :style=\"`min-height:${heightWindow-250}px`\"\r\n              style=\"width: 100%;\"\r\n          />\r\n        </div>\r\n      </b-overlay>\r\n\r\n      <template v-slot:modal-footer>\r\n        <b-button variant=\"secondary\" @click=\"viewModalBeforeSigned = false\">{{ $t(\"actions.close\") }}</b-button>\r\n      </template>\r\n    </b-modal>\r\n\r\n    <!-- COMMISSIONS MODAL -->\r\n    <b-modal\r\n        v-model=\"commissionsModal\"\r\n        :title=\"`${$t('submodules.commission.title')}`\"\r\n        scrollable\r\n        size=\"md\"\r\n    >\r\n      <BaseMultiselectWithValidation\r\n          v-model=\"commissionTypeId\"\r\n          :custom-label=\"customLabelCommissionTypes\"\r\n          :label=\"$t('submodules.commission.special_commission_type.title')\"\r\n          :max-height=\"600\"\r\n          :options=\"commissionTypes.map(e => e.id)\"\r\n          :show-labels=\"false\"\r\n          class=\"required\"\r\n          label-on-top\r\n          open-direction=\"bottom\"\r\n          placeholder=\"\"\r\n          rules=\"required\"\r\n      ></BaseMultiselectWithValidation>\r\n\r\n      <BaseDatePickerWithValidation\r\n          v-model=\"commissionCompletionDate\"\r\n          :label=\"$t('date')\"\r\n          :placeholder=\"$t('date')\"\r\n          lang=\"ru\"\r\n          required\r\n      />\r\n      <b-form-textarea\r\n          v-model=\"commissionComment\"\r\n          :placeholder=\"$t('submodules.doc.summary')\"\r\n          class=\"mt-3\"\r\n          rows=\"5\"\r\n      ></b-form-textarea>\r\n\r\n      <template v-slot:modal-footer>\r\n        <b-button variant=\"success\" @click=\"openSignatureModalForCommission\" >\r\n          <b-overlay :opacity=\"0.1\" :show=\"commissionModalLoader\" rounded=\"sm\" >\r\n            {{ $t(\"actions.continue\") }}\r\n          </b-overlay>\r\n        </b-button>\r\n      </template>\r\n    </b-modal>\r\n    <b-modal\r\n        v-model=\"isRejectedModal\"\r\n        :title=\"`${$t('submodules.reports.reasonRejected')}`\"\r\n        scrollable\r\n        size=\"md\"\r\n    >\r\n      <b-form-textarea v-model=\"reasonRejected\" rows=\"5\" ></b-form-textarea>\r\n\r\n      <template v-slot:modal-footer>\r\n        <b-button variant=\"danger\" @click=\"rejectConfirm\" >\r\n          <b-overlay :opacity=\"0.1\" :show=\"rejectedLoader\" rounded=\"sm\" >\r\n            {{ $t(\"submodules.reports.rejected\") }}\r\n          </b-overlay>\r\n        </b-button>\r\n      </template>\r\n    </b-modal>\r\n\r\n    <b-modal\r\n        v-model=\"sendLetterToChairman.modal\"\r\n        :title=\"`${$t('submodules.commission.send_for_sign')}`\"\r\n        scrollable\r\n        size=\"md\"\r\n    >\r\n      <b-form-textarea v-model=\"sendLetterToChairman.comment\" rows=\"5\" ></b-form-textarea>\r\n\r\n      <template v-slot:modal-footer>\r\n        <b-button variant=\"success\" @click=\"handleSendLetterToChairman\" >\r\n          <b-overlay\r\n              :opacity=\"0.1\"\r\n              :show=\"sendLetterToChairman.loader\"\r\n              rounded=\"sm\"\r\n          >\r\n            {{ $t(\"submodules.commission.send_for_sign\") }}\r\n          </b-overlay>\r\n        </b-button>\r\n      </template>\r\n    </b-modal>\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body p-2\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-4\">\r\n                <div class=\"d-inline-block mt-1 ml-2\">\r\n                  <div class=\"search-box\">\r\n                    <div class=\"position-relative\">\r\n                      <input\r\n                          v-model=\"searchValue\"\r\n                          :placeholder=\"$t('actions.search')\"\r\n                          class=\"form-control rounded bg-light border-light\"\r\n                          style=\"width: 300px\"\r\n                          type=\"text\"\r\n                      />\r\n                      <i class=\"mdi mdi-magnify search-icon\"></i>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-sm-8\">\r\n                <div class=\"text-sm-right\">\r\n                  <div class=\"mr-3 float-right\">\r\n                    <div class=\"d-flex align-items-center\">\r\n                      <div\r\n                          v-for=\"(dc, index) in sendTypeList\"\r\n                          :key=\"index + 'doc'\"\r\n                          :class=\"dc.value === active ? 'my-card-active' : ''\"\r\n                          class=\"card m-0 my-card-hovered_2 mr-3\"\r\n                          @click.prevent=\"selectSendType(dc.value)\"\r\n                      >\r\n                        <div class=\" card-body p-0 text-center d-flex align-items-center justify-content-center \">\r\n                          <div>\r\n                            <div class=\"d-flex align-items-center\">\r\n                              <img\r\n                                  :src=\"\r\n                                    dc.value === 'SIGNATURE'\r\n                                      ? require('@/assets/doc/2.png')\r\n                                      : dc.value === 'REVIEW'\r\n                                      ? require('@/assets/doc/3.png')\r\n                                      : require('@/assets/doc/4.png')\r\n                                  \"\r\n                                  alt=\"DOC\"\r\n                                  height=\"30\"\r\n                              />\r\n\r\n                              <div class=\"ml-2\">\r\n                                <p class=\"m-0\">\r\n                                  {{ dc.label }}\r\n                                </p>\r\n                              </div>\r\n                              <div class=\"ml-2\">\r\n                                <b-badge v-if=\" dc.value === 'AGREEMENT' && agreementCount > 0 \" variant=\"success\">\r\n                                  {{ agreementCount }}\r\n                                </b-badge>\r\n\r\n                                <b-badge v-if=\" dc.value === 'SIGNATURE' && signatureCount > 0 \" variant=\"success\">\r\n                                  {{ signatureCount }}\r\n                                </b-badge>\r\n\r\n                                <b-badge v-if=\" dc.value === 'REVIEW' && reviewCount > 0 \" variant=\"success\">\r\n                                  {{ reviewCount }}\r\n                                </b-badge>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-7\">\r\n            <div class=\"card card-body\">\r\n              <div class=\"table-responsive\">\r\n                <b-overlay :opacity=\"0.1\" :show=\"loading\" rounded=\"sm\">\r\n                  <table class=\"table table-centered table-striped table-nowrap table-hover\">\r\n                    <thead class=\"thead-light\">\r\n                    <tr>\r\n                      <th class=\"text-center\" scope=\"col\" style=\"width: 70px\"></th>\r\n                      <th class=\"text-center\" scope=\"col\">\r\n                        {{ $t(\"column.created_by\") }}\r\n                      </th>\r\n                      <th class=\"text-center\" scope=\"col\">\r\n                        {{ $t(\"submodules.doc.founder\") }}\r\n                      </th>\r\n                      <th class=\"text-center\" scope=\"col\">\r\n                        {{ $t(\"docDate\") }}\r\n                      </th>\r\n                      <th class=\"text-center\" scope=\"col\">\r\n                        {{ $t(\"docName\") }}\r\n                      </th>\r\n                      <th class=\"text-center\" scope=\"col\">\r\n                        {{ $t(\"puropseOfSending\") }}\r\n                      </th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr v-if=\"list.length == 0\" class=\"text-center\">\r\n                      <td :style=\"loading ? 'height:50px' : ''\" colspan=\"9\" style=\"vertical-align: middle\">\r\n                        <h5>\r\n                          {{ $t(\"messages.data_not_found\") }}\r\n                        </h5>\r\n                      </td>\r\n                    </tr>\r\n                    <tr\r\n                        v-for=\"(item, index) in list\"\r\n                        :key=\"index + 'CREATE_DOC'\"\r\n                        :class=\"\r\n                            selectedTrItem.id == item.id\r\n                              ? 'bg-soft-primary text-primary'\r\n                              : item.status === 'CANCELED' || item.cancelled\r\n                              ? 'bg-soft-danger text-danger'\r\n                              : item.status === 'SIGNED'\r\n                              ? 'bg-soft-success text-dark'\r\n                              : 'bg-white text-dark font-weight-bold '\r\n                          \"\r\n                        class=\"p_cursor\"\r\n                        @click.prevent=\"clickTrItem(item)\"\r\n                    >\r\n                      <td class=\"text-center\">\r\n                        <strong>\r\n                          {{ paginate(index, limit, page - 1) }}</strong>\r\n                      </td>\r\n                      <td class=\"text-left\">\r\n                        {{ item.ownerLastName ? item.ownerLastName : '' }}\r\n                        {{ item.ownerFirstName ? item.ownerFirstName : '' }}\r\n                        {{ item.ownerParentName ? item.ownerParentName : '' }}\r\n                      </td>\r\n                      <td class=\"text-left\">\r\n                        {{ item.senderLastName ? item.senderLastName : '' }}\r\n                        {{ item.senderFirstName ? item.senderFirstName : '' }}\r\n                        {{ item.senderParentName ? item.senderParentName : '' }}\r\n                      </td>\r\n                      <td :class=\"!item.isRead ? 'font-weight-bold' : ''\" class=\"text-center\">\r\n                        {{ item.date }}\r\n                      </td>\r\n                      <td :class=\"!item.isRead ? 'font-weight-bold' : ''\" class=\"text-center\">\r\n                        <p class=\"pre m-0\">{{ item.fileName }}</p>\r\n                      </td>\r\n                      <td\r\n                          :class=\"!item.isRead ? 'font-weight-bold' : ''\"\r\n                          class=\"text-center p-0\"\r\n                      >\r\n                        {{\r\n                          item.action === \"SIGNATURE\"\r\n                              ? $t(\"forSignature\")\r\n                              : item.action === \"AGREEMENT\"\r\n                                  ? $t(\"forAgreement\")\r\n                                  : item.action === \"REVIEW\"\r\n                                      ? $t(\"forReview\")\r\n                                      : \"\"\r\n                        }}\r\n                        <i\r\n                            v-if=\"item.action === 'SIGNATURE' && item.signed\"\r\n                            class=\"mdi mdi-check-all font-size-22 p-0 ml-2 text-success\"\r\n                        ></i>\r\n\r\n                        <i\r\n                            v-if=\"item.action === 'AGREEMENT' && item.isAgreed\"\r\n                            class=\"mdi mdi-handshake font-size-22 ml-2 text-success\"\r\n                        ></i>\r\n\r\n                        <i\r\n                            v-if=\"item.action === 'REVIEW' && item.isViewed\"\r\n                            class=\"mdi mdi-file-eye font-size-18 font-size-16 ml-2 text-success\"\r\n                        ></i>\r\n                      </td>\r\n                    </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </b-overlay>\r\n              </div>\r\n              <div\r\n                  v-if=\"total > 0\"\r\n                  class=\"row\"\r\n              >\r\n                <div class=\"col-lg-12\">\r\n                  <b-pagination\r\n                      v-model=\"page\"\r\n                      :per-page=\"limit\"\r\n                      :total-rows=\"total\"\r\n                      class=\"m-0\"\r\n                      size=\"sm\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-5\">\r\n            <div class=\"card card-body\">\r\n              <table class=\"table m-0\">\r\n                <tbody>\r\n                <tr v-if=\"selectedTrItem.id\">\r\n                  <td class=\"text-muted text-center p-0\" colspan=\"2\">\r\n                    <div class=\"p-4\">\r\n                      <div v-if=\"['SIGNED', 'CANCELED'].indexOf(selectedTrItem.status) === -1\">\r\n                        <b-button-group v-if=\"\r\n                                (selectedTrItem.action === 'SIGNATURE' &&\r\n                                  !selectedTrItem.signed) ||\r\n                                (selectedTrItem.action === 'AGREEMENT' &&\r\n                                  !selectedTrItem.isAgreed) ||\r\n                                (selectedTrItem.action === 'REVIEW' &&\r\n                                  !selectedTrItem.isViewed && !selectedTrItem.cancelled)\r\n                              \">\r\n                          <!-- DXA uchun project yaratish  -->\r\n                          <b-button\r\n                              v-if=\"selectedTrItem.applicationTypeInProject === 'FROM_DXA' && selectedTrItem.status === 'SEND_FOR_COMMISSION'\"\r\n                              variant=\"success\"\r\n                              @click=\"signItem(selectedTrItem)\"\r\n                          >\r\n                            <i class=\"fa fa-check\"></i><br>\r\n                            {{ $t('actions.for_start_commission') }}\r\n                          </b-button>\r\n                          <!-- Boshqalar uchun tasdiqlash, korish, imzolash  -->\r\n                          <b-button\r\n                              v-if=\"selectedTrItem.applicationTypeInProject !== 'FROM_DXA' && selectedTrItem.applicationTypeInProject !== 'NOT_BELONG' && ['REJECTED'].indexOf(selectedTrItem.status) === -1\"\r\n                              variant=\"success\"\r\n                              @click=\"signItem(selectedTrItem)\"\r\n                          >\r\n                            <i class=\"fa fa-check\"></i><br>\r\n                            {{\r\n                              selectedTrItem.action === \"SIGNATURE\"\r\n                                  ? (selectedTrItem.status === 'SEND_SIGN' ? $t(\"submodules.commission.doc_status.send_for_commission\") : $t(\"submodules.reports.make_sign\"))\r\n                                  : selectedTrItem.action === \"REVIEW\"\r\n                                      ? (selectedTrItem.status === 'SEND_FOR_COMMISSION' ? $t(\"submodules.commission.doc_status.send_for_commission\") : $t(\"confirm\"))\r\n                                      : selectedTrItem.action === \"AGREEMENT\"\r\n                                          ? $t(\"submodules.reports.make_agreement\")\r\n                                          : \"\"\r\n                            }}\r\n                          </b-button>\r\n                          <b-button\r\n                              v-if=\"selectedTrItem.applicationTypeInProject === 'NOT_BELONG'\"\r\n                              variant=\"success\"\r\n                              @click=\"signItem(selectedTrItem)\"\r\n                          >\r\n                            <i class=\"fa fa-check\"></i><br>\r\n                            {{ $t(\"submodules.reports.make_sign\") }}\r\n                          </b-button>\r\n                          <b-button\r\n                              v-if=\"selectedTrItem.applicationTypeInProject !== 'FROM_DXA'\r\n                                 && selectedTrItem.status ==='SEND_FOR_COMMISSION'\r\n                                 && selectedTrItem.action === 'SIGNATURE'\"\r\n                              variant=\"success\"\r\n                              @click=\"signItem(selectedTrItem)\"\r\n                          >\r\n                            <i class=\"fa fa-check\"></i><br>\r\n                            {{ $t(\"submodules.reports.make_sign\") }}\r\n                          </b-button>\r\n                          <b-button\r\n                              v-if=\"(selectedTrItem.applicationTypeInProject === 'FROM_DXA' && selectedTrItem.status !=='SEND_FOR_COMMISSION' && selectedTrItem.action !== 'SIGNATURE')\"\r\n                              variant=\"success\"\r\n                              @click=\"signItem(selectedTrItem)\"\r\n                          >\r\n                            <i class=\"fa fa-check\"></i><br>\r\n                            {{\r\n                              selectedTrItem.action === \"REVIEW\"\r\n                                  ? $t(\"confirm\")\r\n                                  : selectedTrItem.action === \"AGREEMENT\"\r\n                                      ? $t(\"submodules.reports.make_agreement\")\r\n                                      : \"\"\r\n                            }}\r\n                          </b-button>\r\n                          <b-button\r\n                              v-if=\"(selectedTrItem.applicationTypeInProject === 'FROM_DXA' && selectedTrItem.status ==='SEND_SIGN'\r\n                              && selectedTrItem.action ==='SIGNATURE')\"\r\n                              variant=\"success\"\r\n                              @click=\"signAcceptedItem(selectedTrItem)\"\r\n                          >\r\n                            <i class=\"fa fa-check\"></i><br>\r\n                            {{ $t(\"submodules.reports.doc_make_sign\") }}\r\n                          </b-button>\r\n                          <b-button\r\n                              v-if=\"(selectedTrItem.applicationTypeInProject === 'FROM_DXA' && selectedTrItem.status ==='SEND_SIGN'\r\n                              && selectedTrItem.action ==='SIGNATURE') \"\r\n                              variant=\"danger\"\r\n                              @click=\"signRejectedItem(selectedTrItem)\"\r\n                          >\r\n                            <i class=\"fa fa-times\"></i><br>\r\n                            {{ $t(\"submodules.reports.doc_reject_make_sign\") }}\r\n                          </b-button>\r\n                          <b-button\r\n                              v-if=\"selectedTrItem.applicationTypeInProject !== 'FROM_DXA'\r\n                                 && selectedTrItem.applicationTypeInProject !=='NOT_BELONG'\r\n                                 && ['SENT_FOR_REJECT', 'REJECTED', 'TO_INVOKE_SIGNED', 'TO_SIGN_FINISH_LETTER', 'FINISH_LETTER_SIGN_AND_SEND'].indexOf(selectedTrItem.status) === -1 && !selectedTrItem.isHeadOfDepartment\"\r\n                              variant=\"danger\"\r\n                              @click=\"showRejectedModal\"\r\n                          >\r\n                            <i class=\"fa fa-times\"></i><br>\r\n                            {{ $t(\"submodules.reports.rejected\") }}\r\n                          </b-button>\r\n                          <!--Rasmiylatirishda hato kamchiliklar tufayli qaytarildi-->\r\n                          <b-button\r\n                              v-if=\"(selectedTrItem.applicationTypeInProject === 'FROM_DXA' && selectedTrItem.status === 'SEND_SIGN')\"\r\n                              v-b-tooltip.hover.top\r\n                              :title=\"$t('submodules.commission.returnByRais')\"\r\n                              class=\"ml-1\"\r\n                              variant=\"warning\"\r\n                              @click=\"showRejectedByRaisModal(selectedTrItem)\"\r\n                          >\r\n                            <i class=\"fa fa-times\"></i><br>\r\n                            {{ $t(\"column.return\") }}\r\n                          </b-button>\r\n                          <b-button\r\n                              v-if=\"['TO_SIGN_REJECT_LETTER'].indexOf(selectedTrItem.status) === -1 && selectedTrItem.action === 'SIGNATURE' && selectedTrItem.fileType === 'docx'\"\r\n                              :to=\"{\r\n                                name: 'Office-DOCUMENT-commission',\r\n                                query: { id: selectedTrItem.letterId, page: 'GET' },\r\n                              }\"\r\n                              target=\"_blank\"\r\n                              variant=\"light\"\r\n                          >\r\n                            <i class=\"fa fa-pencil-alt\"></i><br>\r\n                            {{ $t(\"actions.edit\") }}\r\n                          </b-button>\r\n                        </b-button-group>\r\n                        <!-- Loyihani korish va attachmentni  korish -->\r\n                        <b-button-group>\r\n                          <!-- loyihani korish-->\r\n                          <b-button\r\n                              v-if=\"['SENT_FOR_REJECT', 'REJECT_LETTER_CREATED', 'TO_SIGN_REJECT_LETTER', 'REJECTED', 'TO_INVOKE_SIGNED', 'FINISH_LETTER_SIGN_AND_SEND'].indexOf(selectedTrItem.status) === -1\"\r\n                              variant=\"info\"\r\n                              @click=\"viewProject(selectedTrItem)\"\r\n                          >\r\n                            <i class=\"fa fa-eye\"></i><br>\r\n                            {{ $t(\"actions.view_project\") }}\r\n                          </b-button>\r\n                          <!-- Xujjatni ko'rish -->\r\n                          <b-button variant=\"primary\" @click=\"viewIlova(selectedTrItem)\" v-if=\"getExt(selectedTrItem.uploadPath ? selectedTrItem.uploadPath : selectedTrItem.url) === 'pdf'\" >\r\n                            <i class=\"fa fa-eye\"></i><br>\r\n                            {{ $t(\"actions.view_document\") }}\r\n                          </b-button>\r\n                          <!-- Xujjatni docx bolsa only ofisga otish ko'rish [pastroqda bir bi xil tugma bor] -->\r\n                          <b-button variant=\"outline-info\" @click=\"openOnlyOffice(selectedTrItem.letterId)\" v-if=\"getExt(selectedTrItem.uploadPath ? selectedTrItem.uploadPath : selectedTrItem.url) === 'docx'\" >\r\n                            <i class=\"fa fa-pen\"></i><br>\r\n                            {{ $t(\"actions.edit\") }}\r\n                          </b-button>\r\n                        </b-button-group>\r\n                      </div>\r\n                      <b-button-group v-else>\r\n                        <b-button variant=\"info\" @click=\"viewProject(selectedTrItem)\" >\r\n                          <i class=\"fa fa-eye\"></i><br>\r\n                          {{ $t(\"actions.view_project\") }}\r\n                        </b-button>\r\n                        <!-- Xujjatni ko'rish -->\r\n                        <b-button variant=\"primary\" @click=\"viewIlova(selectedTrItem)\" v-if=\"getExt(selectedTrItem.uploadPath ? selectedTrItem.uploadPath : selectedTrItem.url) === 'pdf'\" >\r\n                          <i class=\"fa fa-eye\"></i><br>\r\n                          {{ $t(\"actions.view_document\") }}\r\n                        </b-button>\r\n                        <!-- Xujjatni docx bolsa only ofisga otish ko'rish [teparoqda bior xil tugma bor] -->\r\n                        <b-button variant=\"outline-info\" @click=\"openOnlyOffice(selectedTrItem.letterId)\" v-if=\"getExt(selectedTrItem.uploadPath ? selectedTrItem.uploadPath : selectedTrItem.url) === 'docx'\" >\r\n                          <i class=\"fa fa-pen\"></i><br>\r\n                          {{ $t(\"actions.edit\") }}\r\n                        </b-button>\r\n                      </b-button-group>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"text-muted\">\r\n                    <b>\r\n                      {{ $t(\"docName\") }}\r\n                    </b>\r\n                  </td>\r\n                  <td>\r\n                    {{ selectedTrItem.id && selectedTrItem.fileName ? selectedTrItem.fileName : \"\" }}\r\n                  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                  <td class=\"text-muted\">\r\n                    <b>\r\n                      {{ $t(\"docCreatedDate\") }}\r\n                    </b>\r\n                  </td>\r\n                  <td>\r\n                    {{ selectedTrItem.created }}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"text-muted\">\r\n                    <b>\r\n                      {{ $t(\"submodules.dxa.dxa_application_number\") }}\r\n                    </b>\r\n                  </td>\r\n                  <td>\r\n                    {{ visaInfoById.applicationRegNumber }}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"text-muted\">\r\n                    <b>\r\n                      {{ $t(\"submodules.commission.income_date\") }}\r\n                    </b>\r\n                  </td>\r\n                  <td>\r\n                    {{ visaInfoById.dateCameFromDxa }}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"text-muted\">\r\n                    <b> {{ $t(\"submodules.dxa.application_type\") }}</b> <br>\r\n                  </td>\r\n                  <td>\r\n                    <span v-if=\"visaInfoById.applicationType === 'FOR_SALE'\" class=\"text-left\" style=\"font-size: 12px\" >\r\n                      {{ $t(\"submodules.dxa.dxa_application_1\") }}\r\n                    </span>\r\n                    <span\r\n                        v-else-if=\"visaInfoById.applicationType === 'FOR_ADD'\"\r\n                        class=\"text-left\"\r\n                        style=\"font-size: 12px\"\r\n                    > {{ $t(\"submodules.dxa.dxa_application_2\") }}\r\n                    </span>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"text-muted\">\r\n                    <b>{{ $t(\"whoSent\") }}</b>\r\n                  </td>\r\n                  <td class=\"pl-0\">\r\n                    <ul v-if=\"selectedTrItem.id\" id=\"il\" class=\"list-unstyled chat-list\" >\r\n                      <li>\r\n                        <div class=\"media d-flex\" style=\"align-items: center\" >\r\n                          <div class=\"align-self-center mr-3\"></div>\r\n                          <div v-if=\"selectedTrItem.ownerUploadPath\" class=\"align-self-center mr-3\" >\r\n                            <img\r\n                                :src=\"`${hrUrl}/${selectedTrItem.ownerUploadPath}`\"\r\n                                alt\r\n                                class=\"rounded-circle avatar-sm\"\r\n                                height=\"auto\"\r\n                            />\r\n                          </div>\r\n                          <div v-if=\"!selectedTrItem.ownerUploadPath\" class=\"avatar-sm align-self-center mr-3\" >\r\n                            <span\r\n                                class=\" avatar-title rounded-circle bg-soft-primary text-primary\">{{ selectedTrItem.ownerFirstName.charAt(0)\r\n                              }}</span>\r\n                          </div>\r\n                          <div class=\"media-body overflow-hidden\">\r\n                            <h5 class=\"font-size-14 mb-1\">\r\n                              {{\r\n                                `${selectedTrItem.ownerLastName} ${selectedTrItem.ownerFirstName} ${selectedTrItem.ownerParentName}`\r\n                              }}\r\n                            </h5>\r\n                            <p class=\"m-0\">\r\n                              {{\r\n                                getName({\r\n                                  nameLt: selectedTrItem.depNameLt,\r\n                                  nameRu: selectedTrItem.depNameRu,\r\n                                  nameUz: selectedTrItem.depNameUz,\r\n                                })\r\n                              }}\r\n                            </p>\r\n                            <p class=\"m-0\">\r\n                              {{\r\n                                getName({\r\n                                  nameLt: selectedTrItem.positionNameLt,\r\n                                  nameRu: selectedTrItem.positionNameRu,\r\n                                  nameUz: selectedTrItem.positionNameUz,\r\n                                })\r\n                              }}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      </li>\r\n                    </ul>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"text-muted\">\r\n                    <b>{{ $t(\"puropseOfSending\") }}</b>\r\n                  </td>\r\n                  <td>\r\n                    {{\r\n                      selectedTrItem.id\r\n                          ? selectedTrItem.action === \"SIGNATURE\"\r\n                              ? $t(\"forSignature\")\r\n                              : selectedTrItem.action === \"AGREEMENT\"\r\n                                  ? $t(\"forAgreement\")\r\n                                  : selectedTrItem.action === \"REVIEW\"\r\n                                      ? $t(\"forReview\")\r\n                                      : \"\"\r\n                          : \"\"\r\n                    }}\r\n                  </td>\r\n                </tr>\r\n                <tr v-if=\"filesList.length > 0\">\r\n                  <td class=\"text-muted\">\r\n                    <b>{{ $t(\"letter_ilovalar\") }}</b>\r\n                  </td>\r\n                  <td></td>\r\n                </tr>\r\n                <tr v-for=\"(item, index) in filesList\" :key=\"index + 'FILE'\" class=\"mt-3\" >\r\n                  <td class=\"p-2\" colspan=\"2\">\r\n                    <div class=\"d-flex align-items-center bg-light p-2 justify-content-between\">\r\n                      <div class=\"d-flex align-items-center\">\r\n                        <a\r\n                            :download=\"getExt(item.uploadPath) === 'pdf' ? false: item.uploadPath\"\r\n                            :href=\"getExt(item.uploadPath) === 'pdf' ? `#` : `${baseUrl}/${item.uploadPath}`\"\r\n                            @click=\"viewIlova(item)\"\r\n                        >\r\n                          <FileView :uploadPath=\"item.fileName\" class=\"my-card-hovered\" />\r\n                        </a>\r\n                        <span class=\"ml-2\">\r\n                          {{ item.fileName }}\r\n                        </span>\r\n                      </div>\r\n                      <a\r\n                          :href=\"`${baseUrl}/${item.uploadPath}`\"\r\n                          class=\"mr-3 p-1 btn btn-sm btn-light\"\r\n                          download\r\n                      >\r\n                        <i class=\"bx bx-download font-size-20\"></i>\r\n                      </a>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n                <tr v-if=\"selectedTrItem.status === 'REJECT_LETTER_CREATED' && rejectedLetter\">\r\n                  <td class=\"text-muted\">\r\n                    <a :download=\"getExt(rejectedLetter.url) === 'pdf' ? false : rejectedLetter.url\"\r\n                       :href=\"getExt(rejectedLetter.url) === 'pdf' ? `#` : `${baseUrl}/${rejectedLetter.url}`\"\r\n                       @click=\"viewFile(rejectedLetter.url)\"\r\n                    >\r\n                      <FileView :uploadPath=\"rejectedLetter.url\" class=\"d-inline-block my-card-hovered\"/>\r\n                      <b class=\"align-top d-inline-block p-2 py-3\">{{ rejectedLetter.fileName }}</b>\r\n                    </a>\r\n                  </td>\r\n                  <td>\r\n                    <b-btn variant=\"success m-2\" @click=\"sendLetterToChairman.modal = true\"\r\n                           v-if=\"rejectedLetter.status === 'CREATED'\">\r\n                      <i class=\"fa fa-file-signature\"></i>\r\n                      {{ $t('submodules.commission.send_for_sign') }}\r\n                    </b-btn>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"text-muted\">\r\n                    <b>{{ $t(\"qabulQiluvchilar\") }}</b>\r\n                  </td>\r\n                  <td></td>\r\n                </tr>\r\n                </tbody>\r\n              </table>\r\n              <b-overlay\r\n                  :opacity=\"0.1\"\r\n                  :show=\"loaderReceiver\"\r\n                  rounded=\"sm\"\r\n              >\r\n                <Receivers\r\n                    :selectedAgreement=\"infoData.agreement\"\r\n                    :selectedReview=\"infoData.review\"\r\n                    :selectedSignature=\"infoData.signature\"\r\n                />\r\n              </b-overlay>\r\n              <!-- COMMISSION FILES -->\r\n              <div class=\"wrapper\" >\r\n                <span CLASS=\"fromcenter\">{{ $t('commission_attached_files') }}</span>\r\n              </div>\r\n              <div\r\n                  v-if=\"selectedTrItem && projectFilesList.length\"\r\n                  class=\"card card-body card-tabs mt-1\"\r\n                  style=\"min-height: 10em; width: 100%\"\r\n              >\r\n                <tr v-for=\"(item, index) in projectFilesList\" :key=\"index + 'FILE'\" class=\"mt-1\" >\r\n                  <div class=\"d-flex align-items-center bg-light p-2 justify-content-between\">\r\n                    <div class=\"d-flex align-items-center\">\r\n                      <a :download=\"getExt(item.url) === 'PDF' || getExt(item.url) === 'pdf' ? false : item.url\"\r\n                         :href=\"getExt(item.url) === 'PDF' || getExt(item.url) === 'pdf' ? `#` : `${baseUrl}/${item.url}`\"\r\n                         @click=\"viewIlovaProject(item.url)\"\r\n                      >\r\n                        <BaseFileViewer :uploadPath=\"item.url\" class=\"my-card-hovered\" />\r\n                      </a>\r\n                      <span class=\"ml-2\">\r\n                        {{ item.fileName }}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </tr>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <b-modal\r\n        v-model=\"viewFileModal\"\r\n        :title=\"$t('actions.view')\"\r\n        scrollable\r\n        size=\"xl\"\r\n    >\r\n      <div\r\n          v-if=\"fileUploadPath\"\r\n          style=\"height: 700px\"\r\n      >\r\n        <embed\r\n            :src=\"`${baseUrl}/${fileUploadPath}`\"\r\n            height=\"800\"\r\n            type=\"application/pdf\"\r\n            width=\"100%\"\r\n        />\r\n      </div>\r\n      <template v-slot:modal-footer>\r\n        <b-button\r\n            variant=\"secondary\"\r\n            @click=\"viewFileModal = false\"\r\n        >{{\r\n            $t(\"actions.close\")\r\n          }}\r\n        </b-button>\r\n      </template>\r\n    </b-modal>\r\n  </div>\r\n  <!-- </Layout> -->\r\n</template>\r\n\r\n<style>\r\n.bg-class {\r\n  background-color: #fbfbfb !important;\r\n}\r\n</style>"],"sourceRoot":"src/modules/letter/income"}]}