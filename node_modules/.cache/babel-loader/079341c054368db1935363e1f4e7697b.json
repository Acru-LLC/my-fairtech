{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\letter\\visa\\visa.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\letter\\visa\\visa.vue","mtime":1675054786274},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxBQ1JVIFBST0pFQ1RcXEZhaXIgVGVjaFxcYWNydS1mcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vIGltcG9ydCBMYXlvdXQgZnJvbSAiQC9yb3V0ZXIvbGF5b3V0cy9tYWluIjsKLy8gaW1wb3J0IFBhZ2VIZWFkZXIgZnJvbSAiQC9jb21wb25lbnRzL3BhZ2UtaGVhZGVyIjsKaW1wb3J0IFNlcnZpY2UgZnJvbSAiLi4vbGV0dGVyU2VydmljZSI7IC8vIGltcG9ydCBjcnVkQW5kTGlzdHNTZXJ2aWNlIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL2NydWRfYW5kX2xpc3Quc2VydmljZScKCi8qKg0KICogUHJvZHVjdHMtb3JkZXIgY29tcG9uZW50DQogKi8KCmltcG9ydCB7IGNuZkRvYywgc2hvd01zZ1N1Y2Nlc3MgfSBmcm9tICJAL2hlbHBlciI7CmltcG9ydCBTaWduS2V5cyBmcm9tICIuLi9TaWduS2V5cy52dWUiOyAvLyBpbXBvcnQgUmVjZWl2ZXJzIGZyb20gIi4vcmVjZWl2ZXJzLnZ1ZSI7CgppbXBvcnQgRWRpdG9yIGZyb20gIi4uL2NyZWF0ZS9mcm9hbC5lZGl0b3IudnVlIjsKaW1wb3J0IE1vZGFsIGZyb20gIi4uL2NyZWF0ZS9tb2RhbC52dWUiOwppbXBvcnQgRFhBQXBwbGljYXRpb25BbGxJbmZvIGZyb20gIi4uL21vbml0b3IvRFhBIGluZm8vaW5kZXgiOwppbXBvcnQgY3J1ZEFuZExpc3RzU2VydmljZSBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9jcnVkX2FuZF9saXN0LnNlcnZpY2UnOwppbXBvcnQgTGV0dGVyU2VydmljZSBmcm9tICcuLi8uLi9sZXR0ZXIvbGV0dGVyU2VydmljZSc7CmltcG9ydCBWZXJpZnlEb2N1bWVudFNlcnZpY2UgZnJvbSAiLi4vLi4vbGV0dGVyL3ZlcmlmeURvY3VtZW50LnNlcnZpY2UiOwppbXBvcnQgbGV0dGVyU2VydmljZSBmcm9tICJAL21vZHVsZXMvbGV0dGVyL2xldHRlclNlcnZpY2UiOwppbXBvcnQgcGRmIGZyb20gJ3Z1ZS1wZGYnOwoiIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIHBkZjogcGRmLAogICAgU2lnbktleXM6IFNpZ25LZXlzLAogICAgRFhBQXBwbGljYXRpb25BbGxJbmZvOiBEWEFBcHBsaWNhdGlvbkFsbEluZm8sCiAgICAvLyBSZWNlaXZlcnMsCiAgICBFZGl0b3I6IEVkaXRvciwKICAgIE1vZGFsOiBNb2RhbAogIH0sCiAgd2F0Y2g6IHsKICAgIHBhZ2U6IGZ1bmN0aW9uIHBhZ2UoKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIHNlYXJjaFZhbHVlOiBmdW5jdGlvbiBzZWFyY2hWYWx1ZSh2KSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhlaWdodDogbnVsbCwKICAgICAgbW9kYWxEb2MxOiBmYWxzZSwKICAgICAgZmlsZUV5ZTogZmFsc2UsCiAgICAgIGZpbGVVcmw6ICcnLAogICAgICBpc1NpZGViYXI6IGZhbHNlLAogICAgICBjb21taXNzaW9uVHlwZUlkOiBudWxsLAogICAgICBjb21tZW50OiBudWxsLAogICAgICBnaXZlVmlzYURhdGU6IG51bGwsCiAgICAgIGNvbW1pc3Npb25Db21tZW50OiAnJywKICAgICAgY29tbWlzc2lvbk1vZGFsTG9hZGVyOiBmYWxzZSwKICAgICAgY29tbWlzc2lvblR5cGVzOiBbXSwKICAgICAgY29tbWlzc2lvbnNNb2RhbDogZmFsc2UsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBzcmM6IG51bGwsCiAgICAgIGxvYWRpbmdCeUlkOiBmYWxzZSwKICAgICAgbnVtUGFnZXM6IHVuZGVmaW5lZCwKICAgICAgcmVhc29uUmVqZWN0ZWQ6ICIiLAogICAgICBzZWxlY3RlZFRySXRlbToge30sCiAgICAgIHZpc2FJbmZvOiB7fSwKICAgICAgYWN0aXZlOiAiIiwKICAgICAgdGl0bGU6IHRoaXMuJHQoInJlY2VpdmVkIiksCiAgICAgIGl0ZW1zOiBbewogICAgICAgIHRleHQ6IHRoaXMuJHQoIm1lbnUiKSwKICAgICAgICBocmVmOiAiLyIKICAgICAgfSwgewogICAgICAgIHRleHQ6IHRoaXMuJHQoInJlY2VpdmVkIiksCiAgICAgICAgYWN0aXZlOiB0cnVlCiAgICAgIH1dLAogICAgICBsaXN0OiBbXSwKICAgICAgc2VhcmNoVmFsdWU6ICIiLAogICAgICBwYWdlOiAxLAogICAgICBsaW1pdDogMjAsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICB0b3RhbDogMSwKICAgICAgaXNNb2RhbDogZmFsc2UsCiAgICAgIGN1cnJlbnRJdGVtOiB7fSwKICAgICAgc2lnbmF0dXJlTW9kYWw6IGZhbHNlLAogICAgICBsb2FkZXJCdXR0b246IGZhbHNlLAogICAgICB2aXNhRmlsZVZpZXc6IHsKICAgICAgICBtb2RhbDogZmFsc2UsCiAgICAgICAgc3JjOiBudWxsCiAgICAgIH0sCiAgICAgIGlzTW9kYWxLZXlzOiBmYWxzZSwKICAgICAgYWdyZWVtZW50Q291bnQ6IDAsCiAgICAgIHNpZ25hdHVyZUNvdW50OiAwLAogICAgICByZXZpZXdDb3VudDogMCwKICAgICAgbG9hZGVyUmVjZWl2ZXI6IGZhbHNlLAogICAgICBpbmZvRGF0YToge30sCiAgICAgIHJlamVjdGVkTG9hZGVyOiBmYWxzZSwKICAgICAgaXNSZWplY3RlZE1vZGFsOiBmYWxzZSwKICAgICAgdmlld01vZGFsOiBmYWxzZSwKICAgICAgZmlsZXNMaXN0OiBbXSwKICAgICAgdmlld01vZGFsQmVmb3JlU2lnbmVkOiBmYWxzZSwKICAgICAgbG9hZGVyUGRmOiBmYWxzZSwKICAgICAgaWxvdmFVcGxvYWRQYXRoOiBudWxsLAogICAgICB2aWV3SWxvdmFNb2RhbDogZmFsc2UsCiAgICAgIGJhc2U2NDogbnVsbCwKICAgICAgZWRpdE1vZGFsOiBmYWxzZSwKICAgICAgbG9hZGVyOiBmYWxzZSwKICAgICAgY29udGV4dFRleHQ6ICIiCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRMaXN0KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgcGFyYW1zOiBmdW5jdGlvbiBwYXJhbXMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpdGVtc1BlclBhZ2U6IHRoaXMubGltaXQsCiAgICAgICAgICBwYWdlOiB0aGlzLnBhZ2UgLSAxCiAgICAgICAgfSwKICAgICAgICBzZWFyY2g6IHRoaXMuc2VhcmNoVmFsdWUKICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNhbmNlbEVZRTogZnVuY3Rpb24gY2FuY2VsRVlFKCkgewogICAgICB0aGlzLmZpbGVFeWUgPSBmYWxzZTsKICAgICAgdGhpcy5tb2RhbERvYzEgPSB0cnVlOwogICAgfSwKICAgIG9rRVlFOiBmdW5jdGlvbiBva0VZRSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLmZpbGVFeWUgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2xvc2VEb2M6IGZ1bmN0aW9uIGNsb3NlRG9jKCkgewogICAgICB0aGlzLmZpbGVFeWUgPSBmYWxzZTsKICAgICAgdGhpcy5tb2RhbERvYzEgPSB0cnVlOwogICAgfSwKICAgIG9wZW5FeWVGaWxlOiBmdW5jdGlvbiBvcGVuRXllRmlsZShpdGVtKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBWZXJpZnlEb2N1bWVudFNlcnZpY2UudmVyaWZ5RG9jdW1lbnRCeUlkKF90aGlzMy5zZWxlY3RlZFRySXRlbS5hcHBsaWNhdGlvbklkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmNvbW1pc3Npb25UeXBlcyA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgaWYgKGl0ZW0udXBsb2FkUGF0aCkgewogICAgICAgICAgICAgICAgICBfdGhpczMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczMubW9kYWxEb2MxID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmZpbGVFeWUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIF90aGlzMy5maWxlVXJsID0gaXRlbS51cGxvYWRQYXRoOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgVklTQUJ0bjogZnVuY3Rpb24gVklTQUJ0bigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoT2JqZWN0LmtleXMoX3RoaXM0LnNlbGVjdGVkVHJJdGVtKS5sZW5ndGggPT09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM0LiR0b2FzdChfdGhpczQuJHQoJ3N1Ym1vZHVsZXMuZG9jLnNlbGVjdGVkX2RvYycpLCB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBjcnVkQW5kTGlzdHNTZXJ2aWNlLmdldExpc3QoJ2VtcGxveWVlL2dldC1hbGwtZW1wbG95ZWUvaW4tbW9ub3BvbHktZGVwYXJ0bWVudCcsIF90aGlzNC52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZCwgbnVsbCwgdHJ1ZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5jb21taXNzaW9uVHlwZXMgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzNC5jb21taXNzaW9uc01vZGFsID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2hvd1Zpc2FGaWxlVmlldzogZnVuY3Rpb24gc2hvd1Zpc2FGaWxlVmlldyhhcHBsaWNhdGlvbklkKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nQnlJZCA9IHRydWU7CiAgICAgIGxldHRlclNlcnZpY2UuZHhhVmlzYURhdGFHZXRGaWxlKGFwcGxpY2F0aW9uSWQpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgICBfdGhpczUudmlzYUZpbGVWaWV3LnNyYyA9ICdkYXRhOmFwcGxpY2F0aW9uL3BkZjtiYXNlNjQsJyArIGRhdGE7CiAgICAgICAgX3RoaXM1LnZpc2FGaWxlVmlldy5tb2RhbCA9IHRydWU7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS5sb2FkaW5nQnlJZCA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICB2aXNhX2J0bjogZnVuY3Rpb24gdmlzYV9idG4oKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczYuY29tbWlzc2lvblR5cGVJZCAmJiBfdGhpczYuZ2l2ZVZpc2FEYXRlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5jb21taXNzaW9uTW9kYWxMb2FkZXIgPSB0cnVlOwogICAgICAgICAgICAgICAgICBMZXR0ZXJTZXJ2aWNlLlNpZ25hdHVyZUdpdmVWaXNhRm9yRFhBKHsKICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbklkOiBfdGhpczYuc2VsZWN0ZWRUckl0ZW0uYXBwbGljYXRpb25JZCwKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUlkOiBfdGhpczYuY29tbWlzc2lvblR5cGVJZCwKICAgICAgICAgICAgICAgICAgICBsZXR0ZXJJZDogX3RoaXM2LnNlbGVjdGVkVHJJdGVtLmlkCiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICBjb21tZW50OiBfdGhpczYuY29tbWVudCwKICAgICAgICAgICAgICAgICAgICBnaXZlVmlzYURhdGU6IF90aGlzNi5naXZlVmlzYURhdGUKICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LiR0b2FzdChfdGhpczYuJHQoJ3N1Y2Nlcy50aXRsZScpLCB7CiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmNvbW1pc3Npb25UeXBlSWQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIF90aGlzNi5jb21taXNzaW9uQ29tbWVudCA9ICcnOwogICAgICAgICAgICAgICAgICAgIF90aGlzNi5jb21tZW50ID0gJyc7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmdpdmVWaXNhRGF0ZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmNvbW1pc3Npb25zTW9kYWwgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgIF90aGlzNi5pc0NvbW1pdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuY29tbWlzc2lvbk1vZGFsTG9hZGVyID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmdldExpc3QoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5nZXRWaXNhSW5mbygpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuc2VsZWN0ZWRUckl0ZW0gPSB7fTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgICAgICAgICAgICAgfSkpKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0VmlzYUluZm86IGZ1bmN0aW9uIGdldFZpc2FJbmZvKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkVHJJdGVtLnN0YXR1cyAhPT0gIkNSRUFURUQiICYmIHRoaXMuc2VsZWN0ZWRUckl0ZW0uc3RhdHVzICE9PSAiU0VORF9GT1JfVEFLRV9WSVNBIikgewogICAgICAgIFNlcnZpY2UuZ2V0VmlzYUluZm8odGhpcy5zZWxlY3RlZFRySXRlbS5hcHBsaWNhdGlvbklkKS50aGVuKGZ1bmN0aW9uIChfcmVmMykgewogICAgICAgICAgdmFyIGRhdGEgPSBfcmVmMy5kYXRhOwogICAgICAgICAgX3RoaXM3LnZpc2FJbmZvID0gZGF0YTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7Ly8gdGhpcy5jYXRjaEVycihlcnIpOwogICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge30pOwogICAgICB9CiAgICB9LAogICAgRFhBSW5mb0J0bjogZnVuY3Rpb24gRFhBSW5mb0J0bigpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM4LmlzU2lkZWJhciA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LiRyZWZzLmlzU2lkZWJhcl9yZWYuZ2V0QXBwbGljYXRpb25JbmZvQnlJZCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LiRyZWZzLmlzU2lkZWJhcl9yZWYuZ2V0VmlzYUluZm9CeUlkKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNsb3NlU2lkZWJhcjogZnVuY3Rpb24gY2xvc2VTaWRlYmFyKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczkuaXNTaWRlYmFyID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9wZW5TaWduYXR1cmVNb2RhbEZvckNvbW1pc3Npb246IGZ1bmN0aW9uIG9wZW5TaWduYXR1cmVNb2RhbEZvckNvbW1pc3Npb24oKSB7CiAgICAgIGlmICh0aGlzLmNvbW1pc3Npb25UeXBlSWQpIHsKICAgICAgICB0aGlzLnNpZ25hdHVyZU1vZGFsID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiR0b2FzdCh0aGlzLiR0KCdtZXNzYWdlcy5maWxsX3JlcXVpcmVkX2ZpZWxkcycpLCB7CiAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjdXN0b21MYWJlbENvbW1pc3Npb25UeXBlczogZnVuY3Rpb24gY3VzdG9tTGFiZWxDb21taXNzaW9uVHlwZXMob3B0KSB7CiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMuY29tbWlzc2lvblR5cGVzLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pZCA9PSBvcHQ7CiAgICAgIH0pOwoKICAgICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdChzZWxlY3RlZC5mdWxsTmFtZSwgIiAtXG4gICAgICAgICIpLmNvbmNhdCh0aGlzLmdldE5hbWUoewogICAgICAgICAgbmFtZVJ1OiBzZWxlY3RlZC5kaXJlY3RvcnlQb3NpdGlvbk5hbWVSdSwKICAgICAgICAgIG5hbWVMdDogc2VsZWN0ZWQuZGlyZWN0b3J5UG9zaXRpb25OYW1lTHQsCiAgICAgICAgICBuYW1lVXo6IHNlbGVjdGVkLmRpcmVjdG9yeVBvc2l0aW9uTmFtZVV6CiAgICAgICAgfSksICIgIik7CiAgICAgIH0KCiAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBjaGFuZ2VUZXh0OiBmdW5jdGlvbiBjaGFuZ2VUZXh0KHRleHQpIHsKICAgICAgdGhpcy5jb250ZXh0VGV4dCA9IHRleHQ7CiAgICB9LAogICAgb2tNb2RhbDogZnVuY3Rpb24gb2tNb2RhbCgpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgdmFyIHRleHQgPSB0aGlzLiRyZWZzLmVkaXRvclJlZi50ZXh0OwogICAgICB0aGlzLiRyZWZzLmVkaXRNb2RhbFJlZi5sb2FkaW5nKHRydWUpOwogICAgICBTZXJ2aWNlLnNhdmVMZXR0ZXJCb2R5KHRoaXMuc2VsZWN0ZWRUckl0ZW0ubGV0dGVySWQsIHRleHQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB0ZW1wRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIF90aGlzMTAuc2VsZWN0ZWRUckl0ZW0pOwoKICAgICAgICBfdGhpczEwLnN1Y2Nlc3NFZGl0ZWQoKTsKCiAgICAgICAgX3RoaXMxMC5nZXRMaXN0KHRydWUsIHRlbXBEYXRhLmlkKTsKCiAgICAgICAgX3RoaXMxMC5lZGl0TW9kYWwgPSBmYWxzZTsKICAgICAgICAvKiBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICBsZXQgbmV3ZGF0YSA9IHRoaXMubGlzdC5maW5kKChlKSA9PiBlLmlkID09IHRlbXBEYXRhLmlkKTsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkVHJJdGVtID0gbmV3ZGF0YTsNCiAgICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOw0KICAgICAgICAgIHRoaXMuZ2V0UmVjZWl2ZXJzKHRoaXMuc2VsZWN0ZWRUckl0ZW0pOw0KICAgICAgICB9LCA1MDApOyAqLwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge30pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMTAuJHJlZnMuZWRpdE1vZGFsUmVmLmxvYWRpbmcoZmFsc2UpOwogICAgICB9KTsKICAgIH0sCiAgICB2aWV3TW9kYWxDbGljazogZnVuY3Rpb24gdmlld01vZGFsQ2xpY2soKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMuZWRpdE1vZGFsUmVmLmxvYWRpbmdQZGYodHJ1ZSk7CiAgICAgIHRoaXMudmlld01vZGFsQmVmb3JlU2lnbmVkID0gdHJ1ZTsKICAgICAgdGhpcy5sb2FkZXJQZGYgPSB0cnVlOwogICAgICB0aGlzLmJhc2U2NCA9IG51bGw7CiAgICAgIFNlcnZpY2UuY29udmVydCh0aGlzLmNvbnRleHRUZXh0KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMTEuYmFzZTY0ID0gcmVzLmRhdGE7CiAgICAgICAgfSwgNDAwKTsKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxMS5sb2FkZXJQZGYgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMxMS4kcmVmcy5lZGl0TW9kYWxSZWYubG9hZGluZ1BkZihmYWxzZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGVkaXRMZXR0ZXI6IGZ1bmN0aW9uIGVkaXRMZXR0ZXIoaXRlbSkgewogICAgICAvKiB0aGlzLmVkaXRNb2RhbCA9IHRydWU7DQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgU2VydmljZS5nZXRCb2R5KGl0ZW0ubGV0dGVySWQpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIGxldCBlZGl0b3IgPSB0aGlzLiRyZWZzLmVkaXRvclJlZjsNCiAgICAgICAgICBpZiAoZWRpdG9yKSB7DQogICAgICAgICAgICBpZiAoIXRoaXMuX2VtcHR5KHJlcy5kYXRhKSkgew0KICAgICAgICAgICAgICBlZGl0b3Iuc2V0VGV4dENvbnRlbnQocmVzLmRhdGEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9LCA0MDApOyAqLwogICAgfSwKICAgIHZpZXdQcm9qZWN0OiBmdW5jdGlvbiB2aWV3UHJvamVjdChzZWxlY3RlZExldHRlcikgewogICAgICAvKiB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgICAgbmFtZTogc2VsZWN0ZWRMZXR0ZXIucHJvamVjdFR5cGUgPT09ICdDT01NSVNTSU9OJyA/ICdDb21taXNzaW9uUHJvamVjdHMnIDogJ1Byb2plY3RzTWFpbicsDQogICAgICAgICAgcXVlcnk6IHsgcGFnZTogIm92ZXJ2aWV3IiwgaWQ6IHNlbGVjdGVkTGV0dGVyLnByb2plY3RJZCB9LA0KICAgICAgfSk7ICovCiAgICAgIHZhciByb3V0ZURhdGEgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgbmFtZTogc2VsZWN0ZWRMZXR0ZXIucHJvamVjdFR5cGUgPT09ICdDT01NSVNTSU9OJyA/ICdDb21taXNzaW9uUHJvamVjdHMnIDogJ1Byb2plY3RzTWFpbicsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHBhZ2U6ICJvdmVydmlldyIsCiAgICAgICAgICBpZDogc2VsZWN0ZWRMZXR0ZXIucHJvamVjdElkCiAgICAgICAgfQogICAgICB9KTsKICAgICAgd2luZG93Lm9wZW4ocm91dGVEYXRhLmhyZWYsICdfYmxhbmsnKTsKICAgIH0sCiAgICB2aWV3SWxvdmE6IGZ1bmN0aW9uIHZpZXdJbG92YShpdGVtKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmdldEV4dChpdGVtLnVwbG9hZFBhdGggPyBpdGVtLnVwbG9hZFBhdGggOiBpdGVtLnVybCkgPT09ICJwZGYiKSB7CiAgICAgICAgdGhpcy5pbG92YVVwbG9hZFBhdGggPSBpdGVtLnVwbG9hZFBhdGggPyBpdGVtLnVwbG9hZFBhdGggOiBpdGVtLnVybDsKICAgICAgICB0aGlzLnZpZXdJbG92YU1vZGFsID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNvbnZlcnRUb1BkZihpdGVtKS50aGVuKGZ1bmN0aW9uICh1cGxvYWRQYXRoKSB7CiAgICAgICAgICBpZiAodXBsb2FkUGF0aCkgewogICAgICAgICAgICBfdGhpczEyLmlsb3ZhVXBsb2FkUGF0aCA9IHVwbG9hZFBhdGg7CiAgICAgICAgICAgIF90aGlzMTIudmlld0lsb3ZhTW9kYWwgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY29udmVydFRvUGRmOiBmdW5jdGlvbiBjb252ZXJ0VG9QZGYoc2VsZWN0ZWRJdGVtKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHZhciBmb3JTaWduID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikgewogICAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgICB1cmw6ICIiLmNvbmNhdChzZWxlY3RlZEl0ZW0udXJsKSwKICAgICAgICAgIG91dHB1dHR5cGU6ICIucGRmIiwKICAgICAgICAgIGZvclNpZ246IGZvclNpZ24sCiAgICAgICAgICBrZXk6IHNlbGVjdGVkSXRlbS5rZXkKICAgICAgICB9OwogICAgICAgIFNlcnZpY2UuY29udmVydFRvUGRmQnlBcGkoY29uZmlnKS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgICAgaWYgKHJzLmRhdGEudXBsb2FkUGF0aCkgewogICAgICAgICAgICBfdGhpczEzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMxMy5zcmMgPSAiIi5jb25jYXQoX3RoaXMxMy5iYXNlVXJsLCAiLyIpLmNvbmNhdChycy5kYXRhLnVwbG9hZFBhdGgpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHJlcyhycy5kYXRhLnVwbG9hZFBhdGgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVzKGZhbHNlKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgLy8gdGhpcy5jYXRjaEVycihlKTsKICAgICAgICAgIHJlaihlKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0QnlJZExldHRlcjogZnVuY3Rpb24gZ2V0QnlJZExldHRlcigpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgU2VydmljZS5nZXRCeUlkTGV0dGVyKHRoaXMuc2VsZWN0ZWRUckl0ZW0ubGV0dGVySWQpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgX3RoaXMxNC5jdXJyZW50RG9jID0gcnMuZGF0YTsKICAgICAgICBfdGhpczE0LmxvYWRlclBkZiA9IHRydWU7CgogICAgICAgIF90aGlzMTQuY29udmVydFRvUGRmKHJzLmRhdGEpLnRoZW4oZnVuY3Rpb24gKHVwbG9hZFBhdGgpIHsKICAgICAgICAgIGlmICghdXBsb2FkUGF0aCkgewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczE0LmNvbnZlcnRUb1BkZihycy5kYXRhKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzMTQubG9hZGVyUGRmID0gZmFsc2U7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIF90aGlzMTQubG9hZGVyUGRmID0gZmFsc2U7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sIDQwMDApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMxNC5sb2FkZXJQZGYgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHt9KTsKICAgIH0sCiAgICB2aWV3TGV0dGVyOiBmdW5jdGlvbiB2aWV3TGV0dGVyKCkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CgogICAgICB0aGlzLnZpZXdNb2RhbEJlZm9yZVNpZ25lZCA9IHRydWU7CiAgICAgIHRoaXMubG9hZGVyUGRmID0gdHJ1ZTsKICAgICAgdGhpcy5iYXNlNjQgPSBudWxsOwogICAgICBTZXJ2aWNlLnZpZXdQZGZCeUxldHRlcklkKHRoaXMuc2VsZWN0ZWRUckl0ZW0ubGV0dGVySWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMxNS5iYXNlNjQgPSByZXMuZGF0YTsKICAgICAgICB9LCAzMDApOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczE1LmxvYWRlclBkZiA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICB2aWV3RG9jQmVmb3JlU2lnbmVkOiBmdW5jdGlvbiB2aWV3RG9jQmVmb3JlU2lnbmVkKCkgewogICAgICAvLyB0aGlzLnZpZXdNb2RhbEJlZm9yZVNpZ25lZCA9IHRydWU7CiAgICAgIC8vIHRoaXMuZ2V0QnlJZExldHRlcigpOwogICAgICB0aGlzLnZpZXdMZXR0ZXIoKTsKICAgIH0sCiAgICBzZXRDdXJyZW50UGFnZTogZnVuY3Rpb24gc2V0Q3VycmVudFBhZ2UocGFnZSkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZTsKICAgIH0sCiAgICBnZXRBdHRhY2hlZEZpbGVzQnlJZDogZnVuY3Rpb24gZ2V0QXR0YWNoZWRGaWxlc0J5SWQoaWQpIHsKICAgICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgICAgU2VydmljZS5nZXRBdHRhY2hlZEZpbGVzQnlJZChpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxNi5maWxlc0xpc3QgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZVJlamVjdGVkOiBmdW5jdGlvbiBzYXZlUmVqZWN0ZWQocGF5bG9hZCkgewogICAgICB2YXIgX3RoaXMxNyA9IHRoaXM7CgogICAgICB0aGlzLmNvbnZlcnRUb1BkZih0aGlzLnNlbGVjdGVkVHJJdGVtKS50aGVuKGZ1bmN0aW9uIChyMSkgewogICAgICAgIF90aGlzMTcucmVqZWN0ZWRMb2FkZXIgPSB0cnVlOwogICAgICAgIFNlcnZpY2Uuc2F2ZVJlamVjdGVkKF90aGlzMTcuc2VsZWN0ZWRUckl0ZW0ubGV0dGVySWQsIF90aGlzMTcuc2VsZWN0ZWRUckl0ZW0uaWQsIF90aGlzMTcucmVhc29uUmVqZWN0ZWQsIHBheWxvYWQpLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgICAgdmFyIHRlbXBEYXRhOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgX3RoaXMxNy5pc1JlamVjdGVkTW9kYWwgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgdGVtcERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpczE3LnNlbGVjdGVkVHJJdGVtKTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNy5zdWNjZXNzU2F2ZWQoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTcuZ2V0TGlzdCh0cnVlLCB0ZW1wRGF0YS5pZCk7CgogICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgICAgfSkpKS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMTcucmVqZWN0ZWRMb2FkZXIgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc2hvd1JlamVjdGVkTW9kYWw6IGZ1bmN0aW9uIHNob3dSZWplY3RlZE1vZGFsKCkgewogICAgICB0aGlzLmlzUmVqZWN0ZWRNb2RhbCA9IHRydWU7CiAgICB9LAogICAgdmlld0RvY1NpZ25lZDogZnVuY3Rpb24gdmlld0RvY1NpZ25lZCgpIHsKICAgICAgdGhpcy52aWV3TW9kYWwgPSB0cnVlOwogICAgfSwKICAgIHNpZ25TdWNjZXNzOiBmdW5jdGlvbiBzaWduU3VjY2VzcyhkYXRhKSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICB2YXIgcGF5bG9hZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBheWxvYWQgPSB7CiAgICAgICAgICAgICAgICAgIHNpZ25lZENvbnRlbnQ6IGRhdGEuY29udGVudCwKICAgICAgICAgICAgICAgICAgaW5uOiBkYXRhLmlubiwKICAgICAgICAgICAgICAgICAgcG5mbDogZGF0YS5wbmZsCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMxOC5pc1JlamVjdGVkTW9kYWwpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMxOC5pc01vZGFsS2V5cyA9IGZhbHNlOwogICAgICAgICAgICAgICAgX3RoaXMxOC5zaWduYXR1cmVNb2RhbCA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIF90aGlzMTguc2F2ZVJlamVjdGVkKHBheWxvYWQpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTguc2VsZWN0ZWRUckl0ZW0uc3RhdHVzID09PSAnQ09NTUlTU0lPTl9TRU5EJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIFNlcnZpY2Uub25seURvY1NpZ24ocGF5bG9hZCwgX3RoaXMxOC5zZWxlY3RlZFRySXRlbS5pZCkudGhlbiggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgICAgICAgICAgICB2YXIgdGVtcERhdGE7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTguaXNNb2RhbEtleXMgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE4LnNpZ25hdHVyZU1vZGFsID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpczE4LnNlbGVjdGVkVHJJdGVtKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaG93TXNnU3VjY2VzcyhfdGhpczE4LiR0KCJzdWNjZXNzRG9jU2lnbmVkIikpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTguZ2V0TGlzdCh0cnVlLCB0ZW1wRGF0YS5pZCk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgICAgICAgICAgIH0pKSkuY2F0Y2goZnVuY3Rpb24gKGVycikgey8vIHRoaXMuY2F0Y2hFcnIoZXJyKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTguc2VsZWN0ZWRUckl0ZW0uc3RhdHVzID09PSAnTk9UX0JFTE9ORycpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIHJldHVybiBTZXJ2aWNlLm9ubHlEb2NTaWduKHBheWxvYWQsIF90aGlzMTguc2VsZWN0ZWRUckl0ZW0uaWQpLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICAgICAgICAgICAgdmFyIHRlbXBEYXRhOwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhd2FpdCBTZXJ2aWNlLm9ubHlEb2NTaWduTm90QmVsb25nKHBheWxvYWQsIHRoaXMuc2VsZWN0ZWRUckl0ZW0uaWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIC50aGVuKGFzeW5jICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgICAgICAgICAgIC8vCiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgdGhpcy5jYXRjaEVycihlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE4LmlzTW9kYWxLZXlzID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOC5zaWduYXR1cmVNb2RhbCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMxOC5zZWxlY3RlZFRySXRlbSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hvd01zZ1N1Y2Nlc3MoX3RoaXMxOC4kdCgic3VjY2Vzc0RvY1NpZ25lZCIpKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE4LmdldExpc3QodHJ1ZSwgdGVtcERhdGEuaWQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgICAgICAgICAgICB9KSkpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsvLyB0aGlzLmNhdGNoRXJyKGVycik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBTZXJ2aWNlLnNpZ25Eb2MocGF5bG9hZCwgX3RoaXMxOC5zZWxlY3RlZFRySXRlbS5pZCwgX3RoaXMxOC5jb21taXNzaW9uVHlwZUlkLCBfdGhpczE4LmNvbW1pc3Npb25Db21tZW50KS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgICAgICAgICAgICAgIHZhciB0ZW1wRGF0YTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxOC5pc01vZGFsS2V5cyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTguc2lnbmF0dXJlTW9kYWwgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE4LmNvbW1pc3Npb25zTW9kYWwgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIF90aGlzMTguc2VsZWN0ZWRUckl0ZW0pOwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNob3dNc2dTdWNjZXNzKF90aGlzMTguJHQoInN1Y2Nlc3NEb2NTaWduZWQiKSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxOC5nZXRMaXN0KHRydWUsIHRlbXBEYXRhLmlkKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICAgICAgICAgICAgfSkpKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7Ly8gdGhpcy5jYXRjaEVycihlcnIpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFJlY2VpdmVyczogZnVuY3Rpb24gZ2V0UmVjZWl2ZXJzKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkZXJSZWNlaXZlciA9IHRydWU7CiAgICAgIFNlcnZpY2UuZ2V0UmVjZWl2ZXJzKGl0ZW0ubGV0dGVySWQpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgX3RoaXMxOS5pbmZvRGF0YSA9IHJzLmRhdGE7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMTkubG9hZGVyUmVjZWl2ZXIgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgY2xpY2tUckl0ZW06IGZ1bmN0aW9uIGNsaWNrVHJJdGVtKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMjAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyMC5sb2FkaW5nQnlJZCA9IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMyMC5zZWxlY3RlZFRySXRlbS5pZCA9PSBpdGVtLmlkKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIwLnNlbGVjdGVkVHJJdGVtID0ge307CiAgICAgICAgICAgICAgICBfdGhpczIwLmluZm9EYXRhID0ge307CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzMjAuc2VsZWN0ZWRUckl0ZW0gPSBpdGVtOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIwLmdldFZpc2FJbmZvKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF90aGlzMjAubG9hZGluZ0J5SWQgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2lnbmF0dXJlSXRlbTogZnVuY3Rpb24gc2lnbmF0dXJlSXRlbSgpIHsKICAgICAgdGhpcy5pc01vZGFsS2V5cyA9IHRydWU7CiAgICB9LAogICAgbWFrZUFncmVlOiBmdW5jdGlvbiBtYWtlQWdyZWUoaXRlbSkgewogICAgICB2YXIgX3RoaXMyMSA9IHRoaXM7CgogICAgICB0aGlzLmNuZigpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgaWYgKHJzLnZhbHVlKSB7CiAgICAgICAgICBTZXJ2aWNlLm1ha2VBZ3JlZShpdGVtLmxldHRlcklkKS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKSB7CiAgICAgICAgICAgIHZhciB0ZW1wRGF0YTsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgdGVtcERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpczIxLnNlbGVjdGVkVHJJdGVtKTsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIxLnN1Y2Nlc3NTYXZlZCgpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjEuZ2V0TGlzdCh0cnVlLCB0ZW1wRGF0YS5pZCk7CgogICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTE1KTsKICAgICAgICAgIH0pKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBtYWtlUmV2aWV3Rm9yQ29tbWlzc2lvbjogZnVuY3Rpb24gbWFrZVJldmlld0ZvckNvbW1pc3Npb24oaXRlbSkgewogICAgICB2YXIgX3RoaXMyMiA9IHRoaXM7CgogICAgICB0aGlzLmNuZigpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgaWYgKHJzLnZhbHVlKSB7CiAgICAgICAgICBTZXJ2aWNlLm1ha2VSZXZpZXdGb3JDb21taXNzaW9uKGl0ZW0uaWQsIGl0ZW0uY29tbWVudCkudGhlbiggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICAgICAgICB2YXIgdGVtcERhdGE7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIHRlbXBEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMyMi5zZWxlY3RlZFRySXRlbSk7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyMi5zdWNjZXNzU2F2ZWQoKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIyLmdldExpc3QodHJ1ZSwgdGVtcERhdGEuaWQpOwoKICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF9jYWxsZWUxNik7CiAgICAgICAgICB9KSkpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbWFrZVJldmlldzogZnVuY3Rpb24gbWFrZVJldmlldyhpdGVtKSB7CiAgICAgIHZhciBfdGhpczIzID0gdGhpczsKCiAgICAgIHRoaXMuY25mKCkudGhlbihmdW5jdGlvbiAocnMpIHsKICAgICAgICBpZiAocnMudmFsdWUpIHsKICAgICAgICAgIFNlcnZpY2UubWFrZVJldmlldyhpdGVtLmxldHRlcklkKS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTcoKSB7CiAgICAgICAgICAgIHZhciB0ZW1wRGF0YTsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNyQoX2NvbnRleHQxNykgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IHRlbXBEYXRhID0gdGhpcy5zZWxlY3RlZFRySXRlbTsKICAgICAgICAgICAgICAgICAgICB0ZW1wRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIF90aGlzMjMuc2VsZWN0ZWRUckl0ZW0pOwogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjMuc3VjY2Vzc1NhdmVkKCk7CgogICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyMy5nZXRMaXN0KHRydWUsIHRlbXBEYXRhLmlkKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfY2FsbGVlMTcpOwogICAgICAgICAgfSkpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlamVjdENvbmZpcm06IGZ1bmN0aW9uIHJlamVjdENvbmZpcm0oKSB7CiAgICAgIHZhciBfdGhpczI0ID0gdGhpczsKCiAgICAgIGNuZkRvYyh0aGlzLiR0KCJtZXNzYWdlcy5yZWplY3RfdGl0bGUiKSkudGhlbihmdW5jdGlvbiAocnMpIHsKICAgICAgICBpZiAocnMudmFsdWUpIHsKICAgICAgICAgIF90aGlzMjQuc2lnbmF0dXJlTW9kYWwgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2lnbkl0ZW06IGZ1bmN0aW9uIHNpZ25JdGVtKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMjUgPSB0aGlzOwoKICAgICAgaWYgKGl0ZW0uYWN0aW9uID09PSAiU0lHTkFUVVJFIikgewogICAgICAgIC8qIGlmIChpdGVtLnN0YXR1cyA9PT0gJ0NPTU1JU1NJT05fU0VORCcpIHsNCiAgICAgICAgICAgIHRoaXMuc2lnbmF0dXJlTW9kYWwgPSB0cnVlOw0KICAgICAgICB9IGVsc2UgeyAqLwogICAgICAgIHRoaXMuY3VycmVudEl0ZW0gPSBpdGVtOyAvLyB0aGlzLnNpZ25hdHVyZU1vZGFsID0gdHJ1ZTsKCiAgICAgICAgaWYgKGl0ZW0uc3RhdHVzID09PSAiU0VORF9TSUdOIiB8fCBpdGVtLnN0YXR1cyA9PT0gIlNFTkQiIHx8IGl0ZW0uc3RhdHVzID09PSAnQ09NTUlTU0lPTl9TRU5EJykgewogICAgICAgICAgLy8gR0VUIENPTU1JU1NJT05fVFlQRVMKCiAgICAgICAgICAvKiBjcnVkQW5kTGlzdHNTZXJ2aWNlLnNlYXJjaExpc3QoJ2RpcmVjdG9yeS9jb21taXNzaW9uL2NvbW1pc3Npb24tdHlwZScsIHRoaXMudmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWQsIG51bGwsIHRydWUpDQogICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pc3Npb25UeXBlcyA9IHJlcy5kYXRhLmxpc3QNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSkNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICB0aGlzLmNvbW1pc3Npb25zTW9kYWwgPSB0cnVlOyAqLwogICAgICAgICAgLy8gdGhpcy5zaWduYXR1cmVNb2RhbCA9IHRydWU7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2xldHRlci9pbmNvbWUvIi5jb25jYXQoaXRlbS5sZXR0ZXJJZCwgIi8iKS5jb25jYXQoaXRlbS5pZCkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjbmZEb2ModGhpcy4kdCgiZG9jQ29uZmlybSIpKS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgICAgICBpZiAocnMudmFsdWUpIHsKICAgICAgICAgICAgICBfdGhpczI1LnNpZ25hdHVyZU1vZGFsID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSAvLyB9CgogICAgICB9IGVsc2UgaWYgKGl0ZW0uYWN0aW9uID09PSAiQUdSRUVNRU5UIikgewogICAgICAgIHRoaXMubWFrZUFncmVlKGl0ZW0pOwogICAgICB9IGVsc2UgaWYgKGl0ZW0uYWN0aW9uID09PSAiUkVWSUVXIikgewogICAgICAgIGlmIChpdGVtLnN0YXR1cyA9PT0gJ1NFTkRfRk9SX0NPTU1JU1NJT04nKSB7CiAgICAgICAgICB0aGlzLm1ha2VSZXZpZXdGb3JDb21taXNzaW9uKGl0ZW0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLm1ha2VSZXZpZXcoaXRlbSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIF90aGlzMjYgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLiRyZWZzLmFkZFJlZi5jaGVja1ZhbGlkaXR5KCkpIHsKICAgICAgICBTZXJ2aWNlLnVwbG9hZCh0aGlzLiRyZWZzLmFkZFJlZi5mb3JtKS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgICAgaWYgKHJzLmRhdGEpIHsKICAgICAgICAgICAgX3RoaXMyNi5nZXRMaXN0KCk7CgogICAgICAgICAgICB2YXIgcm91dGVEYXRhID0gX3RoaXMyNi4kcm91dGVyLnJlc29sdmUoewogICAgICAgICAgICAgIG5hbWU6ICJPZmZpY2UtRE9DVU1FTlQtY29tbWlzc2lvbiIsCiAgICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICAgIHBhZ2U6ICJHRVQiLAogICAgICAgICAgICAgICAgaWQ6IHJzLmRhdGEuaWQKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgd2luZG93Lm9wZW4ocm91dGVEYXRhLmhyZWYsICJfYmxhbmsiKTsKICAgICAgICAgICAgX3RoaXMyNi5pc01vZGFsID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lbnRlckluZm8oKTsKICAgICAgfQogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB0aGlzLmlzTW9kYWwgPSB0cnVlOwogICAgfSwKICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpczI3ID0gdGhpczsKCiAgICAgIHZhciByZXNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7CiAgICAgIHZhciByZXNldElkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIFNlcnZpY2UuZ2V0TGlzdExldHRlclZpc2EodGhpcy5wYXJhbXMsIHRoaXMuYWN0aXZlKS50aGVuKGZ1bmN0aW9uIChfcmVmMTEpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYxMS5kYXRhOwogICAgICAgIF90aGlzMjcubGlzdCA9IGRhdGEubGlzdDsKICAgICAgICBfdGhpczI3LnRvdGFsID0gZGF0YS50b3RhbDsKCiAgICAgICAgaWYgKHJlc2V0KSB7CiAgICAgICAgICB2YXIgbmV3ZGF0YSA9IF90aGlzMjcubGlzdC5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiBlLmlkID09IHJlc2V0SWQ7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczI3LnNlbGVjdGVkVHJJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgbmV3ZGF0YSk7IC8vIHRoaXMuJGZvcmNlVXBkYXRlKCk7CgogICAgICAgICAgX3RoaXMyNy5nZXRSZWNlaXZlcnMoX3RoaXMyNy5zZWxlY3RlZFRySXRlbSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7Ly8gdGhpcy5jYXRjaEVycihlcnIpOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczI3LmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["visa.vue"],"names":[],"mappings":"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","sourcesContent":["<script>\r\n// import Layout from \"@/router/layouts/main\";\r\n// import PageHeader from \"@/components/page-header\";\r\nimport Service from \"../letterService\";\r\n// import crudAndListsService from '@/shared/services/crud_and_list.service'\r\n/**\r\n * Products-order component\r\n */\r\nimport { cnfDoc, showMsgSuccess } from \"@/helper\";\r\nimport SignKeys from \"../SignKeys.vue\";\r\n// import Receivers from \"./receivers.vue\";\r\nimport Editor from \"../create/froal.editor.vue\";\r\nimport Modal from \"../create/modal.vue\";\r\nimport DXAApplicationAllInfo from \"../monitor/DXA info/index\";\r\nimport crudAndListsService from '@/shared/services/crud_and_list.service'\r\nimport LetterService from '../../letter/letterService'\r\nimport VerifyDocumentService from \"../../letter/verifyDocument.service\";\r\nimport letterService from \"@/modules/letter/letterService\";\r\nimport pdf from 'vue-pdf'\r\n\r\n``\r\nexport default {\r\n  components: {\r\n    pdf,\r\n    SignKeys,\r\n    DXAApplicationAllInfo,\r\n    // Receivers,\r\n    Editor, Modal\r\n  },\r\n  watch: {\r\n    page() {\r\n      this.getList();\r\n    },\r\n    searchValue(v) {\r\n      this.getList();\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      height: null,\r\n      modalDoc1: false,\r\n      fileEye: false,\r\n      fileUrl: '',\r\n      isSidebar: false,\r\n      commissionTypeId: null,\r\n      comment: null,\r\n      giveVisaDate: null,\r\n      commissionComment: '',\r\n      commissionModalLoader: false,\r\n      commissionTypes: [],\r\n      commissionsModal: false,\r\n      currentPage: 1,\r\n      src: null,\r\n      loadingById: false,\r\n      numPages: undefined,\r\n      reasonRejected: \"\",\r\n      selectedTrItem: {},\r\n      visaInfo: {},\r\n      active: \"\",\r\n\r\n      title: this.$t(\"received\"),\r\n      items: [\r\n        {\r\n          text: this.$t(\"menu\"),\r\n          href: \"/\",\r\n        },\r\n        {\r\n          text: this.$t(\"received\"),\r\n          active: true,\r\n        },\r\n      ],\r\n      list: [],\r\n      searchValue: \"\",\r\n      page: 1,\r\n      limit: 20,\r\n      loading: false,\r\n      total: 1,\r\n      isModal: false,\r\n      currentItem: {},\r\n      signatureModal: false,\r\n      loaderButton: false,\r\n      visaFileView: {\r\n        modal: false,\r\n        src: null,\r\n      },\r\n      isModalKeys: false,\r\n      agreementCount: 0,\r\n      signatureCount: 0,\r\n      reviewCount: 0,\r\n      loaderReceiver: false,\r\n      infoData: {},\r\n      rejectedLoader: false,\r\n      isRejectedModal: false,\r\n      viewModal: false,\r\n      filesList: [],\r\n      viewModalBeforeSigned: false,\r\n      loaderPdf: false,\r\n      ilovaUploadPath: null,\r\n      viewIlovaModal: false,\r\n      base64: null,\r\n      editModal: false,\r\n      loader: false,\r\n      contextText: \"\",\r\n    };\r\n  },\r\n  async created() {\r\n    await this.getList();\r\n  },\r\n  computed: {\r\n    params() {\r\n      return {\r\n        params: {\r\n          itemsPerPage: this.limit,\r\n          page: this.page - 1,\r\n        },\r\n        search: this.searchValue,\r\n      };\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    cancelEYE() {\r\n      this.fileEye = false\r\n      this.modalDoc1 = true\r\n    },\r\n    async okEYE() {\r\n      this.fileEye = false\r\n    },\r\n    closeDoc() {\r\n      this.fileEye = false\r\n      this.modalDoc1 = true\r\n    },\r\n    async openEyeFile(item) {\r\n\r\n      await VerifyDocumentService.verifyDocumentById(this.selectedTrItem.applicationId)\r\n          .then(res => {\r\n            this.commissionTypes = res.data\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n\r\n      if (item.uploadPath) {\r\n        this.$nextTick(() => {\r\n          this.modalDoc1 = false\r\n          this.fileEye = true\r\n          this.fileUrl = item.uploadPath\r\n        })\r\n      }\r\n    },\r\n    async VISABtn() {\r\n\r\n      if (Object.keys(this.selectedTrItem).length === 0) {\r\n        this.$toast(this.$t('submodules.doc.selected_doc'), { type: 'warning' });\r\n      } else {\r\n        await crudAndListsService.getList('employee/get-all-employee/in-monopoly-department', this.var_default_search_payload, null, true)\r\n            .then(res => {\r\n              this.commissionTypes = res.data\r\n            })\r\n            .catch(e => {\r\n              console.log(e)\r\n            })\r\n        this.commissionsModal = true;\r\n      }\r\n\r\n    },\r\n    showVisaFileView(applicationId) {\r\n      this.loadingById = true;\r\n      letterService.dxaVisaDataGetFile(applicationId).then(({data}) => {\r\n        this.visaFileView.src = 'data:application/pdf;base64,' + data;\r\n        this.visaFileView.modal = true;\r\n      }).finally(() => {\r\n        this.loadingById = false;\r\n      })\r\n    },\r\n    async visa_btn() {\r\n      if (this.commissionTypeId && this.giveVisaDate) {\r\n        this.commissionModalLoader = true\r\n        LetterService.SignatureGiveVisaForDXA({\r\n          applicationId: this.selectedTrItem.applicationId,\r\n          employeeId: this.commissionTypeId,\r\n          letterId: this.selectedTrItem.id\r\n        }, {\r\n          comment: this.comment,\r\n          giveVisaDate: this.giveVisaDate\r\n        })\r\n            .then((res) => {\r\n              this.$toast(this.$t('succes.title'), { type: 'success' });\r\n              this.commissionTypeId = null\r\n              this.commissionComment = ''\r\n              this.comment = ''\r\n              this.giveVisaDate = null\r\n\r\n              this.commissionsModal = false\r\n            })\r\n            .catch((err) => {\r\n              this.isCommit = false\r\n              console.log(err);\r\n            })\r\n            .finally(async () => {\r\n              this.commissionModalLoader = false\r\n              await this.getList();\r\n              await this.getVisaInfo();\r\n              this.selectedTrItem = {}\r\n            });\r\n      }\r\n    },\r\n    getVisaInfo() {\r\n      if (this.selectedTrItem.status !== \"CREATED\" && this.selectedTrItem.status !== \"SEND_FOR_TAKE_VISA\") {\r\n        Service.getVisaInfo(this.selectedTrItem.applicationId)\r\n            .then(({ data }) => {\r\n              this.visaInfo = data\r\n            })\r\n            .catch((err) => {\r\n              // this.catchErr(err);\r\n            })\r\n            .finally(() => {\r\n            });\r\n      }\r\n    },\r\n    async DXAInfoBtn() {\r\n      this.isSidebar = true\r\n      await this.$refs.isSidebar_ref.getApplicationInfoById()\r\n      await this.$refs.isSidebar_ref.getVisaInfoById()\r\n    },\r\n    async closeSidebar() {\r\n      this.isSidebar = false\r\n    },\r\n    openSignatureModalForCommission() {\r\n      if (this.commissionTypeId) {\r\n        this.signatureModal = true\r\n      } else {\r\n        this.$toast(this.$t('messages.fill_required_fields'), { type: 'error' });\r\n      }\r\n    },\r\n    customLabelCommissionTypes(opt) {\r\n      let selected = this.commissionTypes.find(e => e.id == opt);\r\n      if (selected) {\r\n        return `${selected.fullName} -\r\n        ${this.getName({\r\n          nameRu: selected.directoryPositionNameRu,\r\n          nameLt: selected.directoryPositionNameLt,\r\n          nameUz: selected.directoryPositionNameUz,\r\n        })\r\n        } `\r\n      }\r\n      return ``;\r\n    },\r\n    changeText(text) {\r\n      this.contextText = text;\r\n    },\r\n    okModal() {\r\n      let text = this.$refs.editorRef.text;\r\n      this.$refs.editModalRef.loading(true);\r\n      Service.saveLetterBody(this.selectedTrItem.letterId, text)\r\n          .then(() => {\r\n            let tempData = Object.assign({}, this.selectedTrItem);\r\n            this.successEdited();\r\n            this.getList(true, tempData.id);\r\n            this.editModal = false;\r\n            /* setTimeout(() => {\r\n              let newdata = this.list.find((e) => e.id == tempData.id);\r\n              this.selectedTrItem = newdata;\r\n              this.$forceUpdate();\r\n              this.getReceivers(this.selectedTrItem);\r\n            }, 500); */\r\n          })\r\n          .catch((e) => {\r\n          })\r\n          .finally(() => {\r\n            this.$refs.editModalRef.loading(false);\r\n          });\r\n    },\r\n    viewModalClick() {\r\n      this.$refs.editModalRef.loadingPdf(true);\r\n      this.viewModalBeforeSigned = true;\r\n      this.loaderPdf = true;\r\n      this.base64 = null;\r\n\r\n      Service.convert(this.contextText)\r\n          .then((res) => {\r\n            setTimeout(() => {\r\n              this.base64 = res.data;\r\n            }, 400);\r\n          })\r\n          .finally(() => {\r\n            this.loaderPdf = false;\r\n            this.$refs.editModalRef.loadingPdf(false);\r\n          });\r\n    },\r\n    editLetter(item) {\r\n      /* this.editModal = true;\r\n      setTimeout(() => {\r\n        Service.getBody(item.letterId).then((res) => {\r\n          let editor = this.$refs.editorRef;\r\n          if (editor) {\r\n            if (!this._empty(res.data)) {\r\n              editor.setTextContent(res.data);\r\n            }\r\n          }\r\n        });\r\n      }, 400); */\r\n\r\n    },\r\n    viewProject(selectedLetter) {\r\n      /* this.$router.push({\r\n          name: selectedLetter.projectType === 'COMMISSION' ? 'CommissionProjects' : 'ProjectsMain',\r\n          query: { page: \"overview\", id: selectedLetter.projectId },\r\n      }); */\r\n      let routeData = this.$router.resolve({\r\n        name: selectedLetter.projectType === 'COMMISSION' ? 'CommissionProjects' : 'ProjectsMain',\r\n        query: { page: \"overview\", id: selectedLetter.projectId },\r\n      });\r\n      window.open(routeData.href, '_blank');\r\n    },\r\n    viewIlova(item) {\r\n      if (this.getExt(item.uploadPath ? item.uploadPath : item.url) === \"pdf\") {\r\n        this.ilovaUploadPath = item.uploadPath ? item.uploadPath : item.url;\r\n        this.viewIlovaModal = true;\r\n      } else {\r\n        this.convertToPdf(item).then((uploadPath) => {\r\n          if (uploadPath) {\r\n            this.ilovaUploadPath = uploadPath;\r\n            this.viewIlovaModal = true;\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    convertToPdf(selectedItem, forSign = false) {\r\n      return new Promise((res, rej) => {\r\n        let config = {\r\n          url: `${selectedItem.url}`,\r\n          outputtype: \".pdf\",\r\n          forSign: forSign,\r\n          key: selectedItem.key,\r\n        };\r\n        Service.convertToPdfByApi(config)\r\n            .then((rs) => {\r\n              if (rs.data.uploadPath) {\r\n                this.$nextTick(() => {\r\n                  this.src = `${this.baseUrl}/${rs.data.uploadPath}`;\r\n                });\r\n                res(rs.data.uploadPath);\r\n              } else {\r\n                res(false);\r\n              }\r\n            })\r\n            .catch((e) => {\r\n              // this.catchErr(e);\r\n              rej(e);\r\n            });\r\n      });\r\n    },\r\n    getByIdLetter() {\r\n      Service.getByIdLetter(this.selectedTrItem.letterId)\r\n          .then((rs) => {\r\n            this.currentDoc = rs.data;\r\n            this.loaderPdf = true;\r\n            this.convertToPdf(rs.data).then((uploadPath) => {\r\n              if (!uploadPath) {\r\n                setTimeout(() => {\r\n                  this.convertToPdf(rs.data)\r\n                      .then(() => {\r\n                        this.loaderPdf = false;\r\n                      })\r\n                      .catch((e) => {\r\n                        this.loaderPdf = false;\r\n                      });\r\n                }, 4000);\r\n              } else {\r\n                this.loaderPdf = false;\r\n              }\r\n            });\r\n          })\r\n          .catch((e) => {\r\n          });\r\n    },\r\n    viewLetter() {\r\n      this.viewModalBeforeSigned = true;\r\n      this.loaderPdf = true;\r\n      this.base64 = null;\r\n      Service.viewPdfByLetterId(this.selectedTrItem.letterId)\r\n          .then((res) => {\r\n            setTimeout(() => {\r\n              this.base64 = res.data;\r\n            }, 300);\r\n          })\r\n          .finally(() => {\r\n            this.loaderPdf = false;\r\n          });\r\n    },\r\n    viewDocBeforeSigned() {\r\n      // this.viewModalBeforeSigned = true;\r\n      // this.getByIdLetter();\r\n      this.viewLetter();\r\n    },\r\n    setCurrentPage(page) {\r\n      this.currentPage = page;\r\n    },\r\n    getAttachedFilesById(id) {\r\n      Service.getAttachedFilesById(id).then((res) => {\r\n        this.filesList = res.data;\r\n      });\r\n    },\r\n    saveRejected(payload) {\r\n      this.convertToPdf(this.selectedTrItem).then(r1 => {\r\n        this.rejectedLoader = true;\r\n        Service.saveRejected(\r\n            this.selectedTrItem.letterId,\r\n            this.selectedTrItem.id,\r\n            this.reasonRejected,\r\n            payload\r\n        )\r\n            .then(async () => {\r\n              this.isRejectedModal = false;\r\n              let tempData = Object.assign({}, this.selectedTrItem);\r\n              await this.successSaved();\r\n              await this.getList(true, tempData.id);\r\n              /* setTimeout(() => {\r\n                let newdata = this.list.find((e) => e.id == tempData.id);\r\n                this.selectedTrItem = newdata;\r\n                this.$forceUpdate();\r\n                this.getReceivers(this.selectedTrItem);\r\n              }, 500); */\r\n            })\r\n            .finally(() => {\r\n              this.rejectedLoader = false;\r\n            });\r\n      })\r\n    },\r\n    showRejectedModal() {\r\n      this.isRejectedModal = true;\r\n    },\r\n    viewDocSigned() {\r\n      this.viewModal = true;\r\n    },\r\n\r\n    async signSuccess(data) {\r\n      let payload = {\r\n        signedContent: data.content,\r\n        inn: data.inn,\r\n        pnfl: data.pnfl\r\n      };\r\n      if (this.isRejectedModal) {\r\n        this.isModalKeys = false;\r\n        this.signatureModal = false;\r\n        this.saveRejected(payload)\r\n      } else {\r\n        if (this.selectedTrItem.status === 'COMMISSION_SEND') {\r\n          Service.onlyDocSign(payload, this.selectedTrItem.id)\r\n              .then(async () => {\r\n                this.isModalKeys = false;\r\n                this.signatureModal = false;\r\n                let tempData = Object.assign({}, this.selectedTrItem);\r\n                await showMsgSuccess(this.$t(\"successDocSigned\"));\r\n                await this.getList(true, tempData.id);\r\n                // setTimeout(() => {\r\n                //   let newdata = this.list.find((e) => e.id == tempData.id);\r\n                //   this.selectedTrItem = Object.assign({}, newdata);\r\n                //   this.$forceUpdate();\r\n                //   this.getReceivers(this.selectedTrItem);\r\n                // }, 1000);\r\n              })\r\n              .catch((err) => {\r\n                // this.catchErr(err);\r\n              });\r\n        } else if (this.selectedTrItem.status === 'NOT_BELONG') {\r\n          await Service.onlyDocSign(payload, this.selectedTrItem.id)\r\n              .then(async () => {\r\n                // await Service.onlyDocSignNotBelong(payload, this.selectedTrItem.id)\r\n                //     .then(async () => {\r\n                //\r\n                //\r\n                //     })\r\n                //     .catch((err) => {\r\n                //       this.catchErr(err);\r\n                //     });\r\n\r\n                this.isModalKeys = false;\r\n                this.signatureModal = false;\r\n                let tempData = Object.assign({}, this.selectedTrItem);\r\n                await showMsgSuccess(this.$t(\"successDocSigned\"));\r\n                await this.getList(true, tempData.id);\r\n\r\n                // setTimeout(() => {\r\n                //   let newdata = this.list.find((e) => e.id == tempData.id);\r\n                //   this.selectedTrItem = Object.assign({}, newdata);\r\n                //   this.$forceUpdate();\r\n                //   this.getReceivers(this.selectedTrItem);\r\n                // }, 1000);\r\n              })\r\n              .catch((err) => {\r\n                // this.catchErr(err);\r\n              });\r\n        } else {\r\n          Service.signDoc(payload, this.selectedTrItem.id, this.commissionTypeId, this.commissionComment)\r\n              .then(async () => {\r\n                this.isModalKeys = false;\r\n                this.signatureModal = false;\r\n                this.commissionsModal = false;\r\n                let tempData = Object.assign({}, this.selectedTrItem);\r\n                await showMsgSuccess(this.$t(\"successDocSigned\"));\r\n                await this.getList(true, tempData.id);\r\n                /* setTimeout(() => {\r\n                  let newdata = this.list.find((e) => e.id == tempData.id);\r\n                  this.selectedTrItem = Object.assign({}, newdata);\r\n                  this.$forceUpdate();\r\n                  this.getReceivers(this.selectedTrItem);\r\n                }, 1000); */\r\n              })\r\n              .catch((err) => {\r\n                // this.catchErr(err);\r\n              });\r\n        }\r\n      }\r\n    },\r\n    getReceivers(item) {\r\n      this.loaderReceiver = true;\r\n      Service.getReceivers(item.letterId)\r\n          .then((rs) => {\r\n            this.infoData = rs.data;\r\n          })\r\n          .finally(() => {\r\n            this.loaderReceiver = false;\r\n          });\r\n    },\r\n    async clickTrItem(item) {\r\n      this.loadingById = true;\r\n\r\n      if (this.selectedTrItem.id == item.id) {\r\n        this.selectedTrItem = {};\r\n        this.infoData = {};\r\n      } else {\r\n        this.selectedTrItem = item;\r\n        await this.getVisaInfo()\r\n        // this.getAttachedFilesById(item.letterId);\r\n        // this.getReceivers(item);\r\n      }\r\n      this.loadingById = false;\r\n    },\r\n    signatureItem() {\r\n      this.isModalKeys = true;\r\n    },\r\n    makeAgree(item) {\r\n      this.cnf().then((rs) => {\r\n        if (rs.value) {\r\n          Service.makeAgree(item.letterId).then(async () => {\r\n            let tempData = Object.assign({}, this.selectedTrItem);\r\n            await this.successSaved();\r\n            await this.getList(true, tempData.id);\r\n            // setTimeout(() => {\r\n            //   let newdata = this.list.find((e) => e.id == tempData.id);\r\n            //   this.selectedTrItem = Object.assign({}, newdata);\r\n            //   this.$forceUpdate();\r\n            //   this.getReceivers(this.selectedTrItem);\r\n            // }, 500);\r\n          });\r\n        }\r\n      });\r\n    },\r\n\r\n    makeReviewForCommission(item) {\r\n      this.cnf().then((rs) => {\r\n        if (rs.value) {\r\n          Service.makeReviewForCommission(item.id, item.comment).then(async () => {\r\n            let tempData = Object.assign({}, this.selectedTrItem);\r\n            await this.successSaved();\r\n            await this.getList(true, tempData.id);\r\n            /* setTimeout(() => {\r\n              let newdata = this.list.find((e) => e.id == tempData.id);\r\n              this.selectedTrItem = newdata;\r\n              this.$forceUpdate();\r\n              this.getReceivers(this.selectedTrItem);\r\n            }, 500); */\r\n          });\r\n        }\r\n      });\r\n    },\r\n    makeReview(item) {\r\n      this.cnf().then((rs) => {\r\n        if (rs.value) {\r\n          Service.makeReview(item.letterId).then(async () => {\r\n            // let tempData = this.selectedTrItem;\r\n            let tempData = Object.assign({}, this.selectedTrItem);\r\n            await this.successSaved();\r\n            await this.getList(true, tempData.id);\r\n            /* setTimeout(() => {\r\n              let newdata = this.list.find((e) => e.id == tempData.id);\r\n              this.selectedTrItem = newdata;\r\n              this.$forceUpdate();\r\n              this.getReceivers(this.selectedTrItem);\r\n            }, 500); */\r\n          });\r\n        }\r\n      });\r\n    },\r\n    rejectConfirm() {\r\n      cnfDoc(this.$t(\"messages.reject_title\")).then((rs) => {\r\n        if (rs.value) {\r\n          this.signatureModal = true;\r\n        }\r\n      });\r\n    },\r\n    signItem(item) {\r\n      if (item.action === \"SIGNATURE\") {\r\n        /* if (item.status === 'COMMISSION_SEND') {\r\n            this.signatureModal = true;\r\n        } else { */\r\n        this.currentItem = item;\r\n        // this.signatureModal = true;\r\n\r\n        if (item.status === \"SEND_SIGN\" || item.status === \"SEND\" || item.status === 'COMMISSION_SEND') {\r\n\r\n          // GET COMMISSION_TYPES\r\n          /* crudAndListsService.searchList('directory/commission/commission-type', this.var_default_search_payload, null, true)\r\n              .then(res => {\r\n                  this.commissionTypes = res.data.list\r\n              })\r\n              .catch(e => {\r\n                  console.log(e)\r\n              })\r\n          this.commissionsModal = true; */\r\n\r\n          // this.signatureModal = true;\r\n          this.$router.push(\r\n              `/letter/income/${item.letterId}/${item.id}`\r\n          );\r\n        } else {\r\n          cnfDoc(this.$t(\"docConfirm\")).then((rs) => {\r\n            if (rs.value) {\r\n              this.signatureModal = true;\r\n            }\r\n          });\r\n        }\r\n        // }\r\n      } else if (item.action === \"AGREEMENT\") {\r\n        this.makeAgree(item);\r\n      } else if (item.action === \"REVIEW\") {\r\n        if (item.status === 'SEND_FOR_COMMISSION') {\r\n          this.makeReviewForCommission(item);\r\n        } else {\r\n          this.makeReview(item);\r\n        }\r\n      }\r\n    },\r\n    save() {\r\n      if (!this.$refs.addRef.checkValidity()) {\r\n        Service.upload(this.$refs.addRef.form).then((rs) => {\r\n          if (rs.data) {\r\n            this.getList();\r\n            let routeData = this.$router.resolve({\r\n              name: \"Office-DOCUMENT-commission\",\r\n              query: { page: \"GET\", id: rs.data.id },\r\n            });\r\n            window.open(routeData.href, \"_blank\");\r\n            this.isModal = false;\r\n          }\r\n        });\r\n      } else {\r\n        this.enterInfo();\r\n      }\r\n    },\r\n    add() {\r\n      this.isModal = true;\r\n    },\r\n    getList(reset = false, resetId) {\r\n      this.loading = true;\r\n      Service.getListLetterVisa(this.params, this.active)\r\n          .then(({ data }) => {\r\n            this.list = data.list;\r\n            this.total = data.total;\r\n            if (reset) {\r\n              let newdata = this.list.find((e) => e.id == resetId);\r\n              this.selectedTrItem = Object.assign({}, newdata);\r\n              // this.$forceUpdate();\r\n              this.getReceivers(this.selectedTrItem);\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            // this.catchErr(err);\r\n          })\r\n          .finally(() => {\r\n            this.loading = false;\r\n          });\r\n    },\r\n  }\r\n  ,\r\n}\r\n;\r\n</script>\r\n\r\n<template>\r\n  <!-- <Layout> -->\r\n  <div>\r\n    <div class=\"col-md-12 text-center\">\r\n      <div class=\"h4 mb-4 d-inline-block\">{{ $t('submodules.dxa.visa') }}</div>\r\n    </div>\r\n    <Modal\r\n        :scroll=\"true\"\r\n        :variantOk=\"'success'\"\r\n        :value=\"editModal\"\r\n        @okModal=\"okModal\"\r\n        @closeModal=\"editModal = false\"\r\n        :title=\"selectedTrItem.fileName\"\r\n        :cancelText=\"'actions.cancel'\"\r\n        @viewModalClick=\"viewModalClick\"\r\n        :okText=\"'actions.save'\"\r\n        :signerHide=\"false\"\r\n        ref=\"editModalRef\"\r\n        :size=\"'xl'\"\r\n    >\r\n      <template v-slot:body>\r\n        <div>\r\n          <Editor\r\n              ref=\"editorRef\"\r\n              @changeText=\"changeText\"\r\n          />\r\n        </div>\r\n      </template>\r\n    </Modal>\r\n\r\n    <!-- <PageHeader :title=\"title\" :items=\"items\" /> -->\r\n    <!-- for view ilova -->\r\n    <b-modal\r\n        scrollable\r\n        v-model=\"viewIlovaModal\"\r\n        size=\"xl\"\r\n        :title=\"$t('actions.view')\"\r\n    >\r\n      <div\r\n          style=\"height: 700px\"\r\n          v-if=\"ilovaUploadPath\"\r\n      >\r\n        <embed\r\n            width=\"100%\"\r\n            height=\"800\"\r\n            :src=\"`${baseUrl}/${ilovaUploadPath}`\"\r\n            type=\"application/pdf\"\r\n        />\r\n      </div>\r\n      <template v-slot:modal-footer>\r\n        <b-button\r\n            variant=\"secondary\"\r\n            @click=\"viewIlovaModal = false\"\r\n        >{{\r\n            $t(\"actions.close\")\r\n          }}\r\n        </b-button>\r\n      </template>\r\n    </b-modal>\r\n    <!-- sign keys modal -->\r\n    <b-modal\r\n        scrollable\r\n        v-model=\"signatureModal\"\r\n        hide-footer\r\n        size=\"lg\"\r\n        :title=\"`${$t('submodules.reports.make_sign')}`\"\r\n    >\r\n      <SignKeys\r\n          @sign=\"signSuccess\"\r\n          :dataToSign=\"selectedTrItem\"\r\n      />\r\n    </b-modal>\r\n\r\n    <!-- for view document -->\r\n    <b-modal\r\n        scrollable\r\n        v-model=\"viewModal\"\r\n        size=\"xl\"\r\n        :title=\"selectedTrItem.id ? selectedTrItem.fileName : ''\"\r\n    >\r\n      <div\r\n          style=\"height: 700px\"\r\n          v-if=\"selectedTrItem.url\"\r\n      >\r\n        <embed\r\n            width=\"100%\"\r\n            height=\"800\"\r\n            :src=\"`${baseUrl}/${selectedTrItem.url}`\"\r\n            type=\"application/pdf\"\r\n        />\r\n      </div>\r\n      <template v-slot:modal-footer>\r\n        <b-button\r\n            variant=\"secondary\"\r\n            @click=\"viewModal = false\"\r\n        >{{\r\n            $t(\"actions.close\")\r\n          }}\r\n        </b-button>\r\n      </template>\r\n    </b-modal>\r\n\r\n    <!-- modal view before modal -->\r\n    <b-modal\r\n        scrollable\r\n        v-model=\"viewModalBeforeSigned\"\r\n        size=\"xl\"\r\n        body-bg-variant=\"light\"\r\n        :title=\"selectedTrItem.id ? selectedTrItem.fileName : ''\"\r\n    >\r\n      <b-overlay\r\n          variant=\"white\"\r\n          :opacity=\"1\"\r\n          :show=\"loaderPdf\"\r\n          rounded=\"lg\"\r\n      >\r\n        <div style=\"min-height: 700px\">\r\n          <embed\r\n              style=\"width: 100%;\"\r\n              :style=\"`min-height:${heightWindow-250}px`\"\r\n              v-if=\"base64\"\r\n              :src=\"`data:application/pdf;base64, ${base64}`\"\r\n          />\r\n        </div>\r\n      </b-overlay>\r\n\r\n      <template v-slot:modal-footer>\r\n        <b-button\r\n            variant=\"secondary\"\r\n            @click=\"viewModalBeforeSigned = false\"\r\n        >{{ $t(\"actions.close\") }}\r\n        </b-button>\r\n      </template>\r\n    </b-modal>\r\n    <!-- rejected modal -->\r\n    <b-modal\r\n        scrollable\r\n        v-model=\"isRejectedModal\"\r\n        size=\"md\"\r\n        :title=\"`${$t('submodules.reports.reasonRejected')}`\"\r\n    >\r\n      <b-form-textarea\r\n          v-model=\"reasonRejected\"\r\n          rows=\"5\"\r\n      ></b-form-textarea>\r\n\r\n      <template v-slot:modal-footer>\r\n        <b-button\r\n            variant=\"danger\"\r\n            @click=\"rejectConfirm\"\r\n        >\r\n          <b-overlay\r\n              :opacity=\"0.1\"\r\n              :show=\"rejectedLoader\"\r\n              rounded=\"sm\"\r\n          >\r\n            {{ $t(\"submodules.reports.rejected\") }}\r\n          </b-overlay>\r\n        </b-button>\r\n      </template>\r\n    </b-modal>\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body p-2\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-4\">\r\n                <div class=\"d-inline-block mt-1 ml-2\">\r\n                  <div class=\"search-box\">\r\n                    <div class=\"position-relative\">\r\n                      <input\r\n                          style=\"width: 300px\"\r\n                          type=\"text\"\r\n                          v-model=\"searchValue\"\r\n                          class=\"form-control rounded bg-light border-light\"\r\n                          :placeholder=\"$t('actions.search')\"\r\n                      />\r\n                      <i class=\"mdi mdi-magnify search-icon\"></i>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-sm-8\">\r\n                <div class=\"text-sm-right\">\r\n                  <div class=\"mr-3 float-right\">\r\n                    <div class=\"d-flex align-items-center\">\r\n                    </div>\r\n                  </div>\r\n                  <!-- <b-button\r\n    @click.prevent=\"add\"\r\n    type=\"button\"\r\n    variant=\"primary\"\r\n  >\r\n    <i class=\"mdi mdi-plus mr-1\"></i>\r\n    {{ $t(\"actions.createNewDoc\") }}\r\n  </b-button> -->\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n          <div class=\"col-7\">\r\n            <div class=\"card card-body\">\r\n              <div class=\"table-responsive\">\r\n                <b-overlay :opacity=\"0.1\" :show=\"loading\" rounded=\"sm\" >\r\n                  <table class=\" table table-centered table-striped table-nowrap table-hover bordered \">\r\n                    <thead class=\"thead-light\">\r\n                    <tr>\r\n                      <th\r\n                          scope=\"col\"\r\n                          class=\"text-center\"\r\n                          style=\"width: 10%\"\r\n                      > \r\n                      </th>\r\n                      <th\r\n                          scope=\"col\"\r\n                      >\r\n                        <span class=\"ml-5\"> {{ $t(\"column.status\") }}</span>\r\n                      </th>\r\n                      <th class=\"text-center\" scope=\"col\">\r\n                        {{ $t(\"submodules.dxa.dxa_application_number\") }}\r\n                      </th>\r\n\r\n                      <th\r\n                          class=\"text-center\"\r\n                          scope=\"col\"\r\n                      >\r\n                        {{ $t(\"submodules.doc.senderFIO\") }}\r\n                      </th>\r\n                      <!--                      <th-->\r\n                      <!--                          class=\"text-center\"-->\r\n                      <!--                          scope=\"col\"-->\r\n                      <!--                      >-->\r\n                      <!--                        {{ $t(\"submodules.doc.sender\") }}-->\r\n                      <!--                      </th>-->\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr\r\n                        class=\"text-center\"\r\n                        v-if=\"list.length == 0\"\r\n                    >\r\n                      <td\r\n                          colspan=\"9\"\r\n                          :style=\"loading ? 'height:50px' : ''\"\r\n                          style=\"vertical-align: middle\"\r\n                      >\r\n                        <h5>\r\n                          {{ $t(\"messages.data_not_found\") }}\r\n                        </h5>\r\n                      </td>\r\n                    </tr>\r\n                    <tr\r\n                        @click.prevent=\"clickTrItem(item)\"\r\n                        v-for=\"(item, index) in list\"\r\n                        :key=\"index + 'CREATE_DOC'\"\r\n                        class=\"p_cursor\"\r\n                        :class=\" selectedTrItem.id == item.id ? 'bg-color bg-soft-primary text-primary' : '' \"\r\n                    >\r\n\r\n                      <td class=\"text-center\">\r\n                        {{\r\n                          util_paginate(index, var_default_search_payload.page, var_default_search_payload.itemsPerPage)\r\n                        }}\r\n                      </td>\r\n                      <td class=\"text-center\">\r\n                        <b-badge\r\n                            variant=\"secondary\"\r\n                            class=\"p-1\"\r\n                            v-if=\"item.status === 'CREATED' || item.applicationStatus === 'RECEIVED'\"\r\n                        >\r\n                          {{ $t('submodules.commission.doc_status.doc_created') }}\r\n                        </b-badge>\r\n                        <b-badge\r\n                            variant=\"warning\"\r\n                            class=\"p-1\"\r\n                            v-else-if=\"item.status === 'BEING_SEEN'\"\r\n                        >\r\n                          {{ $t('submodules.commission.doc_status.doc_seen') }}\r\n                        </b-badge>\r\n                        <b-badge\r\n                            variant=\"info\"\r\n                            class=\"p-1\"\r\n                            v-else-if=\"item.status === 'SEEN'\"\r\n                        >\r\n                          {{ $t('submodules.commission.doc_status.seen') }}\r\n                        </b-badge>\r\n                        <b-badge\r\n                            variant=\"primary\"\r\n                            class=\"p-1\"\r\n                            v-else-if=\"item.status === 'SENT'\"\r\n                        >\r\n                          {{ $t('submodules.reports.report_sended') }}\r\n                        </b-badge>\r\n                        <b-badge\r\n                            variant=\"danger\"\r\n                            class=\"p-1\"\r\n                            v-else-if=\"item.status === 'CANCELLED'\"\r\n                        >\r\n                          {{ $t('docs_r.CANCELED') }}\r\n                        </b-badge>\r\n                        <b-badge\r\n                            variant=\"info\"\r\n                            class=\"p-1\"\r\n                            v-else-if=\"item.status === 'SEND_FOR_COMMISSION'\"\r\n                        >\r\n                          {{ $t('submodules.commission.doc_status.send_for_commission') }}\r\n                        </b-badge>\r\n                        <b-badge\r\n                            variant=\"warning\"\r\n                            class=\"p-1\"\r\n                            v-else-if=\"item.status === 'COMMISSION_BEING_SEEN'\"\r\n                        >\r\n                          {{ $t('submodules.commission.doc_status.commission_being_seen') }}\r\n                        </b-badge>\r\n                        <b-badge\r\n                            variant=\"info\"\r\n                            class=\"p-1\"\r\n                            v-else-if=\"item.status === 'COMMISSION_SEEN'\"\r\n                        >\r\n                          {{ $t('submodules.commission.doc_status.commission_seen') }}\r\n                        </b-badge>\r\n                        <b-badge\r\n                            variant=\"primary\"\r\n                            class=\"p-1\"\r\n                            v-else-if=\"item.status === 'COMMISSION_SENT'\"\r\n                        >\r\n                          {{ $t('submodules.commission.doc_status.commission_sent') }}\r\n                        </b-badge>\r\n                        <b-badge\r\n                            variant=\"success\"\r\n                            class=\"p-1\"\r\n                            v-else-if=\"item.status === 'COMMISSION_SIGNED'\"\r\n                        >\r\n                          {{ $t('submodules.commission.doc_status.commission_signed') }}\r\n                        </b-badge>\r\n                        <b-badge\r\n                            variant=\"danger\"\r\n                            class=\"p-1\"\r\n                            v-else-if=\"item.status === 'COMMISSION_CANCELLED'\"\r\n                        >\r\n                          {{ $t('submodules.commission.doc_status.commission_canceled') }}\r\n                        </b-badge>\r\n                        <b-badge\r\n                            variant=\"warning\"\r\n                            class=\"p-1\"\r\n                            v-else-if=\"item.status === 'SEND_FOR_TAKE_VISA'\"\r\n                        >\r\n                          {{ $t('submodules.dxa.send_for_visa') }}\r\n                        </b-badge>\r\n                        <b-badge\r\n                            variant=\"success\"\r\n                            class=\"p-1\"\r\n                            v-else-if=\"item.status === 'VISA_APPROVED'\"\r\n                        >\r\n                          {{ $t('submodules.dxa.VISA_APPROVED') }}\r\n                        </b-badge>\r\n\r\n                      </td>\r\n                      <td class=\"text-center\">\r\n                        {{ item.applicationRegNumber }}\r\n                      </td>\r\n                      <td class=\"text-center\">\r\n                        {{ item.ownerLastName }} {{ item.ownerFirstName }} {{ item.ownerParentName }}\r\n                      </td>\r\n                    </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </b-overlay>\r\n              </div>\r\n              <div\r\n                  class=\"row\"\r\n                  v-if=\"total > 0\"\r\n              >\r\n                <div class=\"col-lg-12\">\r\n                  <b-pagination\r\n                      size=\"sm\"\r\n                      class=\"m-0\"\r\n                      :total-rows=\"total\"\r\n                      :per-page=\"limit\"\r\n                      v-model=\"page\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"col-5\">\r\n            <div class=\"card card-body\">\r\n              <!-- FROM_DXA -->\r\n              <b-overlay\r\n                  :opacity=\"0.1\"\r\n                  :show=\"loadingById\"\r\n                  rounded=\"sm\"\r\n              >\r\n                <table\r\n                    v-if=\"selectedTrItem\"\r\n                    class=\"table m-0 \"\r\n                >\r\n                  <tr>\r\n                    <td class=\"text-left\">\r\n                      <b> {{ $t('column.business_entity') }}</b> <br>\r\n                    </td>\r\n                    <td class=\"text-right\">\r\n                <span\r\n                    style=\"font-size: 12px\"\r\n                    class=\"text-right\"\r\n                >\r\n          {{ selectedTrItem.contractorNameFromDXA }}\r\n                 </span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class=\"text-left\">\r\n                      <b> {{ $t('column.inn') }}</b> <br>\r\n                    </td>\r\n                    <td class=\"text-right\">\r\n                                            <span\r\n                                                style=\"font-size: 12px\"\r\n                                                class=\"text-right\"\r\n                                            >\r\n                                                {{ selectedTrItem.companyTinFromDXA }}\r\n                                            </span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class=\"text-left\">\r\n                      <b> {{ $t('submodules.doc.create_entered_date_legal') }}</b> <br>\r\n                    </td>\r\n                    <td class=\"text-right\">\r\n                                            <span\r\n                                                style=\"font-size: 12px\"\r\n                                                class=\"text-right\"\r\n                                            >\r\n                                                {{ selectedTrItem.created }}\r\n                                            </span>\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n              </b-overlay>\r\n              <div class=\"mt-4 text-center\">\r\n                <b-button\r\n                    v-show=\"selectedTrItem.status === 'SEND_FOR_TAKE_VISA'\"\r\n                    variant=\"primary\"\r\n                    class=\"card-tabs-button\"\r\n                    @click=\"VISABtn\"\r\n                >\r\n                  <img :src=\"require('@/assets/doc/img.png')\" alt=\"DOC\" height=\"20\"/>\r\n                  <!--                  <i class=\"fa fa-credit-card\"></i>-->\r\n                  {{ $t('submodules.reports.make_sign') }}\r\n                </b-button>\r\n                <b-button\r\n                    v-if=\"!(Object.keys(selectedTrItem).length === 0)\"\r\n                    variant=\"warning\"\r\n                    class=\"ml-2  card-tabs-button\"\r\n                    @click=\"DXAInfoBtn\"\r\n                >\r\n                  <i class=\"fa fa-eye\"></i>\r\n                  {{ $t('submodules.dxa.view_dxa') }}\r\n                </b-button>\r\n              </div>\r\n\r\n              <!-- VISA -->\r\n              <div class=\"card\"\r\n                   v-show=\"Object.keys(selectedTrItem).length !== 0 && selectedTrItem.visaIsGiven\"\r\n              >\r\n                <div class=\"card-header bg-white d-flex align-items-center\">\r\n                  <div class=\"font-size-16 flex-grow-1\">\r\n                    <img :src=\"require('@/assets/doc/1.png')\" alt=\"DOC\" height=\"45\"/>\r\n                    <strong class=\"ml-3\">{{ $t(\"submodules.dxa.VISA_APPROVED\") }}</strong>\r\n                  </div>\r\n                  <div class=\"btn btn-info\" @click=\"showVisaFileView(selectedTrItem.applicationId)\">\r\n                    {{ $t('actions.view_document') }}\r\n                  </div>\r\n                </div>\r\n                <div class=\"pl-4\">\r\n                  <div class=\"table-responsive\">\r\n                    <table class=\"table table-centered m-0\">\r\n                      <tbody>\r\n                      <tr>\r\n                        <td style=\"width: 50px\">\r\n                          <div class=\"avatar-sm\">\r\n                            <span class=\"avatar-title rounded-circle bg-soft-primary font-size-20 font-weight-bold\">\r\n                              {{ selectedTrItem.visaFromWhoName ? selectedTrItem.visaFromWhoName.charAt(0) : '' }}\r\n                            </span>\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          <div class=\"d-flex align-items-center\">\r\n                            <div>\r\n                              <h5 class=\"font-size-14 m-0 font-weight-bold\">\r\n                                <p class=\"text-dark m-0\">\r\n                                  {{ $t(\"submodules.dxa.visa_issuer\") }}\r\n                                </p>\r\n                              </h5>\r\n                              <h5 class=\"font-size-14 m-0\">\r\n                                <p class=\"text-dark m-0\">\r\n                                  {{ selectedTrItem.visaFromWhoName || '' }}\r\n                                </p>\r\n                              </h5>\r\n                              <p class=\"m-0 text-muted\">\r\n                                {{\r\n                                  getName({\r\n                                    nameLt: selectedTrItem.visaFromWhoYurDepartmentNameLtLt,\r\n                                    nameRu: selectedTrItem.visaFromWhoYurDepartmentNameLtRu,\r\n                                    nameUz: selectedTrItem.visaFromWhoYurDepartmentNameLtUz,\r\n                                  })\r\n                                }}\r\n                              </p>\r\n                              <p class=\"m-0 text-muted\">\r\n                                {{\r\n                                  getName({\r\n                                    nameUz: selectedTrItem.visaFromWhoDepartmentNameUz,\r\n                                    nameLt: selectedTrItem.visaFromWhoDepartmentNameLt,\r\n                                    nameRu: selectedTrItem.visaFromWhoDepartmentNameRu,\r\n                                  })\r\n                                }}\r\n                              </p>\r\n                              <p class=\"m-0 text-muted\">\r\n                                {{\r\n                                  getName({\r\n                                    nameLt: selectedTrItem.visaFromWhoPositionNameLt,\r\n                                    nameRu: selectedTrItem.visaFromWhoPositionNameRu,\r\n                                    nameUz: selectedTrItem.visaFromWhoPositionNameUz,\r\n                                  })\r\n                                }}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td style=\"width: 50px\">\r\n                          <div class=\"avatar-sm\">\r\n                            <span class=\"avatar-title rounded-circle bg-soft-primary font-size-20 font-weight-bold\">\r\n                            {{ selectedTrItem.visaToWhoName ? selectedTrItem.visaToWhoName.charAt(0) : '' }}\r\n                            </span>\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          <div class=\"d-flex align-items-center\">\r\n                            <div>\r\n                              <h5 class=\"font-size-14 m-0 font-weight-bold\">\r\n                                <p class=\"text-dark m-0\">\r\n                                  {{ $t(\"submodules.dxa.performer\") }}\r\n                                </p>\r\n                              </h5>\r\n                              <h5 class=\"font-size-14 m-0\">\r\n                                <p class=\"text-dark m-0\">\r\n                                  {{ selectedTrItem.visaToWhoName || '' }}\r\n                                </p>\r\n                              </h5>\r\n                              <p class=\"m-0 text-muted\">\r\n                                {{\r\n                                  getName({\r\n                                    nameLt: selectedTrItem.visaToWhoYurDepartmentNameLt,\r\n                                    nameRu: selectedTrItem.visaToWhoYurDepartmentNameRu,\r\n                                    nameUz: selectedTrItem.visaToWhoYurDepartmentNameUz,\r\n                                  })\r\n                                }}\r\n                              </p>\r\n                              <p class=\"m-0 text-muted\">\r\n                                {{\r\n                                  getName({\r\n                                    nameUz: selectedTrItem.visaToWhoDepartmentNameUz,\r\n                                    nameLt: selectedTrItem.visaToWhoDepartmentNameLt,\r\n                                    nameRu: selectedTrItem.visaToWhoDepartmentNameUz,\r\n                                  })\r\n                                }}\r\n                              </p>\r\n                              <p class=\"m-0 text-muted\">\r\n                                {{\r\n                                  getName({\r\n                                    nameLt: selectedTrItem.visaToWhoPositionNameLt,\r\n                                    nameRu: selectedTrItem.visaToWhoPositionNameRu,\r\n                                    nameUz: selectedTrItem.visaToWhoPositionNameUz,\r\n                                  })\r\n                                }}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td colspan=\"2\">\r\n                          {{selectedTrItem.visaComment}}\r\n                        </td>\r\n                      </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <b-sidebar\r\n        width=\"85%\"\r\n        class=\"sidebar-part\"\r\n        shadow\r\n        sidebar-class=\"p-0\"\r\n        right\r\n        :no-header=\"true\"\r\n        v-model=\"isSidebar\"\r\n    >\r\n\r\n      <DXAApplicationAllInfo\r\n          ref=\"isSidebar_ref\"\r\n          @close=\"closeSidebar\"\r\n          :applicationId=\"selectedTrItem.applicationDXAId\"\r\n          :applicationStatus=\"selectedTrItem.applicationStatus\"\r\n      />\r\n\r\n    </b-sidebar>\r\n\r\n    <b-modal v-model=\"visaFileView.modal\" :title=\"`${$t('actions.view_document')}`\" scrollable size=\"lg\">\r\n      <pdf :src=\"visaFileView.src\"></pdf>\r\n      <template v-slot:modal-footer>\r\n        <a :href=\"visaFileView.src\" class=\"btn btn-info\" :download=\"`${selectedTrItem.applicationRegNumber}-visa.pdf`\" target=\"_blank\">{{$t('actions.download')}}</a>\r\n      </template>\r\n    </b-modal>\r\n\r\n    <!-- COMMISSIONS MODAL -->\r\n    <ValidationObserver v-slot=\"{ handleSubmit }\">\r\n      <b-modal\r\n          scrollable\r\n          v-model=\"commissionsModal\"\r\n          size=\"md\"\r\n          :title=\"`${$t('submodules.dxa.for_perform')}`\"\r\n      >\r\n        <div>\r\n          <BaseMultiselectWithValidation\r\n              rules=\"required\"\r\n              class=\"required\"\r\n              v-model=\"commissionTypeId\"\r\n              :options=\"commissionTypes.map(e => e.id)\"\r\n              :label=\"$t('column.employee')\"\r\n              label-on-top\r\n              placeholder=\"\"\r\n              :custom-label=\"customLabelCommissionTypes\"\r\n              open-direction=\"bottom\"\r\n              :max-height=\"600\"\r\n              :show-labels=\"false\"\r\n          />\r\n\r\n        </div>\r\n        <div class=\"mt-3\">\r\n          <b-form-textarea\r\n              v-model=\"comment\"\r\n              :placeholder=\"$t('submodules.doc.summary')\"\r\n              rows=\"5\"\r\n          ></b-form-textarea>\r\n        </div>\r\n        <div class=\"mt-3\">\r\n          <BaseDatePickerWithValidation\r\n              required\r\n              disable-before\r\n              format=\"DD-MM-YYYY\"\r\n              :disabled-date=\"true\"\r\n              :disabled-before=\"true\"\r\n              custom-styles=\"grid-template-columns: 0% 100%\"\r\n              v-model=\"giveVisaDate\"\r\n              :placeholder=\"$t('submodules.doc.completionTime')\"\r\n              lang=\"ru\"\r\n          />\r\n        </div>\r\n        <template v-slot:modal-footer>\r\n          <b-button variant=\"success\" @click=\"handleSubmit(visa_btn)\">\r\n            <b-overlay\r\n                :opacity=\"0.1\"\r\n                :show=\"commissionModalLoader\"\r\n                rounded=\"sm\"\r\n            >\r\n              {{ $t(\"actions.send\") }}\r\n            </b-overlay>\r\n          </b-button>\r\n        </template>\r\n      </b-modal>\r\n    </ValidationObserver>\r\n\r\n    <b-sidebar\r\n        id=\"sidebar-right\"\r\n        no-header\r\n        v-model=\"fileEye\"\r\n        right\r\n        backdrop\r\n        shadow\r\n    >\r\n      <template #default>\r\n        <div class=\"p-4\">\r\n          <b-row class=\"pl-4 pr-4\">\r\n            <b-col cols=\"2\">\r\n              <b-button\r\n                  @click=\"closeDoc\"\r\n                  block\r\n                  class=\"float-right ml-10\"\r\n                  size=\"sm\"\r\n                  variant=\"primary\"\r\n              >\r\n                <i class=\"fa fa-times\"></i>\r\n                {{ $t(\"actions.close\") }}\r\n              </b-button>\r\n            </b-col>\r\n          </b-row>\r\n        </div>\r\n        <div class=\"px-8 py-2\">\r\n          <b-row :style=\"`min-height:${height}px`\">\r\n            <b-col>\r\n              <div class=\"bg-white p-3\">\r\n                <embed\r\n                    :height=\"height\"\r\n                    width=\"100%\"\r\n                    v-if=\"fileUrl\"\r\n                    :src=\"`${getBaseUrl}/${fileUrl}`\"\r\n                />\r\n              </div>\r\n            </b-col>\r\n          </b-row>\r\n        </div>\r\n      </template>\r\n    </b-sidebar>\r\n  </div>\r\n  <!-- </Layout> -->\r\n</template>\r\n\r\n<style>\r\n.bg-class {\r\n  background-color: #fbfbfb !important;\r\n}\r\n</style>"],"sourceRoot":"src/modules/letter/visa"}]}