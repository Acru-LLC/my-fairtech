{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\report\\collection\\assemble\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\src\\modules\\report\\collection\\assemble\\index.vue","mtime":1674799497847},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\ohirgi\\acru-frontend\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiQzpcXEFDUlUgUFJPSkVDVFxcRmFpciBUZWNoXFxvaGlyZ2lcXGFjcnUtZnJvbnRlbmRcXGFjcnUtZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXHR5cGVvZi5qcyI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICJDOlxcQUNSVSBQUk9KRUNUXFxGYWlyIFRlY2hcXG9oaXJnaVxcYWNydS1mcm9udGVuZFxcYWNydS1mcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6XFxBQ1JVIFBST0pFQ1RcXEZhaXIgVGVjaFxcb2hpcmdpXFxhY3J1LWZyb250ZW5kXFxhY3J1LWZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxvYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxBQ1JVIFBST0pFQ1RcXEZhaXIgVGVjaFxcb2hpcmdpXFxhY3J1LWZyb250ZW5kXFxhY3J1LWZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgcmVwb3J0U2VydmljZSBmcm9tICIuLi8uLi9yZXBvcnRTZXJ2aWNlIjsKaW1wb3J0IHJlcG9ydEhlYWRlciBmcm9tICIuL3JlcG9ydEhlYWRlciI7CmltcG9ydCBYTFNYIGZyb20gInhsc3giOwppbXBvcnQgQmFzZUlucHV0V2l0aFZhbGlkYXRpb24gZnJvbSAiQC9jb21wb25lbnRzL2Jhc2UvQmFzZUlucHV0V2l0aFZhbGlkYXRpb24iOwppbXBvcnQgQmFzZURhdGVQaWNrZXJXaXRoVmFsaWRhdGlvbiBmcm9tICJAL2NvbXBvbmVudHMvYmFzZS9CYXNlRGF0ZVBpY2tlcldpdGhWYWxpZGF0aW9uIjsKaW1wb3J0IGNydWRBbmRMaXN0c1NlcnZpY2UgZnJvbSAiQC9zaGFyZWQvc2VydmljZXMvY3J1ZF9hbmRfbGlzdC5zZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEJhc2VEYXRlUGlja2VyV2l0aFZhbGlkYXRpb246IEJhc2VEYXRlUGlja2VyV2l0aFZhbGlkYXRpb24sCiAgICBCYXNlSW5wdXRXaXRoVmFsaWRhdGlvbjogQmFzZUlucHV0V2l0aFZhbGlkYXRpb24sCiAgICByZXBvcnRIZWFkZXI6IHJlcG9ydEhlYWRlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiB0aGlzLiR0KCJyZXBvcnRSb2xlcyIpLAogICAgICBsb2FkZXI6IHRydWUsCiAgICAgIHNlbGVjdExvYWRJdGVtTG9hZGVyOiBudWxsLAogICAgICBzZWxlY3RMb2FkSXRlbVRpbWVPdXQ6IG51bGwsCiAgICAgIHBhcmFtczogewogICAgICAgIHBhcmFtczogewogICAgICAgICAgbGltaXQ6IDIwLAogICAgICAgICAgcGFnZTogMAogICAgICAgIH0sCiAgICAgICAgc2VhcmNoOiAiIiwKICAgICAgICBkb2NUYWJsZUlkOiAiIiwKICAgICAgICBkYXRlVHlwZUlkOiAiIgogICAgICB9LAogICAgICB0YWJsZUxpc3RQYXJhbXM6IHsKICAgICAgICBpdGVtc1BlclBhZ2U6IDIwLAogICAgICAgIHBhZ2U6IDAKICAgICAgfSwKICAgICAgdGFibGVMaXN0OiBbXSwKICAgICAgdGFibGVMaXN0TGVuZ3RoOiAwLAogICAgICBkb2NUYWJsZUZpZWxkc09yaWdpbmFsOiBbXSwKICAgICAgZG9jVGFibGVGaWVsZHNTZXJpYWxpemVkOiBbXSwKICAgICAgb3duRG9jVGFibGVMaXN0OiBbXSwKICAgICAgZGF0ZVR5cGVMaXN0OiBbXSwKICAgICAgZGF0ZVR5cGVMaXN0UGF5bG9hZDogewogICAgICAgIHBhZ2U6IDAsCiAgICAgICAgaXRlbXNQZXJQYWdlOiAxMDAKICAgICAgfSwKICAgICAgc2VsZWN0T3B0aW9uc0J5UmVmZXJlbmNlVXJsOiB7fSwKICAgICAgc2VsZWN0ZWREb2NSZXBvcnRzOiB7CiAgICAgICAgaW5kZXhTZXQ6IG5ldyBTZXQoKSwKICAgICAgICBkb2NUYWJsZUlkOiBmYWxzZSwKICAgICAgICBkb2NUYWJsZTogbnVsbCwKICAgICAgICBkb2NSZXBvcnRzOiB7fQogICAgICB9LAogICAgICBjb2xsZWN0ZWRSZXBvcnRGb3JUYWJsZVJlcG9ydDogW10sCiAgICAgIGNvbGxlY3RpbmdUeXBlOiAnQVNTRU1CTEUnLAogICAgICBjb2xsZWN0aW9uQXZnSWdub3JlWmVybzogZmFsc2UsCiAgICAgIGNvbGxlY3RpbmdHcm91cENvbHVtbklkOiBudWxsLAogICAgICBjb2xsZWN0aW5nVHlwZUxpc3Q6IFt7CiAgICAgICAgdmFsdWU6ICJBU1NFTUJMRSIsCiAgICAgICAgbmFtZTogIllpZydpc2giCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogIkNPTExFQ1RfU1VNIiwKICAgICAgICBuYW1lOiAiWWlnJ2luZGluaSB5aWcnaXNoIChTVU0pIgogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICJDT0xMRUNUX0FWRyIsCiAgICAgICAgbmFtZTogIk8ncnRhY2hhIHFpeW1hdCB5aWcnaXNoIChBVkcpIgogICAgICB9XSwKICAgICAgc2F2ZURhdGE6IHsKICAgICAgICByZXBvcnRJbmZvRm9yR2F0aGVyOiB7CiAgICAgICAgICBuYW1lVXo6ICcnLAogICAgICAgICAgbmFtZUx0OiAnJywKICAgICAgICAgIG5hbWVSdTogJycsCiAgICAgICAgICBkYXRlOiAnJwogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0T3duRG9jVGFibGVMaXN0KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX3RoaXMubG9hZGVyID0gZmFsc2U7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRPd25Eb2NUYWJsZUxpc3Q6IGZ1bmN0aW9uIGdldE93bkRvY1RhYmxlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXBvcnRTZXJ2aWNlLmdldE93blRhYmxlKHRoaXMucGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmxpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgX3RoaXMyLm93bkRvY1RhYmxlTGlzdCA9IHJlc3BvbnNlLmRhdGEubGlzdDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldERhdGVUeXBlTGlzdDogZnVuY3Rpb24gZ2V0RGF0ZVR5cGVMaXN0KGRhdGVUeXBlSWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXBvcnRTZXJ2aWNlLmdldExpc3RCeVBhcmVudElkKGRhdGVUeXBlSWQsIHRoaXMuZGF0ZVR5cGVMaXN0UGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5saXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgIF90aGlzMy5kYXRlVHlwZUxpc3QgPSByZXNwb25zZS5kYXRhLmxpc3Q7CiAgICAgICAgfQogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMubG9hZGVyID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNlYXJjaDogZnVuY3Rpb24gaGFuZGxlU2VhcmNoKCkgewogICAgICB2YXIgX2FyZ3VtZW50cyA9IGFyZ3VtZW50cywKICAgICAgICAgIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY2xlYXJTZWxlY3RlZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY2xlYXJTZWxlY3RlZCA9IF9hcmd1bWVudHMubGVuZ3RoID4gMCAmJiBfYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzBdIDogdHJ1ZTsKCiAgICAgICAgICAgICAgICBpZiAoY2xlYXJTZWxlY3RlZCkgewogICAgICAgICAgICAgICAgICBfdGhpczQuc2VsZWN0ZWREb2NSZXBvcnRzLmRvY1RhYmxlSWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgX3RoaXM0LnNlbGVjdGVkRG9jUmVwb3J0cy5pbmRleFNldCA9IG5ldyBTZXQoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LmdldFRhYmxlTGlzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBoYW5kbGVWYWxpZGF0ZUZvckNvbGxlY3Rpbmc6IGZ1bmN0aW9uIGhhbmRsZVZhbGlkYXRlRm9yQ29sbGVjdGluZygpIHsKICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkRG9jUmVwb3J0cy5kb2NUYWJsZUlkIHx8IHRoaXMuc2VsZWN0ZWREb2NSZXBvcnRzLmluZGV4U2V0LnNpemUgPCAyKSB7CiAgICAgICAgdGhpcy4kdG9hc3QodGhpcy4kdCgic3VibW9kdWxlcy5yZXBvcnRzLnNlbGVjdF9taW5pbXVtX3R3b19yZXBvcnQiKSwgewogICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBoYW5kbGVDb2xsZWN0OiBmdW5jdGlvbiBoYW5kbGVDb2xsZWN0KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczUubG9hZGVyID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzNS5jb2xsZWN0ZWRSZXBvcnRGb3JUYWJsZVJlcG9ydCA9IFtdOwogICAgICAgICAgICAgICAgX3RoaXM1LmRvY1RhYmxlRmllbGRzT3JpZ2luYWwgPSBbXTsKICAgICAgICAgICAgICAgIF90aGlzNS5kb2NUYWJsZUZpZWxkc1NlcmlhbGl6ZWQgPSBbXTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LmhhbmRsZVZhbGlkYXRlRm9yQ29sbGVjdGluZygpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM1LmxvYWRlciA9IGZhbHNlOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVwb3J0U2VydmljZS5nZXRCeUlkVGFibGUoX3RoaXM1LnNlbGVjdGVkRG9jUmVwb3J0cy5kb2NUYWJsZUlkKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29sdW1ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5kb2NUYWJsZUZpZWxkc09yaWdpbmFsID0gcmVzcG9uc2UuZGF0YS5jb2x1bW5zOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmRlc2VyaWFsaXplRG9jVGFibGVGaWVsZHMoX3RoaXM1LmRvY1RhYmxlRmllbGRzT3JpZ2luYWwpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnNlbGVjdGVkRG9jUmVwb3J0cy5kb2NUYWJsZSA9IHJlc3BvbnNlLmRhdGEudGFibGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LiRidk1vZGFsLnNob3coJ21vZGFsJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5oYW5kbGVDb2xsZWN0VmlldygpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUubG9hZGVyID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5sb2FkZXIgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBkZXNlcmlhbGl6ZURvY1RhYmxlRmllbGRzOiBmdW5jdGlvbiBkZXNlcmlhbGl6ZURvY1RhYmxlRmllbGRzKGxpc3QpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB2YXIgY2xlYXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7CgogICAgICBpZiAoY2xlYXIpIHsKICAgICAgICB0aGlzLmRvY1RhYmxlRmllbGRzU2VyaWFsaXplZCA9IFtdOwogICAgICB9CgogICAgICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7CiAgICAgICAgICBfdGhpczYuZGVzZXJpYWxpemVEb2NUYWJsZUZpZWxkcyhlLmNoaWxkcmVuLCBmYWxzZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzNi5kb2NUYWJsZUZpZWxkc1NlcmlhbGl6ZWQucHVzaChlKTsKCiAgICAgICAgICBpZiAoZS50eXBlQ29kZSA9PT0gJ1NFTEVDVCcpIHsKICAgICAgICAgICAgX3RoaXM2LnNlbGVjdE9wdGlvbnNCeVJlZmVyZW5jZVVybFtlLmlkXSA9IFtdOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ29sbGVjdFZpZXc6IGZ1bmN0aW9uIGhhbmRsZUNvbGxlY3RWaWV3KCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM3LmhhbmRsZVZhbGlkYXRlRm9yQ29sbGVjdGluZygpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpczcubG9hZGVyID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzNy5zZWxlY3RlZERvY1JlcG9ydHMuZG9jUmVwb3J0cyA9IHt9OwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNy5zZWxlY3RlZERvY1JlcG9ydHMuaW5kZXhTZXQuZm9yRWFjaChmdW5jdGlvbiAoZG9jUmVwb3J0SWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM3LnNlbGVjdGVkRG9jUmVwb3J0cy5kb2NSZXBvcnRzW2RvY1JlcG9ydElkXSA9IHt9OwogICAgICAgICAgICAgICAgICByZXBvcnRTZXJ2aWNlLmdldFJlcG9ydEJ5SWQoZG9jUmVwb3J0SWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEubWFwKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM3LnNlbGVjdGVkRG9jUmVwb3J0cy5kb2NSZXBvcnRzW2RvY1JlcG9ydElkXVt2YWx1ZS5yb3dJZF0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5zZWxlY3RlZERvY1JlcG9ydHMuZG9jUmVwb3J0c1tkb2NSZXBvcnRJZF1bdmFsdWUucm93SWRdID0ge307CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5zZWxlY3RlZERvY1JlcG9ydHMuZG9jUmVwb3J0c1tkb2NSZXBvcnRJZF1bdmFsdWUucm93SWRdW3ZhbHVlLmNvbHVtbklkXSA9IHZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBoYW5kbGVDb2xsZWN0ZWRSZXBvcnREcmF3OiBmdW5jdGlvbiBoYW5kbGVDb2xsZWN0ZWRSZXBvcnREcmF3KCkgewogICAgICB0aGlzLmNvbGxlY3RlZFJlcG9ydEZvclRhYmxlUmVwb3J0ID0gW107CgogICAgICBzd2l0Y2ggKHRoaXMuY29sbGVjdGluZ1R5cGUpIHsKICAgICAgICBjYXNlICdBU1NFTUJMRSc6CiAgICAgICAgICB0aGlzLmhhbmRsZUNvbGxlY3RlZFJlcG9ydERyYXdBc3NlbWJsZSgpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ0NPTExFQ1RfU1VNJzoKICAgICAgICAgIHRoaXMuaGFuZGxlQ29sbGVjdGVkUmVwb3J0RHJhd0NvbGxlY3RTdW0oKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdDT0xMRUNUX0FWRyc6CiAgICAgICAgICB0aGlzLmhhbmRsZUNvbGxlY3RlZFJlcG9ydERyYXdDb2xsZWN0QXZnKCk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUNvbGxlY3RlZFJlcG9ydERyYXdBc3NlbWJsZTogZnVuY3Rpb24gaGFuZGxlQ29sbGVjdGVkUmVwb3J0RHJhd0Fzc2VtYmxlKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHZhciBzZXF1ZW5jZSA9IDE7CiAgICAgIHRoaXMuc2VsZWN0ZWREb2NSZXBvcnRzLmluZGV4U2V0LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdmFyIHJlcG9ydHMgPSBfdGhpczguc2VsZWN0ZWREb2NSZXBvcnRzLmRvY1JlcG9ydHNbdmFsdWVdOwoKICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChyZXBvcnRSb3dJbmRleCkgewogICAgICAgICAgdmFyIHJlcG9ydFJvdyA9IHJlcG9ydHNbcmVwb3J0Um93SW5kZXhdOwogICAgICAgICAgdmFyIHJlcG9ydFJvd0RhdGEgPSBKU09OLnBhcnNlKCdbXScpOwoKICAgICAgICAgIF90aGlzOC5kb2NUYWJsZUZpZWxkc1NlcmlhbGl6ZWQuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHsKICAgICAgICAgICAgaWYgKHJlcG9ydFJvd1tmaWVsZC5pZF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHJlcG9ydFJvd0RhdGEucHVzaChyZXBvcnRSb3dbZmllbGQuaWRdKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAoZmllbGQudHlwZUNvZGUgPT09ICdTRVFVRU5DRScpIHsKICAgICAgICAgICAgICAgIHJlcG9ydFJvd0RhdGEucHVzaCh7CiAgICAgICAgICAgICAgICAgIHZhbHVlOiBzZXF1ZW5jZSwKICAgICAgICAgICAgICAgICAgdHlwZUNvZGU6IGZpZWxkLnR5cGVDb2RlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHNlcXVlbmNlKys7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlcG9ydFJvd0RhdGEucHVzaCh7fSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczguY29sbGVjdGVkUmVwb3J0Rm9yVGFibGVSZXBvcnQucHVzaChyZXBvcnRSb3dEYXRhKTsKICAgICAgICB9OwoKICAgICAgICBmb3IgKHZhciByZXBvcnRSb3dJbmRleCBpbiByZXBvcnRzKSB7CiAgICAgICAgICBfbG9vcChyZXBvcnRSb3dJbmRleCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVDb2xsZWN0ZWRSZXBvcnREcmF3Q29sbGVjdFN1bTogZnVuY3Rpb24gaGFuZGxlQ29sbGVjdGVkUmVwb3J0RHJhd0NvbGxlY3RTdW0oKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdmFyIHNlcXVlbmNlID0gMTsKICAgICAgdGhpcy5zZWxlY3RlZERvY1JlcG9ydHMuaW5kZXhTZXQuZm9yRWFjaChmdW5jdGlvbiAoZG9jUmVwb3J0SWQpIHsKICAgICAgICB2YXIgcmVwb3J0RGF0YSA9IFtdOwogICAgICAgIHZhciBzdW1CaWdJbnRlZ2VyQ291bnQgPSB7fTsKICAgICAgICB2YXIgcmVwb3J0cyA9IF90aGlzOS5zZWxlY3RlZERvY1JlcG9ydHMuZG9jUmVwb3J0c1tkb2NSZXBvcnRJZF07CgogICAgICAgIHZhciBfbG9vcDIgPSBmdW5jdGlvbiBfbG9vcDIocmVwb3J0Um93SW5kZXgpIHsKICAgICAgICAgIHZhciByZXBvcnQgPSByZXBvcnRzW3JlcG9ydFJvd0luZGV4XTsKCiAgICAgICAgICBfdGhpczkuZG9jVGFibGVGaWVsZHNTZXJpYWxpemVkLmZvckVhY2goZnVuY3Rpb24gKGRvY1RhYmxlRmllbGQsIGRvY1RhYmxlRmllbGRJbmRleCkgewogICAgICAgICAgICB2YXIgX3JlcG9ydERhdGEkZG9jVGFibGVGOwoKICAgICAgICAgICAgdmFyIHJlcG9ydFJvd0ZpZWxkID0gcmVwb3J0W2RvY1RhYmxlRmllbGQuaWRdOwoKICAgICAgICAgICAgaWYgKGRvY1RhYmxlRmllbGQudHlwZUNvZGUgPT09ICdTRVFVRU5DRScgJiYgdHlwZW9mIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0gPSB7CiAgICAgICAgICAgICAgICB2YWx1ZTogc2VxdWVuY2UsCiAgICAgICAgICAgICAgICB0eXBlQ29kZTogIlNFUVVFTkNFIgogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XSA9IHJlcG9ydFJvd0ZpZWxkICYmICEoKF9yZXBvcnREYXRhJGRvY1RhYmxlRiA9IHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XSkgIT09IG51bGwgJiYgX3JlcG9ydERhdGEkZG9jVGFibGVGICE9PSB2b2lkIDAgJiYgX3JlcG9ydERhdGEkZG9jVGFibGVGLmlkKSA/IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVwb3J0Um93RmllbGQpKSA6IHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XSB8fCB7fTsKCiAgICAgICAgICAgIGlmIChkb2NUYWJsZUZpZWxkLnR5cGVDb2RlID09PSAnQklHREVDSU1BTCcpIHsKICAgICAgICAgICAgICB2YXIgX3JlcG9ydFJvd0ZpZWxkJHZhbHVlLCBfcmVwb3J0RGF0YSRkb2NUYWJsZUYyOwoKICAgICAgICAgICAgICB2YXIgdmFsdWVCaWdEZWNpbWFsID0gKF9yZXBvcnRSb3dGaWVsZCR2YWx1ZSA9IHJlcG9ydFJvd0ZpZWxkID09PSBudWxsIHx8IHJlcG9ydFJvd0ZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXBvcnRSb3dGaWVsZC52YWx1ZUJpZ0RlY2ltYWwpICE9PSBudWxsICYmIF9yZXBvcnRSb3dGaWVsZCR2YWx1ZSAhPT0gdm9pZCAwID8gX3JlcG9ydFJvd0ZpZWxkJHZhbHVlIDogMDsKCiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdW1CaWdJbnRlZ2VyQ291bnRbZG9jVGFibGVGaWVsZC5pZF0gPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICBzdW1CaWdJbnRlZ2VyQ291bnRbZG9jVGFibGVGaWVsZC5pZF0gPSAwOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVCaWdEZWNpbWFsID09PSAndW5kZWZpbmVkJyB8fCByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVCaWdEZWNpbWFsID09PSBudWxsIHx8IHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS52YWx1ZUJpZ0RlY2ltYWwgPT09ICcnKSB7CiAgICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVCaWdEZWNpbWFsID0gMDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmICh2YWx1ZUJpZ0RlY2ltYWwgJiYgKHZhbHVlQmlnRGVjaW1hbCA+IDAgfHwgdmFsdWVCaWdEZWNpbWFsIDwgMCkpIHsKICAgICAgICAgICAgICAgIHN1bUJpZ0ludGVnZXJDb3VudFtkb2NUYWJsZUZpZWxkLmlkXSsrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHZhbHVlQmlnRGVjaW1hbCAmJiAocmVwb3J0Um93RmllbGQgPT09IG51bGwgfHwgcmVwb3J0Um93RmllbGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcG9ydFJvd0ZpZWxkLmlkKSAhPT0gKChfcmVwb3J0RGF0YSRkb2NUYWJsZUYyID0gcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdKSA9PT0gbnVsbCB8fCBfcmVwb3J0RGF0YSRkb2NUYWJsZUYyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVwb3J0RGF0YSRkb2NUYWJsZUYyLmlkKSkgewogICAgICAgICAgICAgICAgdmFyIF9yZXBvcnREYXRhJGRvY1RhYmxlRjM7CgogICAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlQmlnRGVjaW1hbCArPSB2YWx1ZUJpZ0RlY2ltYWw7CiAgICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWUgPSAoX3JlcG9ydERhdGEkZG9jVGFibGVGMyA9IHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS52YWx1ZUJpZ0RlY2ltYWwpID09PSBudWxsIHx8IF9yZXBvcnREYXRhJGRvY1RhYmxlRjMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXBvcnREYXRhJGRvY1RhYmxlRjMudG9TdHJpbmcoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jVGFibGVGaWVsZC50eXBlQ29kZSA9PT0gJ1NUUklORycgfHwgZG9jVGFibGVGaWVsZC50eXBlQ29kZSA9PT0gJ0RBVEUnIHx8IGRvY1RhYmxlRmllbGQudHlwZUNvZGUgPT09ICdZRUFSJyB8fCBkb2NUYWJsZUZpZWxkLnR5cGVDb2RlID09PSAnQk9PTEVBTicpIHsKICAgICAgICAgICAgICB2YXIgX3JlcG9ydFJvd0ZpZWxkJHZhbHVlMiwgX3JlcG9ydFJvd0ZpZWxkJHZhbHVlMywgX3JlcG9ydFJvd0ZpZWxkJHZhbHVlNCwgX3JlcG9ydFJvd0ZpZWxkJHZhbHVlNTsKCiAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlICs9ICIsICIgKyAoKF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTIgPSByZXBvcnRSb3dGaWVsZC52YWx1ZSkgIT09IG51bGwgJiYgX3JlcG9ydFJvd0ZpZWxkJHZhbHVlMiAhPT0gdm9pZCAwID8gX3JlcG9ydFJvd0ZpZWxkJHZhbHVlMiA6ICcnKTsKICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVEYXRlICs9ICIsICIgKyAoKF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTMgPSByZXBvcnRSb3dGaWVsZC52YWx1ZURhdGUpICE9PSBudWxsICYmIF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTMgIT09IHZvaWQgMCA/IF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTMgOiAnJyk7CiAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlU3RyaW5nICs9ICIsICIgKyAoKF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTQgPSByZXBvcnRSb3dGaWVsZC52YWx1ZVN0cmluZykgIT09IG51bGwgJiYgX3JlcG9ydFJvd0ZpZWxkJHZhbHVlNCAhPT0gdm9pZCAwID8gX3JlcG9ydFJvd0ZpZWxkJHZhbHVlNCA6ICcnKTsKICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVCb29sZWFuICs9ICIsICIgKyAoKF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTUgPSByZXBvcnRSb3dGaWVsZC52YWx1ZUJvb2xlYW4pICE9PSBudWxsICYmIF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTUgIT09IHZvaWQgMCA/IF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTUgOiAnJyk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jVGFibGVGaWVsZC50eXBlQ29kZSA9PT0gJ1NFTEVDVCcpIHsKICAgICAgICAgICAgICB2YXIgX3JlcG9ydERhdGEkZG9jVGFibGVGNCwgX3JlcG9ydERhdGEkZG9jVGFibGVGNSwgX3JlcG9ydERhdGEkZG9jVGFibGVGNjsKCiAgICAgICAgICAgICAgaWYgKCFyZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0pIHsKICAgICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVwb3J0Um93RmllbGQpKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS5pZCA9IHJlcG9ydFJvd0ZpZWxkLmlkOwogICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS5yb3dJZCA9IHJlcG9ydFJvd0ZpZWxkLnJvd0lkOyAvLyByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udHlwZUNvZGUgPSAnU1RSSU5HJzsKCiAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLmNvbHVtbklkID0gcmVwb3J0Um93RmllbGQuY29sdW1uSWQ7CiAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLmRvY1JlcG9ydElkID0gcmVwb3J0Um93RmllbGQuZG9jUmVwb3J0SWQ7CiAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnNlbGVjdFZhbHVlSWQgPSBudWxsOwoKICAgICAgICAgICAgICBpZiAoKChfcmVwb3J0RGF0YSRkb2NUYWJsZUY0ID0gcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdKSA9PT0gbnVsbCB8fCBfcmVwb3J0RGF0YSRkb2NUYWJsZUY0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3JlcG9ydERhdGEkZG9jVGFibGVGNSA9IF9yZXBvcnREYXRhJGRvY1RhYmxlRjQudmFsdWVTdHJpbmcpID09PSBudWxsIHx8IF9yZXBvcnREYXRhJGRvY1RhYmxlRjUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXBvcnREYXRhJGRvY1RhYmxlRjUuaW5kZXhPZihyZXBvcnRSb3dGaWVsZC5zZWxlY3RWYWx1ZU5hbWVVeikpID09PSAtMSkgewogICAgICAgICAgICAgICAgaWYgKHJlcG9ydFJvd0ZpZWxkICE9PSBudWxsICYmIHJlcG9ydFJvd0ZpZWxkICE9PSB2b2lkIDAgJiYgcmVwb3J0Um93RmllbGQuc2VsZWN0VmFsdWVOYW1lVXopIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZXBvcnRSb3dGaWVsZCRzZWxlYywgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjMiwgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjMzsKCiAgICAgICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS52YWx1ZVN0cmluZyArPSAoKF9yZXBvcnRSb3dGaWVsZCRzZWxlYyA9IHJlcG9ydFJvd0ZpZWxkID09PSBudWxsIHx8IHJlcG9ydFJvd0ZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXBvcnRSb3dGaWVsZC5zZWxlY3RWYWx1ZU5hbWVVeikgIT09IG51bGwgJiYgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjICE9PSB2b2lkIDAgPyBfcmVwb3J0Um93RmllbGQkc2VsZWMgOiAnJykgKyAiLCAiOwogICAgICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWUgKz0gKChfcmVwb3J0Um93RmllbGQkc2VsZWMyID0gcmVwb3J0Um93RmllbGQgPT09IG51bGwgfHwgcmVwb3J0Um93RmllbGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcG9ydFJvd0ZpZWxkLnNlbGVjdFZhbHVlTmFtZVV6KSAhPT0gbnVsbCAmJiBfcmVwb3J0Um93RmllbGQkc2VsZWMyICE9PSB2b2lkIDAgPyBfcmVwb3J0Um93RmllbGQkc2VsZWMyIDogJycpICsgIiwgIjsKICAgICAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnNlbGVjdFZhbHVlTmFtZVV6ICs9ICgoX3JlcG9ydFJvd0ZpZWxkJHNlbGVjMyA9IHJlcG9ydFJvd0ZpZWxkID09PSBudWxsIHx8IHJlcG9ydFJvd0ZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXBvcnRSb3dGaWVsZC5zZWxlY3RWYWx1ZU5hbWVVeikgIT09IG51bGwgJiYgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjMyAhPT0gdm9pZCAwID8gX3JlcG9ydFJvd0ZpZWxkJHNlbGVjMyA6ICcnKSArICIsICI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHJlcG9ydFJvd0ZpZWxkICE9PSBudWxsICYmIHJlcG9ydFJvd0ZpZWxkICE9PSB2b2lkIDAgJiYgcmVwb3J0Um93RmllbGQuc2VsZWN0VmFsdWVOYW1lRW4pIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZXBvcnRSb3dGaWVsZCRzZWxlYzQ7CgogICAgICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0uc2VsZWN0VmFsdWVOYW1lRW4gKz0gKChfcmVwb3J0Um93RmllbGQkc2VsZWM0ID0gcmVwb3J0Um93RmllbGQgPT09IG51bGwgfHwgcmVwb3J0Um93RmllbGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcG9ydFJvd0ZpZWxkLnNlbGVjdFZhbHVlTmFtZUVuKSAhPT0gbnVsbCAmJiBfcmVwb3J0Um93RmllbGQkc2VsZWM0ICE9PSB2b2lkIDAgPyBfcmVwb3J0Um93RmllbGQkc2VsZWM0IDogJycpICsgIiwgIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAocmVwb3J0Um93RmllbGQgIT09IG51bGwgJiYgcmVwb3J0Um93RmllbGQgIT09IHZvaWQgMCAmJiByZXBvcnRSb3dGaWVsZC5zZWxlY3RWYWx1ZU5hbWVMdCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjNTsKCiAgICAgICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS5zZWxlY3RWYWx1ZU5hbWVMdCArPSAoKF9yZXBvcnRSb3dGaWVsZCRzZWxlYzUgPSByZXBvcnRSb3dGaWVsZCA9PT0gbnVsbCB8fCByZXBvcnRSb3dGaWVsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVwb3J0Um93RmllbGQuc2VsZWN0VmFsdWVOYW1lTHQpICE9PSBudWxsICYmIF9yZXBvcnRSb3dGaWVsZCRzZWxlYzUgIT09IHZvaWQgMCA/IF9yZXBvcnRSb3dGaWVsZCRzZWxlYzUgOiAnJykgKyAiLCAiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChyZXBvcnRSb3dGaWVsZCAhPT0gbnVsbCAmJiByZXBvcnRSb3dGaWVsZCAhPT0gdm9pZCAwICYmIHJlcG9ydFJvd0ZpZWxkLnNlbGVjdFZhbHVlTmFtZVJ1KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVwb3J0Um93RmllbGQkc2VsZWM2OwoKICAgICAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnNlbGVjdFZhbHVlTmFtZVJ1ICs9ICgoX3JlcG9ydFJvd0ZpZWxkJHNlbGVjNiA9IHJlcG9ydFJvd0ZpZWxkID09PSBudWxsIHx8IHJlcG9ydFJvd0ZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXBvcnRSb3dGaWVsZC5zZWxlY3RWYWx1ZU5hbWVSdSkgIT09IG51bGwgJiYgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjNiAhPT0gdm9pZCAwID8gX3JlcG9ydFJvd0ZpZWxkJHNlbGVjNiA6ICcnKSArICIsICI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIGlmICgoKF9yZXBvcnREYXRhJGRvY1RhYmxlRjYgPSByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0pID09PSBudWxsIHx8IF9yZXBvcnREYXRhJGRvY1RhYmxlRjYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXBvcnREYXRhJGRvY1RhYmxlRjYudmFsdWVTdHJpbmcpID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVTdHJpbmcgPSAnJzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIGZvciAodmFyIHJlcG9ydFJvd0luZGV4IGluIHJlcG9ydHMpIHsKICAgICAgICAgIF9sb29wMihyZXBvcnRSb3dJbmRleCk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczkuY29sbGVjdGVkUmVwb3J0Rm9yVGFibGVSZXBvcnQucHVzaChyZXBvcnREYXRhKTsKCiAgICAgICAgc2VxdWVuY2UrKzsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ29sbGVjdGVkUmVwb3J0RHJhd0NvbGxlY3RBdmc6IGZ1bmN0aW9uIGhhbmRsZUNvbGxlY3RlZFJlcG9ydERyYXdDb2xsZWN0QXZnKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICB2YXIgc2VxdWVuY2UgPSAxOwogICAgICB0aGlzLnNlbGVjdGVkRG9jUmVwb3J0cy5pbmRleFNldC5mb3JFYWNoKGZ1bmN0aW9uIChkb2NSZXBvcnRJZCkgewogICAgICAgIHZhciByZXBvcnREYXRhID0gW107CiAgICAgICAgdmFyIHN1bUJpZ0ludGVnZXJDb3VudCA9IHt9OwogICAgICAgIHZhciByZXBvcnRzID0gX3RoaXMxMC5zZWxlY3RlZERvY1JlcG9ydHMuZG9jUmVwb3J0c1tkb2NSZXBvcnRJZF07CgogICAgICAgIHZhciBfbG9vcDMgPSBmdW5jdGlvbiBfbG9vcDMocmVwb3J0Um93SW5kZXgpIHsKICAgICAgICAgIHZhciByZXBvcnQgPSByZXBvcnRzW3JlcG9ydFJvd0luZGV4XTsKCiAgICAgICAgICBfdGhpczEwLmRvY1RhYmxlRmllbGRzU2VyaWFsaXplZC5mb3JFYWNoKGZ1bmN0aW9uIChkb2NUYWJsZUZpZWxkLCBkb2NUYWJsZUZpZWxkSW5kZXgpIHsKICAgICAgICAgICAgdmFyIF9yZXBvcnREYXRhJGRvY1RhYmxlRjc7CgogICAgICAgICAgICB2YXIgcmVwb3J0Um93RmllbGQgPSByZXBvcnRbZG9jVGFibGVGaWVsZC5pZF07CgogICAgICAgICAgICBpZiAoZG9jVGFibGVGaWVsZC50eXBlQ29kZSA9PT0gJ1NFUVVFTkNFJyAmJiB0eXBlb2YgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XSA9IHsKICAgICAgICAgICAgICAgIHZhbHVlOiBzZXF1ZW5jZSwKICAgICAgICAgICAgICAgIHR5cGVDb2RlOiAiU0VRVUVOQ0UiCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdID0gcmVwb3J0Um93RmllbGQgJiYgISgoX3JlcG9ydERhdGEkZG9jVGFibGVGNyA9IHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XSkgIT09IG51bGwgJiYgX3JlcG9ydERhdGEkZG9jVGFibGVGNyAhPT0gdm9pZCAwICYmIF9yZXBvcnREYXRhJGRvY1RhYmxlRjcuaWQpID8gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXBvcnRSb3dGaWVsZCkpIDogcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdIHx8IHt9OwoKICAgICAgICAgICAgaWYgKGRvY1RhYmxlRmllbGQudHlwZUNvZGUgPT09ICdCSUdERUNJTUFMJykgewogICAgICAgICAgICAgIHZhciBfcmVwb3J0Um93RmllbGQkdmFsdWU2LCBfcmVwb3J0RGF0YSRkb2NUYWJsZUY4OwoKICAgICAgICAgICAgICB2YXIgdmFsdWVCaWdEZWNpbWFsID0gKF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTYgPSByZXBvcnRSb3dGaWVsZCA9PT0gbnVsbCB8fCByZXBvcnRSb3dGaWVsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVwb3J0Um93RmllbGQudmFsdWVCaWdEZWNpbWFsKSAhPT0gbnVsbCAmJiBfcmVwb3J0Um93RmllbGQkdmFsdWU2ICE9PSB2b2lkIDAgPyBfcmVwb3J0Um93RmllbGQkdmFsdWU2IDogMDsKCiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdW1CaWdJbnRlZ2VyQ291bnRbZG9jVGFibGVGaWVsZC5pZF0gPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICBzdW1CaWdJbnRlZ2VyQ291bnRbZG9jVGFibGVGaWVsZC5pZF0gPSAwOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVCaWdEZWNpbWFsID09PSAndW5kZWZpbmVkJyB8fCByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVCaWdEZWNpbWFsID09PSBudWxsIHx8IHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS52YWx1ZUJpZ0RlY2ltYWwgPT09ICcnKSB7CiAgICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVCaWdEZWNpbWFsID0gMDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChfdGhpczEwLmNvbGxlY3Rpb25BdmdJZ25vcmVaZXJvKSB7CiAgICAgICAgICAgICAgICBpZiAodmFsdWVCaWdEZWNpbWFsICYmICh2YWx1ZUJpZ0RlY2ltYWwgPiAwIHx8IHZhbHVlQmlnRGVjaW1hbCA8IDApKSB7CiAgICAgICAgICAgICAgICAgIHN1bUJpZ0ludGVnZXJDb3VudFtkb2NUYWJsZUZpZWxkLmlkXSsrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzdW1CaWdJbnRlZ2VyQ291bnRbZG9jVGFibGVGaWVsZC5pZF0rKzsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmICh2YWx1ZUJpZ0RlY2ltYWwgJiYgKHJlcG9ydFJvd0ZpZWxkID09PSBudWxsIHx8IHJlcG9ydFJvd0ZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXBvcnRSb3dGaWVsZC5pZCkgIT09ICgoX3JlcG9ydERhdGEkZG9jVGFibGVGOCA9IHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XSkgPT09IG51bGwgfHwgX3JlcG9ydERhdGEkZG9jVGFibGVGOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcG9ydERhdGEkZG9jVGFibGVGOC5pZCkpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVwb3J0RGF0YSRkb2NUYWJsZUY5OwoKICAgICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS52YWx1ZUJpZ0RlY2ltYWwgKz0gdmFsdWVCaWdEZWNpbWFsOwogICAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlID0gKF9yZXBvcnREYXRhJGRvY1RhYmxlRjkgPSByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVCaWdEZWNpbWFsKSA9PT0gbnVsbCB8fCBfcmVwb3J0RGF0YSRkb2NUYWJsZUY5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVwb3J0RGF0YSRkb2NUYWJsZUY5LnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKGRvY1RhYmxlRmllbGQudHlwZUNvZGUgPT09ICdTVFJJTkcnIHx8IGRvY1RhYmxlRmllbGQudHlwZUNvZGUgPT09ICdEQVRFJyB8fCBkb2NUYWJsZUZpZWxkLnR5cGVDb2RlID09PSAnWUVBUicgfHwgZG9jVGFibGVGaWVsZC50eXBlQ29kZSA9PT0gJ0JPT0xFQU4nKSB7CiAgICAgICAgICAgICAgdmFyIF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTcsIF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTgsIF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTksIF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTEwOwoKICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWUgKz0gIiwgIiArICgoX3JlcG9ydFJvd0ZpZWxkJHZhbHVlNyA9IHJlcG9ydFJvd0ZpZWxkLnZhbHVlKSAhPT0gbnVsbCAmJiBfcmVwb3J0Um93RmllbGQkdmFsdWU3ICE9PSB2b2lkIDAgPyBfcmVwb3J0Um93RmllbGQkdmFsdWU3IDogJycpOwogICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS52YWx1ZURhdGUgKz0gIiwgIiArICgoX3JlcG9ydFJvd0ZpZWxkJHZhbHVlOCA9IHJlcG9ydFJvd0ZpZWxkLnZhbHVlRGF0ZSkgIT09IG51bGwgJiYgX3JlcG9ydFJvd0ZpZWxkJHZhbHVlOCAhPT0gdm9pZCAwID8gX3JlcG9ydFJvd0ZpZWxkJHZhbHVlOCA6ICcnKTsKICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVTdHJpbmcgKz0gIiwgIiArICgoX3JlcG9ydFJvd0ZpZWxkJHZhbHVlOSA9IHJlcG9ydFJvd0ZpZWxkLnZhbHVlU3RyaW5nKSAhPT0gbnVsbCAmJiBfcmVwb3J0Um93RmllbGQkdmFsdWU5ICE9PSB2b2lkIDAgPyBfcmVwb3J0Um93RmllbGQkdmFsdWU5IDogJycpOwogICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS52YWx1ZUJvb2xlYW4gKz0gIiwgIiArICgoX3JlcG9ydFJvd0ZpZWxkJHZhbHVlMTAgPSByZXBvcnRSb3dGaWVsZC52YWx1ZUJvb2xlYW4pICE9PSBudWxsICYmIF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTEwICE9PSB2b2lkIDAgPyBfcmVwb3J0Um93RmllbGQkdmFsdWUxMCA6ICcnKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChkb2NUYWJsZUZpZWxkLnR5cGVDb2RlID09PSAnU0VMRUNUJykgewogICAgICAgICAgICAgIHZhciBfcmVwb3J0RGF0YSRkb2NUYWJsZUYxMCwgX3JlcG9ydERhdGEkZG9jVGFibGVGMTEsIF9yZXBvcnREYXRhJGRvY1RhYmxlRjEyOwoKICAgICAgICAgICAgICBpZiAoIXJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XSkgewogICAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXBvcnRSb3dGaWVsZCkpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLmlkID0gcmVwb3J0Um93RmllbGQuaWQ7CiAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnJvd0lkID0gcmVwb3J0Um93RmllbGQucm93SWQ7IC8vIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS50eXBlQ29kZSA9ICdTVFJJTkcnOwoKICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0uY29sdW1uSWQgPSByZXBvcnRSb3dGaWVsZC5jb2x1bW5JZDsKICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0uZG9jUmVwb3J0SWQgPSByZXBvcnRSb3dGaWVsZC5kb2NSZXBvcnRJZDsKCiAgICAgICAgICAgICAgaWYgKCgoX3JlcG9ydERhdGEkZG9jVGFibGVGMTAgPSByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0pID09PSBudWxsIHx8IF9yZXBvcnREYXRhJGRvY1RhYmxlRjEwID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3JlcG9ydERhdGEkZG9jVGFibGVGMTEgPSBfcmVwb3J0RGF0YSRkb2NUYWJsZUYxMC52YWx1ZVN0cmluZykgPT09IG51bGwgfHwgX3JlcG9ydERhdGEkZG9jVGFibGVGMTEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXBvcnREYXRhJGRvY1RhYmxlRjExLmluZGV4T2YocmVwb3J0Um93RmllbGQuc2VsZWN0VmFsdWVOYW1lVXopKSA9PT0gLTEpIHsKICAgICAgICAgICAgICAgIGlmIChyZXBvcnRSb3dGaWVsZCAhPT0gbnVsbCAmJiByZXBvcnRSb3dGaWVsZCAhPT0gdm9pZCAwICYmIHJlcG9ydFJvd0ZpZWxkLnNlbGVjdFZhbHVlTmFtZVV6KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVwb3J0Um93RmllbGQkc2VsZWM3LCBfcmVwb3J0Um93RmllbGQkc2VsZWM4LCBfcmVwb3J0Um93RmllbGQkc2VsZWM5OwoKICAgICAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlICs9ICgoX3JlcG9ydFJvd0ZpZWxkJHNlbGVjNyA9IHJlcG9ydFJvd0ZpZWxkID09PSBudWxsIHx8IHJlcG9ydFJvd0ZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXBvcnRSb3dGaWVsZC5zZWxlY3RWYWx1ZU5hbWVVeikgIT09IG51bGwgJiYgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjNyAhPT0gdm9pZCAwID8gX3JlcG9ydFJvd0ZpZWxkJHNlbGVjNyA6ICcnKSArICIsICI7CiAgICAgICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS52YWx1ZVN0cmluZyArPSAoKF9yZXBvcnRSb3dGaWVsZCRzZWxlYzggPSByZXBvcnRSb3dGaWVsZCA9PT0gbnVsbCB8fCByZXBvcnRSb3dGaWVsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVwb3J0Um93RmllbGQuc2VsZWN0VmFsdWVOYW1lVXopICE9PSBudWxsICYmIF9yZXBvcnRSb3dGaWVsZCRzZWxlYzggIT09IHZvaWQgMCA/IF9yZXBvcnRSb3dGaWVsZCRzZWxlYzggOiAnJykgKyAiLCAiOwogICAgICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0uc2VsZWN0VmFsdWVOYW1lVXogKz0gKChfcmVwb3J0Um93RmllbGQkc2VsZWM5ID0gcmVwb3J0Um93RmllbGQgPT09IG51bGwgfHwgcmVwb3J0Um93RmllbGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcG9ydFJvd0ZpZWxkLnNlbGVjdFZhbHVlTmFtZVV6KSAhPT0gbnVsbCAmJiBfcmVwb3J0Um93RmllbGQkc2VsZWM5ICE9PSB2b2lkIDAgPyBfcmVwb3J0Um93RmllbGQkc2VsZWM5IDogJycpICsgIiwgIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAocmVwb3J0Um93RmllbGQgIT09IG51bGwgJiYgcmVwb3J0Um93RmllbGQgIT09IHZvaWQgMCAmJiByZXBvcnRSb3dGaWVsZC5zZWxlY3RWYWx1ZU5hbWVFbikgewogICAgICAgICAgICAgICAgICB2YXIgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjMTA7CgogICAgICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0uc2VsZWN0VmFsdWVOYW1lRW4gKz0gKChfcmVwb3J0Um93RmllbGQkc2VsZWMxMCA9IHJlcG9ydFJvd0ZpZWxkID09PSBudWxsIHx8IHJlcG9ydFJvd0ZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXBvcnRSb3dGaWVsZC5zZWxlY3RWYWx1ZU5hbWVFbikgIT09IG51bGwgJiYgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjMTAgIT09IHZvaWQgMCA/IF9yZXBvcnRSb3dGaWVsZCRzZWxlYzEwIDogJycpICsgIiwgIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAocmVwb3J0Um93RmllbGQgIT09IG51bGwgJiYgcmVwb3J0Um93RmllbGQgIT09IHZvaWQgMCAmJiByZXBvcnRSb3dGaWVsZC5zZWxlY3RWYWx1ZU5hbWVMdCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjMTE7CgogICAgICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0uc2VsZWN0VmFsdWVOYW1lTHQgKz0gKChfcmVwb3J0Um93RmllbGQkc2VsZWMxMSA9IHJlcG9ydFJvd0ZpZWxkID09PSBudWxsIHx8IHJlcG9ydFJvd0ZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXBvcnRSb3dGaWVsZC5zZWxlY3RWYWx1ZU5hbWVMdCkgIT09IG51bGwgJiYgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjMTEgIT09IHZvaWQgMCA/IF9yZXBvcnRSb3dGaWVsZCRzZWxlYzExIDogJycpICsgIiwgIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAocmVwb3J0Um93RmllbGQgIT09IG51bGwgJiYgcmVwb3J0Um93RmllbGQgIT09IHZvaWQgMCAmJiByZXBvcnRSb3dGaWVsZC5zZWxlY3RWYWx1ZU5hbWVSdSkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjMTI7CgogICAgICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0uc2VsZWN0VmFsdWVOYW1lUnUgKz0gKChfcmVwb3J0Um93RmllbGQkc2VsZWMxMiA9IHJlcG9ydFJvd0ZpZWxkID09PSBudWxsIHx8IHJlcG9ydFJvd0ZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXBvcnRSb3dGaWVsZC5zZWxlY3RWYWx1ZU5hbWVSdSkgIT09IG51bGwgJiYgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjMTIgIT09IHZvaWQgMCA/IF9yZXBvcnRSb3dGaWVsZCRzZWxlYzEyIDogJycpICsgIiwgIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgaWYgKCgoX3JlcG9ydERhdGEkZG9jVGFibGVGMTIgPSByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0pID09PSBudWxsIHx8IF9yZXBvcnREYXRhJGRvY1RhYmxlRjEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVwb3J0RGF0YSRkb2NUYWJsZUYxMi52YWx1ZVN0cmluZykgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS52YWx1ZVN0cmluZyA9ICcnOwogICAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBmb3IgKHZhciByZXBvcnRSb3dJbmRleCBpbiByZXBvcnRzKSB7CiAgICAgICAgICBfbG9vcDMocmVwb3J0Um93SW5kZXgpOwogICAgICAgIH0KCiAgICAgICAgZm9yICh2YXIgaSBpbiByZXBvcnREYXRhKSB7CiAgICAgICAgICB2YXIgY291bnQgPSBzdW1CaWdJbnRlZ2VyQ291bnRbcmVwb3J0RGF0YVtpXS5jb2x1bW5JZF07CgogICAgICAgICAgaWYgKHJlcG9ydERhdGFbaV0udHlwZUNvZGUgPT09ICdCSUdERUNJTUFMJyAmJiBjb3VudCA+IDApIHsKICAgICAgICAgICAgcmVwb3J0RGF0YVtpXS52YWx1ZUJpZ0RlY2ltYWwgLz0gY291bnQ7CiAgICAgICAgICB9CgogICAgICAgICAgcmVwb3J0RGF0YVtpXS5zZWxlY3RWYWx1ZU5hbWVFbiA9IHJlcG9ydERhdGFbaV0uc2VsZWN0VmFsdWVOYW1lRW4gPyByZXBvcnREYXRhW2ldLnNlbGVjdFZhbHVlTmFtZUVuLnRyaW0oKS5zbGljZSgwLCAtMSkgOiAnJzsKICAgICAgICAgIHJlcG9ydERhdGFbaV0uc2VsZWN0VmFsdWVOYW1lTHQgPSByZXBvcnREYXRhW2ldLnNlbGVjdFZhbHVlTmFtZUx0ID8gcmVwb3J0RGF0YVtpXS5zZWxlY3RWYWx1ZU5hbWVMdC50cmltKCkuc2xpY2UoMCwgLTEpIDogJyc7CiAgICAgICAgICByZXBvcnREYXRhW2ldLnNlbGVjdFZhbHVlTmFtZVJ1ID0gcmVwb3J0RGF0YVtpXS5zZWxlY3RWYWx1ZU5hbWVSdSA/IHJlcG9ydERhdGFbaV0uc2VsZWN0VmFsdWVOYW1lUnUudHJpbSgpLnNsaWNlKDAsIC0xKSA6ICcnOwogICAgICAgICAgcmVwb3J0RGF0YVtpXS5zZWxlY3RWYWx1ZU5hbWVVeiA9IHJlcG9ydERhdGFbaV0uc2VsZWN0VmFsdWVOYW1lVXogPyByZXBvcnREYXRhW2ldLnNlbGVjdFZhbHVlTmFtZVV6LnRyaW0oKS5zbGljZSgwLCAtMSkgOiAnJzsKICAgICAgICB9CgogICAgICAgIF90aGlzMTAuY29sbGVjdGVkUmVwb3J0Rm9yVGFibGVSZXBvcnQucHVzaChyZXBvcnREYXRhKTsKCiAgICAgICAgc2VxdWVuY2UrKzsKICAgICAgfSk7CiAgICB9LAogICAgc2VsZWN0RG9jUmVwb3J0SXRlbTogZnVuY3Rpb24gc2VsZWN0RG9jUmVwb3J0SXRlbShpbmRleCkgewogICAgICB2YXIgaXRlbSA9IHRoaXMudGFibGVMaXN0W2luZGV4XTsKCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkRG9jUmVwb3J0cy5kb2NUYWJsZUlkID09PSBmYWxzZSkgewogICAgICAgIHRoaXMuc2VsZWN0ZWREb2NSZXBvcnRzLmRvY1RhYmxlSWQgPSBpdGVtLmRvY1RhYmxlSWQ7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkRG9jUmVwb3J0cy5pbmRleFNldC5oYXMoaXRlbS5yZXBvcnRJZCkpIHsKICAgICAgICBpZiAodGhpcy5zZWxlY3RlZERvY1JlcG9ydHMuZG9jVGFibGVJZCA9PT0gaXRlbS5kb2NUYWJsZUlkKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkRG9jUmVwb3J0cy5pbmRleFNldC5kZWxldGUoaXRlbS5yZXBvcnRJZCk7CiAgICAgICAgICB0aGlzLnRhYmxlTGlzdFtpbmRleF0uc2VsZWN0ZWQgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWREb2NSZXBvcnRzLmRvY1RhYmxlSWQgPT09IGl0ZW0uZG9jVGFibGVJZCkgewogICAgICAgICAgdGhpcy5zZWxlY3RlZERvY1JlcG9ydHMuaW5kZXhTZXQuYWRkKGl0ZW0ucmVwb3J0SWQpOwogICAgICAgICAgdGhpcy50YWJsZUxpc3RbaW5kZXhdLnNlbGVjdGVkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkRG9jUmVwb3J0cy5pbmRleFNldC5zaXplID09PSAwKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZERvY1JlcG9ydHMuZG9jVGFibGVJZCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgcHJpbnRDb2x1bW46IGZ1bmN0aW9uIHByaW50Q29sdW1uKGNvbHVtbiwgaW5kZXgpIHsKICAgICAgdmFyIF9jb2x1bW4kdmFsdWUsIF9yZWYyLCBfY29sdW1uJHZhbHVlU3RyaW5nLCBfY29sdW1uJHZhbHVlQmlnRGVjaW0sIF9jb2x1bW4kdmFsdWVEYXRlLCBfY29sdW1uJHZhbHVlU3RyaW5nMjsKCiAgICAgIHN3aXRjaCAoY29sdW1uLnR5cGVDb2RlKSB7CiAgICAgICAgY2FzZSAnU0VRVUVOQ0UnOgogICAgICAgICAgcmV0dXJuIChfY29sdW1uJHZhbHVlID0gY29sdW1uID09PSBudWxsIHx8IGNvbHVtbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29sdW1uLnZhbHVlKSAhPT0gbnVsbCAmJiBfY29sdW1uJHZhbHVlICE9PSB2b2lkIDAgPyBfY29sdW1uJHZhbHVlIDogaW5kZXggKyAxOwoKICAgICAgICBjYXNlICdTVFJJTkcnOgogICAgICAgICAgcmV0dXJuIChfcmVmMiA9IChfY29sdW1uJHZhbHVlU3RyaW5nID0gY29sdW1uID09PSBudWxsIHx8IGNvbHVtbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29sdW1uLnZhbHVlU3RyaW5nKSAhPT0gbnVsbCAmJiBfY29sdW1uJHZhbHVlU3RyaW5nICE9PSB2b2lkIDAgPyBfY29sdW1uJHZhbHVlU3RyaW5nIDogY29sdW1uID09PSBudWxsIHx8IGNvbHVtbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29sdW1uLnZhbHVlKSAhPT0gbnVsbCAmJiBfcmVmMiAhPT0gdm9pZCAwID8gX3JlZjIgOiAnJzsKCiAgICAgICAgY2FzZSAnQklHREVDSU1BTCc6CiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY2FzZS1kZWNsYXJhdGlvbnMKICAgICAgICAgIHZhciB2ID0gKF9jb2x1bW4kdmFsdWVCaWdEZWNpbSA9IGNvbHVtbiA9PT0gbnVsbCB8fCBjb2x1bW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbHVtbi52YWx1ZUJpZ0RlY2ltYWwpICE9PSBudWxsICYmIF9jb2x1bW4kdmFsdWVCaWdEZWNpbSAhPT0gdm9pZCAwID8gX2NvbHVtbiR2YWx1ZUJpZ0RlY2ltIDogMDsKICAgICAgICAgIHYgPSB2LnRvRml4ZWQoMik7CgogICAgICAgICAgaWYgKCFpc05hTih2KSkgewogICAgICAgICAgICByZXR1cm4gdjsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gJyc7CgogICAgICAgIGNhc2UgJ0JPT0xFQU4nOgogICAgICAgICAgcmV0dXJuIGNvbHVtbiAhPT0gbnVsbCAmJiBjb2x1bW4gIT09IHZvaWQgMCAmJiBjb2x1bW4udmFsdWVCb29sZWFuID8gdGhpcy4kdCgnYWN0aW9ucy55ZXMnKSA6IHRoaXMuJHQoJ2FjdGlvbnMubm8nKTsKCiAgICAgICAgY2FzZSAnREFURSc6CiAgICAgICAgICByZXR1cm4gKF9jb2x1bW4kdmFsdWVEYXRlID0gY29sdW1uID09PSBudWxsIHx8IGNvbHVtbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29sdW1uLnZhbHVlRGF0ZSkgIT09IG51bGwgJiYgX2NvbHVtbiR2YWx1ZURhdGUgIT09IHZvaWQgMCA/IF9jb2x1bW4kdmFsdWVEYXRlIDogJyc7CgogICAgICAgIGNhc2UgJ1lFQVInOgogICAgICAgICAgcmV0dXJuIChfY29sdW1uJHZhbHVlU3RyaW5nMiA9IGNvbHVtbiA9PT0gbnVsbCB8fCBjb2x1bW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbHVtbi52YWx1ZVN0cmluZykgIT09IG51bGwgJiYgX2NvbHVtbiR2YWx1ZVN0cmluZzIgIT09IHZvaWQgMCA/IF9jb2x1bW4kdmFsdWVTdHJpbmcyIDogJyc7CgogICAgICAgIGNhc2UgJ1NFTEVDVCc6CiAgICAgICAgICByZXR1cm4gdGhpcy5nZXROYW1lKHsKICAgICAgICAgICAgbmFtZVV6OiBjb2x1bW4gPT09IG51bGwgfHwgY29sdW1uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb2x1bW4uc2VsZWN0VmFsdWVOYW1lVXosCiAgICAgICAgICAgIG5hbWVSdTogY29sdW1uID09PSBudWxsIHx8IGNvbHVtbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29sdW1uLnNlbGVjdFZhbHVlTmFtZVJ1LAogICAgICAgICAgICBuYW1lTHQ6IGNvbHVtbiA9PT0gbnVsbCB8fCBjb2x1bW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbHVtbi5zZWxlY3RWYWx1ZU5hbWVMdAogICAgICAgICAgfSkudHJpbSgnICwnKTsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSwKICAgIGdldFRhYmxlTGlzdDogZnVuY3Rpb24gZ2V0VGFibGVMaXN0KCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMS5wYXJhbXMuZG9jVGFibGVJZCAmJiBfdGhpczExLnBhcmFtcy5kYXRlVHlwZUlkKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMTEudGFibGVMaXN0TGVuZ3RoID0gMDsKICAgICAgICAgICAgICAgIF90aGlzMTEudGFibGVMaXN0TGVuZ3RoID0gMDsKICAgICAgICAgICAgICAgIF90aGlzMTEudGFibGVMaXN0ID0gW107CiAgICAgICAgICAgICAgICBfdGhpczExLmxvYWRlciA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVwb3J0U2VydmljZS5yZXBvcnRMaXN0Rm9yQ29sbGVjdGlvbihfdGhpczExLnBhcmFtcy5kb2NUYWJsZUlkLCBfdGhpczExLnBhcmFtcy5kYXRlVHlwZUlkLCBfb2JqZWN0U3ByZWFkKHt9LCBfdGhpczExLnZhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS50YWJsZUxpc3RMZW5ndGggPSByZXNwb25zZS5kYXRhLnRvdGFsOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTEudGFibGVMaXN0ID0gcmVzcG9uc2UuZGF0YS5saXN0Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBfdGhpczExLnNlbGVjdGVkRG9jUmVwb3J0cy5pbmRleFNldC5oYXMoaXRlbS5yZXBvcnRJZCkKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTEudGFibGVMaXN0TGVuZ3RoID0gMDsKICAgICAgICAgICAgICAgICAgICBfdGhpczExLnRhYmxlTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMS5sb2FkZXIgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBoYW5kbGVFeHBvcnRFeGNlbDogZnVuY3Rpb24gaGFuZGxlRXhwb3J0RXhjZWwoKSB7CiAgICAgIHZhciBfdGFibGUkY2hpbGRyZW4sCiAgICAgICAgICBfdGhpczEyID0gdGhpczsKCiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgIHZhciBkYXRlRE1ZID0gY3VycmVudERhdGUuZ2V0RGF0ZSgpICsgJy0nICsgKGN1cnJlbnREYXRlLmdldE1vbnRoKCkgKyAxKSArICctJyArIGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCk7CiAgICAgIHZhciBmaWxlTmFtZSA9IHRoaXMuZ2V0TmFtZSh0aGlzLnNlbGVjdGVkRG9jUmVwb3J0cy5kb2NUYWJsZSkgKyBkYXRlRE1ZOwogICAgICB2YXIgdGFibGUgPSB0aGlzLiRyZWZzLmNvbGxlY3RlZFJlcG9ydFRhYmxlOwogICAgICB0YWJsZS5zZXRBdHRyaWJ1dGUoJ2JvcmRlcicsICcxJyk7CiAgICAgIHRhYmxlLnN0eWxlLmJvcmRlciA9ICcxcHggc29saWQgYmxhY2snOwogICAgICAoX3RhYmxlJGNoaWxkcmVuID0gdGFibGUuY2hpbGRyZW4pID09PSBudWxsIHx8IF90YWJsZSRjaGlsZHJlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RhYmxlJGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKHRoZWFkT3JUYm9keSkgewogICAgICAgIHRoZWFkT3JUYm9keS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uICh0cikgewogICAgICAgICAgdHIuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAodGhPclRkKSB7CiAgICAgICAgICAgIHRoT3JUZC53aWR0aCA9IHRoT3JUZC5vZmZzZXRXaWR0aCArICdweCc7CiAgICAgICAgICAgIHRoT3JUZC5zdHlsZS53aWR0aCA9IHRoT3JUZC5vZmZzZXRXaWR0aCArICdweCc7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHZhciB3YiA9IFhMU1gudXRpbHMudGFibGVfdG9fYm9vayh0YWJsZSwgewogICAgICAgIHNoZWV0OiAic2hlZXQxIgogICAgICB9KTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gdG9kbyBuZWdhIGJ1IGtlcmFrbGlnaW5pIHRla3NoaXJpc2gga2VyYWssIGNvcHkgb2xpYiBxb3lnYW5tYW4KICAgICAgICBfdGhpczEyLmxvYWRlckV4Y2VsID0gZmFsc2U7CiAgICAgIH0sIDUwMCk7CiAgICAgIHJldHVybiBYTFNYLndyaXRlRmlsZSh3YiwgIiIuY29uY2F0KGZpbGVOYW1lLCAiLnhsc3giKSwge30pOwogICAgfSwKICAgIGhhbmRsZVNhdmVEYXRhT3Blbk1vZGFsOiBmdW5jdGlvbiBoYW5kbGVTYXZlRGF0YU9wZW5Nb2RhbCgpIHsKICAgICAgdGhpcy4kYnZNb2RhbC5zaG93KCdzYXZlRGF0YU1vZGFsJyk7CiAgICB9LAogICAgaGFuZGxlU2F2ZURhdGE6IGZ1bmN0aW9uIGhhbmRsZVNhdmVEYXRhKGUpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgdGhpcy5jb21wdXRlZE9iU2VydmVyU2F2ZURhdGEudmFsaWRhdGUoKS50aGVuKGZ1bmN0aW9uIChpc1ZhbGlkKSB7CiAgICAgICAgaWYgKCFpc1ZhbGlkKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBfdGhpczEzLmxvYWRlciA9IHRydWU7CiAgICAgICAgdmFyIGRhdGEgPSBbXTsKCiAgICAgICAgZm9yICh2YXIga2V5IGluIF90aGlzMTMuY29sbGVjdGVkUmVwb3J0Rm9yVGFibGVSZXBvcnQpIHsKICAgICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfdGhpczEzLmNvbGxlY3RlZFJlcG9ydEZvclRhYmxlUmVwb3J0W2tleV0pLAogICAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIHZhbCA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgICAgICBpZiAoIXZhbC50eXBlQ29kZSB8fCB2YWwudHlwZUNvZGUgPT09ICdTRVFVRU5DRScgfHwgIXZhbC5jb2x1bW5JZCB8fCAhdmFsLmRvY1JlcG9ydElkKSB7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmICh2YWwudHlwZUNvZGUgPT09ICdTRUxFQ1QnICYmIF90eXBlb2YodmFsLnNlbGVjdFZhbHVlSWQpID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgdmFyIF9yZWYzLCBfc2VsZWN0VmFsdWUkbmFtZVV6LCBfcmVmNCwgX3NlbGVjdFZhbHVlJG5hbWVSdSwgX3JlZjUsIF9zZWxlY3RWYWx1ZSRuYW1lTHQsIF9yZWY2LCBfc2VsZWN0VmFsdWUkbmFtZUVuOwoKICAgICAgICAgICAgICAgIHZhciBzZWxlY3RWYWx1ZSA9IHZhbC5zZWxlY3RWYWx1ZUlkOwogICAgICAgICAgICAgICAgZGF0YS5wdXNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdmFsKSwge30sIHsKICAgICAgICAgICAgICAgICAgZHluYW1pY1Jvd0lkOiBrZXkgKyAxLAogICAgICAgICAgICAgICAgICBzZWxlY3RWYWx1ZUlkOiBzZWxlY3RWYWx1ZSA9PT0gbnVsbCB8fCBzZWxlY3RWYWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0VmFsdWUuaWQsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICAgICAgICB2YWx1ZVN0cmluZzogbnVsbCwKICAgICAgICAgICAgICAgICAgc2VsZWN0VmFsdWVOYW1lVXo6IChfcmVmMyA9IChfc2VsZWN0VmFsdWUkbmFtZVV6ID0gc2VsZWN0VmFsdWUgPT09IG51bGwgfHwgc2VsZWN0VmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdFZhbHVlLm5hbWVVeikgIT09IG51bGwgJiYgX3NlbGVjdFZhbHVlJG5hbWVVeiAhPT0gdm9pZCAwID8gX3NlbGVjdFZhbHVlJG5hbWVVeiA6IHNlbGVjdFZhbHVlID09PSBudWxsIHx8IHNlbGVjdFZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RWYWx1ZS5uYW1lKSAhPT0gbnVsbCAmJiBfcmVmMyAhPT0gdm9pZCAwID8gX3JlZjMgOiAnJywKICAgICAgICAgICAgICAgICAgc2VsZWN0VmFsdWVOYW1lUnU6IChfcmVmNCA9IChfc2VsZWN0VmFsdWUkbmFtZVJ1ID0gc2VsZWN0VmFsdWUgPT09IG51bGwgfHwgc2VsZWN0VmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdFZhbHVlLm5hbWVSdSkgIT09IG51bGwgJiYgX3NlbGVjdFZhbHVlJG5hbWVSdSAhPT0gdm9pZCAwID8gX3NlbGVjdFZhbHVlJG5hbWVSdSA6IHNlbGVjdFZhbHVlID09PSBudWxsIHx8IHNlbGVjdFZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RWYWx1ZS5uYW1lKSAhPT0gbnVsbCAmJiBfcmVmNCAhPT0gdm9pZCAwID8gX3JlZjQgOiAnJywKICAgICAgICAgICAgICAgICAgc2VsZWN0VmFsdWVOYW1lTHQ6IChfcmVmNSA9IChfc2VsZWN0VmFsdWUkbmFtZUx0ID0gc2VsZWN0VmFsdWUgPT09IG51bGwgfHwgc2VsZWN0VmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdFZhbHVlLm5hbWVMdCkgIT09IG51bGwgJiYgX3NlbGVjdFZhbHVlJG5hbWVMdCAhPT0gdm9pZCAwID8gX3NlbGVjdFZhbHVlJG5hbWVMdCA6IHNlbGVjdFZhbHVlID09PSBudWxsIHx8IHNlbGVjdFZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RWYWx1ZS5uYW1lKSAhPT0gbnVsbCAmJiBfcmVmNSAhPT0gdm9pZCAwID8gX3JlZjUgOiAnJywKICAgICAgICAgICAgICAgICAgc2VsZWN0VmFsdWVOYW1lRW46IChfcmVmNiA9IChfc2VsZWN0VmFsdWUkbmFtZUVuID0gc2VsZWN0VmFsdWUgPT09IG51bGwgfHwgc2VsZWN0VmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdFZhbHVlLm5hbWVFbikgIT09IG51bGwgJiYgX3NlbGVjdFZhbHVlJG5hbWVFbiAhPT0gdm9pZCAwID8gX3NlbGVjdFZhbHVlJG5hbWVFbiA6IHNlbGVjdFZhbHVlID09PSBudWxsIHx8IHNlbGVjdFZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RWYWx1ZS5uYW1lKSAhPT0gbnVsbCAmJiBfcmVmNiAhPT0gdm9pZCAwID8gX3JlZjYgOiAnJywKICAgICAgICAgICAgICAgICAgcm93SWQ6IG51bGwKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZGF0YS5wdXNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdmFsKSwge30sIHsKICAgICAgICAgICAgICAgIGR5bmFtaWNSb3dJZDoga2V5ICsgMSwKICAgICAgICAgICAgICAgIHJvd0lkOiBudWxsCiAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgaW5mbyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMxMy5zYXZlRGF0YS5yZXBvcnRJbmZvRm9yR2F0aGVyKSwge30sIHsKICAgICAgICAgIHRhYmxlSWQ6IF90aGlzMTMucGFyYW1zLmRvY1RhYmxlSWQsCiAgICAgICAgICBkYXRlVHlwZUlkOiBfdGhpczEzLnBhcmFtcy5kYXRlVHlwZUlkLAogICAgICAgICAgZ2F0aGVyVHlwZTogX3RoaXMxMy5jb2xsZWN0aW5nVHlwZQogICAgICAgIH0pOwoKICAgICAgICByZXBvcnRTZXJ2aWNlLmNyZWF0ZUFuZEZpbGxHYXRoZXJSZXBvcnQoaW5mbywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczEzLiR0b2FzdChfdGhpczEzLiR0KCdtZXNzYWdlcy5zYXZlZF9zdWNjZXNzZnVsbHknKSwgewogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwogICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMxMy5sb2FkZXIgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpczEzLiRidk1vZGFsLmhpZGUoJ3NhdmVEYXRhTW9kYWwnKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgb3duRG9jVGFibGVzVmFsdWU6IGZ1bmN0aW9uIG93bkRvY1RhYmxlc1ZhbHVlKG9wdCkgewogICAgICB2YXIgX2l0ZW0kdGV4dDsKCiAgICAgIHZhciBpdGVtID0gdGhpcy5vd25Eb2NUYWJsZUxpc3RPcHRpb25zLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS52YWx1ZSA9PT0gb3B0OwogICAgICB9KTsKICAgICAgcmV0dXJuIChfaXRlbSR0ZXh0ID0gaXRlbS50ZXh0KSAhPT0gbnVsbCAmJiBfaXRlbSR0ZXh0ICE9PSB2b2lkIDAgPyBfaXRlbSR0ZXh0IDogJyc7CiAgICB9LAogICAgbGFiZWxDb2xsZWN0ZWRTZWxlY3Q6IGZ1bmN0aW9uIGxhYmVsQ29sbGVjdGVkU2VsZWN0KF9yZWY3KSB7CiAgICAgIHZhciBuYW1lVXogPSBfcmVmNy5uYW1lVXosCiAgICAgICAgICBuYW1lTHQgPSBfcmVmNy5uYW1lTHQsCiAgICAgICAgICBuYW1lUnUgPSBfcmVmNy5uYW1lUnUsCiAgICAgICAgICBuYW1lID0gX3JlZjcubmFtZTsKICAgICAgcmV0dXJuIG5hbWVVeiA/IHRoaXMuZ2V0TmFtZSh7CiAgICAgICAgbmFtZVV6OiBuYW1lVXosCiAgICAgICAgbmFtZUx0OiBuYW1lTHQsCiAgICAgICAgbmFtZVJ1OiBuYW1lUnUKICAgICAgfSkgOiBuYW1lOwogICAgfSwKICAgIGZpbmRGaWVsZEJ5SWQ6IGZ1bmN0aW9uIGZpbmRGaWVsZEJ5SWQoaWQpIHsKICAgICAgcmV0dXJuIHRoaXMuZG9jVGFibGVGaWVsZHNTZXJpYWxpemVkLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pZCA9PT0gaWQ7CiAgICAgIH0pOwogICAgfSwKICAgIHNlbGVjdEZldGNoT3B0aW9uczogZnVuY3Rpb24gc2VsZWN0RmV0Y2hPcHRpb25zKGNvbHVtbiwga2V5d29yZCkgewogICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzMTQuc2VsZWN0TG9hZEl0ZW1UaW1lT3V0KTsKICAgICAgICAgICAgICAgIF90aGlzMTQuc2VsZWN0TG9hZEl0ZW1UaW1lT3V0ID0gc2V0VGltZW91dCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBmaWVsZDsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnNlbGVjdExvYWRJdGVtTG9hZGVyID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZCA9IF90aGlzMTQuZmluZEZpZWxkQnlJZChjb2x1bW4uY29sdW1uSWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgIGNydWRBbmRMaXN0c1NlcnZpY2Uuc2VhcmNoTGlzdFdpdGhLZXl3b3JkKGZpZWxkLnJlZmVyZW5jZVVybCwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5d29yZDoga2V5d29yZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zUGVyUGFnZTogMTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZmllbGQucmVmZXJlbmNlQXBwZW5kVXJsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgiRGVwYXJ0bWVudEZvckRvY3VtZW50IiA9PT0gZmllbGQucmVmQ29kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnNlbGVjdE9wdGlvbnNCeVJlZmVyZW5jZVVybFtmaWVsZC5pZF0gPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuc2VsZWN0T3B0aW9uc0J5UmVmZXJlbmNlVXJsW2ZpZWxkLmlkXSA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5zZWxlY3RMb2FkSXRlbUxvYWRlciA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5zZWxlY3RMb2FkSXRlbUxvYWRlciA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICAgICAgICAgICAgfSkpLCA1MDApOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBvd25Eb2NUYWJsZUxpc3RPcHRpb25zOiBmdW5jdGlvbiBvd25Eb2NUYWJsZUxpc3RPcHRpb25zKCkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CgogICAgICBpZiAodGhpcy5vd25Eb2NUYWJsZUxpc3QubGVuZ3RoID4gMCkgewogICAgICAgIHJldHVybiB0aGlzLm93bkRvY1RhYmxlTGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHRleHQ6IF90aGlzMTUuZ2V0TmFtZSh7CiAgICAgICAgICAgICAgbmFtZVV6OiBpdGVtLm5hbWVVeiwKICAgICAgICAgICAgICBuYW1lUnU6IGl0ZW0ubmFtZVJ1LAogICAgICAgICAgICAgIG5hbWVMdDogaXRlbS5uYW1lTHQKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkCiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gW107CiAgICB9LAogICAgb3duRGF0ZVR5cGVMaXN0T3B0aW9uczogZnVuY3Rpb24gb3duRGF0ZVR5cGVMaXN0T3B0aW9ucygpIHsKICAgICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZGF0ZVR5cGVMaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICByZXR1cm4gdGhpcy5kYXRlVHlwZUxpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICB0ZXh0OiBfdGhpczE2LmdldE5hbWUoewogICAgICAgICAgICAgIG5hbWVVejogaXRlbS5uYW1lVXosCiAgICAgICAgICAgICAgbmFtZVJ1OiBpdGVtLm5hbWVSdSwKICAgICAgICAgICAgICBuYW1lTHQ6IGl0ZW0ubmFtZUx0CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICB2YWx1ZTogaXRlbS5pZAogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIFtdOwogICAgfSwKICAgIGNvbXB1dGVkT2JTZXJ2ZXJTYXZlRGF0YTogZnVuY3Rpb24gY29tcHV0ZWRPYlNlcnZlclNhdmVEYXRhKCkgewogICAgICByZXR1cm4gdGhpcy4kcmVmcy5vYlNlcnZlclNhdmVEYXRhOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICdwYXJhbXMuZG9jVGFibGVJZCc6IGZ1bmN0aW9uIHBhcmFtc0RvY1RhYmxlSWQoZG9jVGFibGVJZCkgewogICAgICB2YXIgX3RoaXMxNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICB2YXIgX3RoaXMxNyRvd25Eb2NUYWJsZUxpLCBkYXRlVHlwZUlkOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMxNyRvd25Eb2NUYWJsZUxpID0gX3RoaXMxNy5vd25Eb2NUYWJsZUxpc3QuZmluZChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gZS5pZCA9PT0gZG9jVGFibGVJZDsKICAgICAgICAgICAgICAgIH0pLCBkYXRlVHlwZUlkID0gX3RoaXMxNyRvd25Eb2NUYWJsZUxpLmRhdGVUeXBlSWQ7CgogICAgICAgICAgICAgICAgaWYgKCFkYXRlVHlwZUlkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMxNy5sb2FkZXIgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTcuZ2V0RGF0ZVR5cGVMaXN0KGRhdGVUeXBlSWQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX3RoaXMxNy5kYXRlVHlwZUxpc3QgPSBbXTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgJ3Zhcl9kZWZhdWx0X3NlYXJjaF9wYXlsb2FkLnBhZ2UnOiBmdW5jdGlvbiB2YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZFBhZ2UoKSB7CiAgICAgIGlmICh0aGlzLmxvYWRlcikgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5oYW5kbGVTZWFyY2goZmFsc2UpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <b-overlay\r\n        :opacity=\"0.2\"\r\n        :show=\"loader\"\r\n    >\r\n      <div class=\"col-md-12 text-center\">\r\n        <div class=\"h4 mb-4 d-inline-block\">{{ $t('submodules.reports.collection_assemble') }}</div>\r\n      </div>\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <div class=\"row mb-2\">\r\n            <div class=\"col-sm-12\">\r\n              <div class=\"row mb-2\">\r\n                <div class=\"col-md-3\">\r\n                  <BaseMultiselectWithValidation\r\n                      rules=\"required\"\r\n                      class=\"required\"\r\n                      onlyFormElement\r\n                      v-model=\"params.docTableId\"\r\n                      :options=\"ownDocTableListOptions.map(e => e.value)\"\r\n                      :label=\"$t('column.value_type')\"\r\n                      label-on-top\r\n                      placeholder=\"\"\r\n                      :custom-label=\"ownDocTablesValue\"\r\n                      open-direction=\"bottom\"\r\n                      :max-height=\"600\"\r\n                      :show-labels=\"false\"\r\n                  />\r\n                </div>\r\n                <div class=\"col-md-2\">\r\n                  <b-form-select\r\n                      class=\"border-light form-control rounded\"\r\n                      v-model=\"params.dateTypeId\"\r\n                      :disabled=\"ownDateTypeListOptions.length < 1\"\r\n                      :options=\"ownDateTypeListOptions\"></b-form-select>\r\n                </div>\r\n                <div class=\"col-md-2\">\r\n                  <div class=\"search-box\">\r\n                    <div class=\"position-relative\">\r\n                      <input\r\n                          type=\"text\"\r\n                          v-model=\"params.name\"\r\n                          class=\"form-control rounded border-light\"\r\n                          :placeholder=\"$t('actions.search')\"\r\n                      />\r\n                      <i class=\"mdi mdi-magnify search-icon\"></i>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-md-2\">\r\n                  <b-btn @click=\"handleSearch\">{{ $t('actions.search') }}</b-btn>\r\n                </div>\r\n                <div class=\"col-md-2\">\r\n                  <b-btn variant=\"success\" @click=\"handleCollect()\"\r\n                         :disabled=\"this.selectedDocReports.indexSet.size < 2\">{{ $t('actions.collect') }}\r\n                  </b-btn>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-sm-12\">\r\n              <table class=\"table table-hover table-striped\">\r\n                <thead>\r\n                <tr>\r\n                  <th>{{ '' }}</th>\r\n                  <th>{{ $t('column.name') }}</th>\r\n                  <th>{{ $t('submodules.reports.report_date') }}</th>\r\n                  <th>{{ $t(\"nameShakl\") }}</th>\r\n                  <th>{{ $t(\"titleShakl\") }}</th>\r\n                  <th>{{ $t(\"dateTypes\") }}</th>\r\n                  <th>{{ $t(\"submodules.reports.yur_department\") }}</th>\r\n                  <th>{{ $t(\"submodules.reports.created_datetime\") }}</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr v-for=\"(item, index) in tableList\"\r\n                    :key=\"index\"\r\n                    class=\"cursor-pointer\"\r\n                    @click=\"selectDocReportItem(index)\"\r\n                    :class=\"{'table-info': item.selected, 'table-info': item.selected}\">\r\n                  <td>{{\r\n                      paginate(index, var_default_search_payload.itemsPerPage, var_default_search_payload.page - 1)\r\n                    }}\r\n                  </td>\r\n                  <td>\r\n                    {{\r\n                      getName({\r\n                        nameUz: item.reportNameUz,\r\n                        nameRu: item.reportNameRu,\r\n                        nameLt: item.reportNameLt,\r\n                      })\r\n                    }}\r\n                  </td>\r\n                  <td>{{ item.reportData }}</td>\r\n                  <td>{{\r\n                      getName({\r\n                        nameUz: item.docTableNameUz,\r\n                        nameRu: item.docTableNameRu,\r\n                        nameLt: item.docTableNameLt,\r\n                      })\r\n                    }}\r\n                  </td>\r\n                  <td>{{\r\n                      getName({\r\n                        nameUz: item.docTableTitleUz,\r\n                        nameRu: item.docTableTitleRu,\r\n                        nameLt: item.docTableTitleLt,\r\n                      })\r\n                    }}\r\n                  </td>\r\n                  <td>{{\r\n                      getName({\r\n                        nameUz: item.dateTypeNameUz,\r\n                        nameRu: item.dateTypeNameRu,\r\n                        nameLt: item.dateTypeNameLt,\r\n                      })\r\n                    }}\r\n                  </td>\r\n                  <td>{{\r\n                      getName({\r\n                        nameUz: item.yurDepNameUz,\r\n                        nameRu: item.yurDepNameRu,\r\n                        nameLt: item.yurDepNameLt,\r\n                      })\r\n                    }}\r\n                  </td>\r\n                  <td>{{ item.createdDate }}</td>\r\n                </tr>\r\n                <tr v-if=\"tableList.length <= 0\" :key=\"-1\">\r\n                  <td colspan=\"8\">\r\n                    <h5 class=\"text-center\"> </h5>\r\n                  </td>\r\n                </tr>\r\n                </tbody>\r\n              </table>\r\n              <b-pagination\r\n                  v-if=\"tableListLength > 0\"\r\n                  v-model=\"var_default_search_payload.page\"\r\n                  :total-rows=\"tableListLength\"\r\n                  :per-page=\"var_default_search_payload.itemsPerPage\"\r\n                  aria-controls=\"my-table\"\r\n                  class=\"justify-content-end\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <b-modal id=\"modal\" :title=\"$t('submodules.reports.collection_assemble')\" size=\"xl\">\r\n        <div class=\"row\">\r\n          <div class=\"col-2 my-2\">\r\n            <b-form-select\r\n                class=\"form-control rounded\"\r\n                v-model=\"collectingType\">\r\n              <b-form-select-option\r\n                  v-for=\"(item, index) in collectingTypeList\"\r\n                  :key=\"index\"\r\n                  :value=\"item.value\">\r\n                {{ item.name }}\r\n              </b-form-select-option>\r\n            </b-form-select>\r\n          </div>\r\n          <div class=\"col-1 my-2\">\r\n            <b-btn variant=\"success\" class=\"mx-1\" @click=\"handleCollectedReportDraw\">{{ $t('actions.gather') }}</b-btn>\r\n          </div>\r\n          <div class=\"col-1 my-2\">\r\n            <b-btn variant=\"info\" class=\"mx-1\" @click=\"handleExportExcel\">{{ $t('actions.excel') }}</b-btn>\r\n          </div>\r\n          <div class=\"col-6\"></div>\r\n          <div class=\"col-2 my-2\">\r\n            <b-btn variant=\"success\" block\r\n                   class=\"mx-1\"\r\n                   :disabled=\"!collectedReportForTableReport || collectedReportForTableReport.length <= 0\"\r\n                   @click=\"handleSaveDataOpenModal\">{{ $t('actions.confirm') }}\r\n            </b-btn>\r\n          </div>\r\n          <div class=\"col-2 my-2\" v-if=\"collectingType === 'COLLECT_AVG'\">\r\n            <input type=\"checkbox\" id=\"checkbox\" v-model=\"collectionAvgIgnoreZero\">\r\n            <label for=\"checkbox\">{{ $t('submodules.reports.zero_ignore') }}</label>\r\n          </div>\r\n        </div>\r\n        <table ref=\"collectedReportTable\" class=\"table table-hover table-striped table-custom-bordered\" border=\"1\"\r\n               style=\"border: 1px solid black\">\r\n          <report-header :fields=\"docTableFieldsOriginal\"></report-header>\r\n          <tbody>\r\n          <tr v-for=\"(reportRow, reportRowIndex) in collectedReportForTableReport\" :key=\"reportRowIndex\">\r\n            <td v-for=\"(reportCol, reportColIndex) in reportRow\" :key=\"reportColIndex\">\r\n              <BaseMultiselectWithValidation\r\n                  v-if=\"collectingType !== 'ASSEMBLE' && reportCol.typeCode === 'SELECT'\"\r\n                  v-model=\"collectedReportForTableReport[reportRowIndex][reportColIndex].selectValueId\"\r\n                  :options=\"selectOptionsByReferenceUrl[reportCol.columnId]\"\r\n                  :custom-label=\"labelCollectedSelect\"\r\n                  :label=\"$t('column.employee')\"\r\n                  :only-form-element=\"true\"\r\n                  :internal-search=\"false\"\r\n                  :hide-error-msg=\"false\"\r\n                  :loading=\"selectLoadItemLoader\"\r\n                  :show-labels=\"false\"\r\n                  :filterable=\"false\"\r\n                  :searchable=\"true\"\r\n                  :max-height=\"600\"\r\n                  @search-change=\"(keyword) => selectFetchOptions(reportCol, keyword)\"\r\n                  rules=\"required\"\r\n                  placeholder=\"\"\r\n              ></BaseMultiselectWithValidation>\r\n              {{ printColumn(reportCol, reportColIndex) }}\r\n            </td>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n        <template #modal-footer>\r\n          <div>&nbsp;</div>\r\n        </template>\r\n      </b-modal>\r\n      <b-modal id=\"saveDataModal\" :title=\"$t('submodules.reports.collection_assemble')\" size=\"lg\">\r\n        <ValidationObserver ref=\"obServerSaveData\" v-slot=\"{}\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12 my-2\">\r\n              <BaseInputWithValidation\r\n                  rules=\"required\"\r\n                  class=\"required\"\r\n                  @input=\"($event) => (saveData.reportInfoForGather.nameLt = toLatin($event))\"\r\n                  v-model=\"saveData.reportInfoForGather.nameUz\"\r\n                  :label=\"$t('column.name_uz')\"\r\n                  :placeholder=\"$t('column.name_uz')\"\r\n              />\r\n            </div>\r\n            <div class=\"col-12 my-2\">\r\n              <BaseInputWithValidation\r\n                  rules=\"required\"\r\n                  class=\"required\"\r\n                  @input=\"($event) => (saveData.reportInfoForGather.nameUz = toCyrill($event))\"\r\n                  v-model=\"saveData.reportInfoForGather.nameLt\"\r\n                  :label=\"$t('column.name_lt')\"\r\n                  :placeholder=\"$t('column.name_lt')\"\r\n              />\r\n            </div>\r\n            <div class=\"col-12 my-2\">\r\n              <BaseInputWithValidation\r\n                  rules=\"required\"\r\n                  class=\"required\"\r\n                  v-model=\"saveData.reportInfoForGather.nameRu\"\r\n                  :label=\"$t('column.name_ru')\"\r\n                  :placeholder=\"$t('column.name_ru')\"\r\n              />\r\n            </div>\r\n            <div class=\"col-12 my-2\">\r\n              <BaseDatePickerWithValidation\r\n                  rules=\"required\"\r\n                  class=\"required\"\r\n                  v-model=\"saveData.reportInfoForGather.date\"\r\n                  :label=\"$t('column.date')\"\r\n                  :placeholder=\"$t('column.date')\"\r\n                  format=\"DD.MM.YYYY\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </ValidationObserver>\r\n        <template #modal-footer>\r\n          <b-btn variant=\"success\" @click=\"handleSaveData\">\r\n            {{ $t(\"actions.save\") }}\r\n          </b-btn>\r\n        </template>\r\n      </b-modal>\r\n    </b-overlay>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport reportService from \"../../reportService\";\r\nimport reportHeader from \"./reportHeader\";\r\nimport XLSX from \"xlsx\";\r\nimport BaseInputWithValidation from \"@/components/base/BaseInputWithValidation\";\r\nimport BaseDatePickerWithValidation from \"@/components/base/BaseDatePickerWithValidation\";\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\";\r\n\r\nexport default {\r\n  components: {\r\n    BaseDatePickerWithValidation,\r\n    BaseInputWithValidation,\r\n    reportHeader\r\n  },\r\n  data() {\r\n    return {\r\n      title: this.$t(\"reportRoles\"),\r\n      loader: true,\r\n      selectLoadItemLoader: null,\r\n      selectLoadItemTimeOut: null,\r\n      params: {\r\n        params: {\r\n          limit: 20,\r\n          page: 0,\r\n        },\r\n        search: \"\",\r\n        docTableId: \"\",\r\n        dateTypeId: \"\",\r\n      },\r\n      tableListParams: {\r\n        itemsPerPage: 20,\r\n        page: 0,\r\n      },\r\n      tableList: [],\r\n      tableListLength: 0,\r\n      docTableFieldsOriginal: [],\r\n      docTableFieldsSerialized: [],\r\n      ownDocTableList: [],\r\n      dateTypeList: [],\r\n      dateTypeListPayload: {\r\n        page: 0,\r\n        itemsPerPage: 100\r\n      },\r\n      selectOptionsByReferenceUrl: {},\r\n      selectedDocReports: {\r\n        indexSet: new Set(),\r\n        docTableId: false,\r\n        docTable: null,\r\n        docReports: {},\r\n      },\r\n      collectedReportForTableReport: [],\r\n      collectingType: 'ASSEMBLE',\r\n      collectionAvgIgnoreZero: false,\r\n      collectingGroupColumnId: null,\r\n      collectingTypeList: [\r\n        {\r\n          value: \"ASSEMBLE\",\r\n          name: \"Yig'ish\",\r\n        },\r\n        {\r\n          value: \"COLLECT_SUM\",\r\n          name: \"Yig'indini yig'ish (SUM)\",\r\n        },\r\n        {\r\n          value: \"COLLECT_AVG\",\r\n          name: \"O'rtacha qiymat yig'ish (AVG)\",\r\n        },\r\n      ],\r\n      saveData: {\r\n        reportInfoForGather: {\r\n          nameUz: '',\r\n          nameLt: '',\r\n          nameRu: '',\r\n          date: '',\r\n        }\r\n      }\r\n    };\r\n  },\r\n  async created() {\r\n    await this.getOwnDocTableList();\r\n    this.loader = false;\r\n  },\r\n  methods: {\r\n    getOwnDocTableList() {\r\n      reportService.getOwnTable(this.params).then(response => {\r\n        if (response.data.list.length > 0) {\r\n          this.ownDocTableList = response.data.list;\r\n        }\r\n      });\r\n    },\r\n    getDateTypeList(dateTypeId) {\r\n      reportService.getListByParentId(dateTypeId, this.dateTypeListPayload).then(response => {\r\n        if (response.data.list.length > 0) {\r\n          this.dateTypeList = response.data.list;\r\n        }\r\n      })\r\n          .finally(() => {\r\n            this.loader = false;\r\n          });\r\n    },\r\n    async handleSearch(clearSelected = true) {\r\n      if (clearSelected) {\r\n        this.selectedDocReports.docTableId = false;\r\n        this.selectedDocReports.indexSet = new Set();\r\n      }\r\n      await this.getTableList();\r\n    },\r\n    handleValidateForCollecting() {\r\n      if (!this.selectedDocReports.docTableId || this.selectedDocReports.indexSet.size < 2) {\r\n        this.$toast(this.$t(\"submodules.reports.select_minimum_two_report\"), {type: \"warning\"})\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    async handleCollect() {\r\n      this.loader = true;\r\n      this.collectedReportForTableReport = [];\r\n      this.docTableFieldsOriginal = [];\r\n      this.docTableFieldsSerialized = [];\r\n      if (!this.handleValidateForCollecting()) {\r\n        this.loader = false;\r\n        return;\r\n      }\r\n      await reportService.getByIdTable(this.selectedDocReports.docTableId).then(async response => {\r\n        if (response.data.columns.length > 0) {\r\n          this.docTableFieldsOriginal = response.data.columns;\r\n          this.deserializeDocTableFields(this.docTableFieldsOriginal);\r\n          this.selectedDocReports.docTable = response.data.table;\r\n        }\r\n        this.$bvModal.show('modal')\r\n        await this.handleCollectView();\r\n        this.loader = false;\r\n      }).catch(() => {\r\n        this.loader = false;\r\n      });\r\n    },\r\n    deserializeDocTableFields(list, clear = true) {\r\n      if (clear) {\r\n        this.docTableFieldsSerialized = [];\r\n      }\r\n      list.forEach(e => {\r\n        if (e.children.length > 0) {\r\n          this.deserializeDocTableFields(e.children, false);\r\n        } else {\r\n          this.docTableFieldsSerialized.push(e)\r\n          if (e.typeCode === 'SELECT') {\r\n            this.selectOptionsByReferenceUrl[e.id] = [];\r\n          }\r\n        }\r\n      })\r\n    },\r\n    async handleCollectView() {\r\n      if (!this.handleValidateForCollecting()) {\r\n        return;\r\n      }\r\n      this.loader = true;\r\n      this.selectedDocReports.docReports = {};\r\n      await this.selectedDocReports.indexSet.forEach((docReportId) => {\r\n        this.selectedDocReports.docReports[docReportId] = {}\r\n        reportService.getReportById(docReportId).then(response => {\r\n          if (response.data) {\r\n            response.data.map(value => {\r\n              if (this.selectedDocReports.docReports[docReportId][value.rowId] === undefined) {\r\n                this.selectedDocReports.docReports[docReportId][value.rowId] = {};\r\n              }\r\n              this.selectedDocReports.docReports[docReportId][value.rowId][value.columnId] = value;\r\n            });\r\n          }\r\n        });\r\n      })\r\n    },\r\n    handleCollectedReportDraw() {\r\n      this.collectedReportForTableReport = [];\r\n      switch (this.collectingType) {\r\n        case 'ASSEMBLE':\r\n          this.handleCollectedReportDrawAssemble();\r\n          break;\r\n        case 'COLLECT_SUM':\r\n          this.handleCollectedReportDrawCollectSum();\r\n          break;\r\n        case 'COLLECT_AVG':\r\n          this.handleCollectedReportDrawCollectAvg();\r\n          break;\r\n      }\r\n    },\r\n    handleCollectedReportDrawAssemble() {\r\n      let sequence = 1;\r\n      this.selectedDocReports.indexSet.forEach((value) => {\r\n        const reports = this.selectedDocReports.docReports[value];\r\n        for (const reportRowIndex in reports) {\r\n          const reportRow = reports[reportRowIndex];\r\n          let reportRowData = JSON.parse('[]');\r\n          this.docTableFieldsSerialized.forEach(field => {\r\n            if (reportRow[field.id] !== undefined) {\r\n              reportRowData.push(reportRow[field.id]);\r\n            } else {\r\n              if (field.typeCode === 'SEQUENCE') {\r\n                reportRowData.push({\r\n                  value: sequence,\r\n                  typeCode: field.typeCode,\r\n                });\r\n                sequence++;\r\n              } else {\r\n                reportRowData.push({});\r\n              }\r\n            }\r\n          })\r\n          this.collectedReportForTableReport.push(reportRowData);\r\n        }\r\n      })\r\n    },\r\n    handleCollectedReportDrawCollectSum() {\r\n      let sequence = 1;\r\n      this.selectedDocReports.indexSet.forEach((docReportId) => {\r\n        let reportData = [];\r\n        let sumBigIntegerCount = {};\r\n        const reports = this.selectedDocReports.docReports[docReportId];\r\n        for (const reportRowIndex in reports) {\r\n          const report = reports[reportRowIndex];\r\n          this.docTableFieldsSerialized.forEach((docTableField, docTableFieldIndex) => {\r\n            const reportRowField = report[docTableField.id];\r\n            if (docTableField.typeCode === 'SEQUENCE' && typeof reportData[docTableFieldIndex] === 'undefined') {\r\n              reportData[docTableFieldIndex] = {\r\n                value: sequence,\r\n                typeCode: \"SEQUENCE\"\r\n              }\r\n            }\r\n            reportData[docTableFieldIndex] = reportRowField && !reportData[docTableFieldIndex]?.id ? JSON.parse(JSON.stringify(reportRowField)) : (reportData[docTableFieldIndex] || {});\r\n            if (docTableField.typeCode === 'BIGDECIMAL') {\r\n              const valueBigDecimal = reportRowField?.valueBigDecimal ?? 0;\r\n              if (typeof sumBigIntegerCount[docTableField.id] === 'undefined') {\r\n                sumBigIntegerCount[docTableField.id] = 0;\r\n              }\r\n              if (typeof reportData[docTableFieldIndex].valueBigDecimal === 'undefined' || reportData[docTableFieldIndex].valueBigDecimal === null || reportData[docTableFieldIndex].valueBigDecimal === '') {\r\n                reportData[docTableFieldIndex].valueBigDecimal = 0;\r\n              }\r\n              if (valueBigDecimal && (valueBigDecimal > 0 || valueBigDecimal < 0)) {\r\n                sumBigIntegerCount[docTableField.id]++;\r\n              }\r\n              if (valueBigDecimal && reportRowField?.id !== reportData[docTableFieldIndex]?.id) {\r\n                reportData[docTableFieldIndex].valueBigDecimal += valueBigDecimal;\r\n                reportData[docTableFieldIndex].value = reportData[docTableFieldIndex].valueBigDecimal?.toString();\r\n              }\r\n            } else if (docTableField.typeCode === 'STRING' || docTableField.typeCode === 'DATE' || docTableField.typeCode === 'YEAR' || docTableField.typeCode === 'BOOLEAN') {\r\n              reportData[docTableFieldIndex].value += \", \" + (reportRowField.value ?? '');\r\n              reportData[docTableFieldIndex].valueDate += \", \" + (reportRowField.valueDate ?? '');\r\n              reportData[docTableFieldIndex].valueString += \", \" + (reportRowField.valueString ?? '');\r\n              reportData[docTableFieldIndex].valueBoolean += \", \" + (reportRowField.valueBoolean ?? '');\r\n            } else if (docTableField.typeCode === 'SELECT') {\r\n              if (!reportData[docTableFieldIndex]) {\r\n                reportData[docTableFieldIndex] = JSON.parse(JSON.stringify(reportRowField));\r\n              }\r\n              reportData[docTableFieldIndex].id = reportRowField.id;\r\n              reportData[docTableFieldIndex].rowId = reportRowField.rowId;\r\n              // reportData[docTableFieldIndex].typeCode = 'STRING';\r\n              reportData[docTableFieldIndex].columnId = reportRowField.columnId;\r\n              reportData[docTableFieldIndex].docReportId = reportRowField.docReportId;\r\n              reportData[docTableFieldIndex].selectValueId = null;\r\n              if (reportData[docTableFieldIndex]?.valueString?.indexOf(reportRowField.selectValueNameUz) === -1) {\r\n                if (reportRowField?.selectValueNameUz) {\r\n                  reportData[docTableFieldIndex].valueString += (reportRowField?.selectValueNameUz ?? '') + \", \";\r\n                  reportData[docTableFieldIndex].value += (reportRowField?.selectValueNameUz ?? '') + \", \";\r\n                  reportData[docTableFieldIndex].selectValueNameUz += (reportRowField?.selectValueNameUz ?? '') + \", \";\r\n                }\r\n                if (reportRowField?.selectValueNameEn) {\r\n                  reportData[docTableFieldIndex].selectValueNameEn += (reportRowField?.selectValueNameEn ?? '') + \", \";\r\n                }\r\n                if (reportRowField?.selectValueNameLt) {\r\n                  reportData[docTableFieldIndex].selectValueNameLt += (reportRowField?.selectValueNameLt ?? '') + \", \";\r\n                }\r\n                if (reportRowField?.selectValueNameRu) {\r\n                  reportData[docTableFieldIndex].selectValueNameRu += (reportRowField?.selectValueNameRu ?? '') + \", \";\r\n                }\r\n              } else if (reportData[docTableFieldIndex]?.valueString === null) {\r\n                reportData[docTableFieldIndex].valueString = '';\r\n              }\r\n            }\r\n          })\r\n        }\r\n        this.collectedReportForTableReport.push(reportData);\r\n        sequence++;\r\n      })\r\n    },\r\n    handleCollectedReportDrawCollectAvg() {\r\n      let sequence = 1;\r\n      this.selectedDocReports.indexSet.forEach((docReportId) => {\r\n        let reportData = [];\r\n        let sumBigIntegerCount = {};\r\n        const reports = this.selectedDocReports.docReports[docReportId];\r\n        for (const reportRowIndex in reports) {\r\n          const report = reports[reportRowIndex];\r\n          this.docTableFieldsSerialized.forEach((docTableField, docTableFieldIndex) => {\r\n            const reportRowField = report[docTableField.id];\r\n            if (docTableField.typeCode === 'SEQUENCE' && typeof reportData[docTableFieldIndex] === 'undefined') {\r\n              reportData[docTableFieldIndex] = {\r\n                value: sequence,\r\n                typeCode: \"SEQUENCE\"\r\n              }\r\n            }\r\n            reportData[docTableFieldIndex] = reportRowField && !reportData[docTableFieldIndex]?.id ? JSON.parse(JSON.stringify(reportRowField)) : (reportData[docTableFieldIndex] || {});\r\n            if (docTableField.typeCode === 'BIGDECIMAL') {\r\n              const valueBigDecimal = reportRowField?.valueBigDecimal ?? 0;\r\n              if (typeof sumBigIntegerCount[docTableField.id] === 'undefined') {\r\n                sumBigIntegerCount[docTableField.id] = 0;\r\n              }\r\n              if (typeof reportData[docTableFieldIndex].valueBigDecimal === 'undefined' || reportData[docTableFieldIndex].valueBigDecimal === null || reportData[docTableFieldIndex].valueBigDecimal === '') {\r\n                reportData[docTableFieldIndex].valueBigDecimal = 0;\r\n              }\r\n              if (this.collectionAvgIgnoreZero) {\r\n                if (valueBigDecimal && (valueBigDecimal > 0 || valueBigDecimal < 0)) {\r\n                  sumBigIntegerCount[docTableField.id]++;\r\n                }\r\n              } else {\r\n                sumBigIntegerCount[docTableField.id]++;\r\n              }\r\n              if (valueBigDecimal && reportRowField?.id !== reportData[docTableFieldIndex]?.id) {\r\n                reportData[docTableFieldIndex].valueBigDecimal += valueBigDecimal;\r\n                reportData[docTableFieldIndex].value = reportData[docTableFieldIndex].valueBigDecimal?.toString();\r\n              }\r\n            } else if (docTableField.typeCode === 'STRING' || docTableField.typeCode === 'DATE' || docTableField.typeCode === 'YEAR' || docTableField.typeCode === 'BOOLEAN') {\r\n              reportData[docTableFieldIndex].value += \", \" + (reportRowField.value ?? '');\r\n              reportData[docTableFieldIndex].valueDate += \", \" + (reportRowField.valueDate ?? '');\r\n              reportData[docTableFieldIndex].valueString += \", \" + (reportRowField.valueString ?? '');\r\n              reportData[docTableFieldIndex].valueBoolean += \", \" + (reportRowField.valueBoolean ?? '');\r\n            } else if (docTableField.typeCode === 'SELECT') {\r\n              if (!reportData[docTableFieldIndex]) {\r\n                reportData[docTableFieldIndex] = JSON.parse(JSON.stringify(reportRowField));\r\n              }\r\n              reportData[docTableFieldIndex].id = reportRowField.id;\r\n              reportData[docTableFieldIndex].rowId = reportRowField.rowId;\r\n              // reportData[docTableFieldIndex].typeCode = 'STRING';\r\n              reportData[docTableFieldIndex].columnId = reportRowField.columnId;\r\n              reportData[docTableFieldIndex].docReportId = reportRowField.docReportId;\r\n              if (reportData[docTableFieldIndex]?.valueString?.indexOf(reportRowField.selectValueNameUz) === -1) {\r\n                if (reportRowField?.selectValueNameUz) {\r\n                  reportData[docTableFieldIndex].value += (reportRowField?.selectValueNameUz ?? '') + \", \";\r\n                  reportData[docTableFieldIndex].valueString += (reportRowField?.selectValueNameUz ?? '') + \", \";\r\n                  reportData[docTableFieldIndex].selectValueNameUz += (reportRowField?.selectValueNameUz ?? '') + \", \";\r\n                }\r\n                if (reportRowField?.selectValueNameEn) {\r\n                  reportData[docTableFieldIndex].selectValueNameEn += (reportRowField?.selectValueNameEn ?? '') + \", \";\r\n                }\r\n                if (reportRowField?.selectValueNameLt) {\r\n                  reportData[docTableFieldIndex].selectValueNameLt += (reportRowField?.selectValueNameLt ?? '') + \", \";\r\n                }\r\n                if (reportRowField?.selectValueNameRu) {\r\n                  reportData[docTableFieldIndex].selectValueNameRu += (reportRowField?.selectValueNameRu ?? '') + \", \";\r\n                }\r\n              } else if (reportData[docTableFieldIndex]?.valueString === null) {\r\n                reportData[docTableFieldIndex].valueString = '';\r\n                reportData[docTableFieldIndex].value = '';\r\n              }\r\n            }\r\n          })\r\n        }\r\n        for (const i in reportData) {\r\n          const count = sumBigIntegerCount[reportData[i].columnId];\r\n          if (reportData[i].typeCode === 'BIGDECIMAL' && count > 0) {\r\n            reportData[i].valueBigDecimal /= count;\r\n          }\r\n          reportData[i].selectValueNameEn = reportData[i].selectValueNameEn ? reportData[i].selectValueNameEn.trim().slice(0, -1) : '';\r\n          reportData[i].selectValueNameLt = reportData[i].selectValueNameLt ? reportData[i].selectValueNameLt.trim().slice(0, -1) : '';\r\n          reportData[i].selectValueNameRu = reportData[i].selectValueNameRu ? reportData[i].selectValueNameRu.trim().slice(0, -1) : '';\r\n          reportData[i].selectValueNameUz = reportData[i].selectValueNameUz ? reportData[i].selectValueNameUz.trim().slice(0, -1) : '';\r\n        }\r\n        this.collectedReportForTableReport.push(reportData);\r\n        sequence++;\r\n      })\r\n    },\r\n    selectDocReportItem(index) {\r\n      const item = this.tableList[index];\r\n      if (this.selectedDocReports.docTableId === false) {\r\n        this.selectedDocReports.docTableId = item.docTableId;\r\n      }\r\n      if (this.selectedDocReports.indexSet.has(item.reportId)) {\r\n        if (this.selectedDocReports.docTableId === item.docTableId) {\r\n          this.selectedDocReports.indexSet.delete(item.reportId);\r\n          this.tableList[index].selected = false;\r\n        }\r\n      } else {\r\n        if (this.selectedDocReports.docTableId === item.docTableId) {\r\n          this.selectedDocReports.indexSet.add(item.reportId);\r\n          this.tableList[index].selected = true;\r\n        }\r\n      }\r\n      if (this.selectedDocReports.indexSet.size === 0) {\r\n        this.selectedDocReports.docTableId = false;\r\n      }\r\n    },\r\n    printColumn(column, index) {\r\n      switch (column.typeCode) {\r\n        case 'SEQUENCE':\r\n          return column?.value ?? index + 1;\r\n        case 'STRING':\r\n          return column?.valueString ?? column?.value ?? '';\r\n        case 'BIGDECIMAL':\r\n          // eslint-disable-next-line no-case-declarations\r\n          let v = column?.valueBigDecimal ?? 0;\r\n          v = v.toFixed(2);\r\n          if (!isNaN(v)) {\r\n            return v;\r\n          }\r\n          return '';\r\n        case 'BOOLEAN':\r\n          return column?.valueBoolean ? this.$t('actions.yes') : this.$t('actions.no');\r\n        case 'DATE':\r\n          return column?.valueDate ?? '';\r\n        case 'YEAR':\r\n          return column?.valueString ?? '';\r\n        case 'SELECT':\r\n          return this.getName({\r\n            nameUz: column?.selectValueNameUz,\r\n            nameRu: column?.selectValueNameRu,\r\n            nameLt: column?.selectValueNameLt,\r\n          }).trim(' ,');\r\n        default:\r\n          return '';\r\n      }\r\n    },\r\n    async getTableList() {\r\n      if (this.params.docTableId && this.params.dateTypeId) {\r\n        this.tableListLength = 0;\r\n        this.tableListLength = 0;\r\n        this.tableList = [];\r\n        this.loader = true\r\n        await reportService.reportListForCollection(this.params.docTableId, this.params.dateTypeId, {...this.var_default_search_payload}).then(response => {\r\n          if (response.data.list.length > 0) {\r\n            this.tableListLength = response.data.total;\r\n            this.tableList = response.data.list.map((item) => {\r\n              return {...item, selected: this.selectedDocReports.indexSet.has(item.reportId)};\r\n            });\r\n          } else {\r\n            this.tableListLength = 0;\r\n            this.tableList = [];\r\n          }\r\n        }).finally(() => {\r\n          this.loader = false;\r\n        });\r\n      }\r\n    },\r\n    handleExportExcel() {\r\n      let currentDate = new Date();\r\n      let dateDMY = currentDate.getDate() + '-' + (currentDate.getMonth() + 1) + '-' + currentDate.getFullYear();\r\n      let fileName = this.getName(this.selectedDocReports.docTable) + dateDMY;\r\n      let table = this.$refs.collectedReportTable;\r\n      table.setAttribute('border', '1');\r\n      table.style.border = '1px solid black';\r\n      table.children?.forEach(theadOrTbody => {\r\n        theadOrTbody.children.forEach(tr => {\r\n          tr.children.forEach(thOrTd => {\r\n            thOrTd.width = thOrTd.offsetWidth + 'px';\r\n            thOrTd.style.width = thOrTd.offsetWidth + 'px';\r\n          })\r\n        })\r\n      })\r\n      let wb = XLSX.utils.table_to_book(table, {sheet: \"sheet1\"});\r\n      setTimeout(() => { // todo nega bu kerakligini tekshirish kerak, copy olib qoyganman\r\n        this.loaderExcel = false;\r\n      }, 500);\r\n      return XLSX.writeFile(wb, `${fileName}.xlsx`, {});\r\n    },\r\n    handleSaveDataOpenModal() {\r\n      this.$bvModal.show('saveDataModal')\r\n    },\r\n    handleSaveData(e) {\r\n      this.computedObServerSaveData.validate().then(isValid => {\r\n        if (!isValid) {\r\n          return false;\r\n        }\r\n        this.loader = true\r\n        let data = [];\r\n        for (const key in this.collectedReportForTableReport) {\r\n          for (const val of this.collectedReportForTableReport[key]) {\r\n            if (!val.typeCode || val.typeCode === 'SEQUENCE' || !val.columnId || !val.docReportId) {\r\n              continue;\r\n            }\r\n            if (val.typeCode === 'SELECT' && typeof val.selectValueId === 'object') {\r\n              const selectValue = val.selectValueId;\r\n              data.push({\r\n                ...val,\r\n                dynamicRowId: key + 1,\r\n                selectValueId: selectValue?.id,\r\n                value: null,\r\n                valueString: null,\r\n                selectValueNameUz: selectValue?.nameUz ?? selectValue?.name ?? '',\r\n                selectValueNameRu: selectValue?.nameRu ?? selectValue?.name ?? '',\r\n                selectValueNameLt: selectValue?.nameLt ?? selectValue?.name ?? '',\r\n                selectValueNameEn: selectValue?.nameEn ?? selectValue?.name ?? '',\r\n                rowId: null\r\n              })\r\n              continue;\r\n            }\r\n            data.push({\r\n              ...val,\r\n              dynamicRowId: key + 1,\r\n              rowId: null\r\n            })\r\n          }\r\n        }\r\n        const info = {\r\n          ...this.saveData.reportInfoForGather,\r\n          tableId: this.params.docTableId,\r\n          dateTypeId: this.params.dateTypeId,\r\n          gatherType: this.collectingType,\r\n        }\r\n        reportService.createAndFillGatherReport(info, data)\r\n            .then((res) => {\r\n              this.$toast(this.$t('messages.saved_successfully'), {type: 'success'});\r\n            })\r\n            .finally(() => {\r\n              this.loader = false\r\n              this.$bvModal.hide('saveDataModal')\r\n            })\r\n      })\r\n    },\r\n    ownDocTablesValue(opt) {\r\n      let item = this.ownDocTableListOptions.find(e => e.value === opt);\r\n      return item.text ?? ''\r\n    },\r\n    labelCollectedSelect({nameUz, nameLt, nameRu, name}) {\r\n      return nameUz ? this.getName({nameUz: nameUz, nameLt: nameLt, nameRu: nameRu}) : name\r\n    },\r\n    findFieldById(id) {\r\n      return this.docTableFieldsSerialized.find(e => e.id === id);\r\n    },\r\n    async selectFetchOptions(column, keyword) {\r\n      clearTimeout(this.selectLoadItemTimeOut);\r\n      this.selectLoadItemTimeOut = setTimeout(async () => {\r\n        this.selectLoadItemLoader = true;\r\n        const field = this.findFieldById(column.columnId);\r\n        crudAndListsService.searchListWithKeyword(field.referenceUrl, {\r\n          keyword: keyword,\r\n          itemsPerPage: 10,\r\n          page: 1\r\n        }, field.referenceAppendUrl)\r\n            .then(res => {\r\n              if (\"DepartmentForDocument\" === field.refCode) {\r\n                this.selectOptionsByReferenceUrl[field.id] = res.data\r\n              } else {\r\n                this.selectOptionsByReferenceUrl[field.id] = res.data.list\r\n              }\r\n            })\r\n            .catch(err => {\r\n              this.selectLoadItemLoader = false;\r\n            })\r\n            .finally(() => {\r\n              this.selectLoadItemLoader = false;\r\n            })\r\n      }, 500);\r\n    },\r\n  },\r\n  computed: {\r\n    ownDocTableListOptions() {\r\n      if (this.ownDocTableList.length > 0) {\r\n        return this.ownDocTableList.map(item => {\r\n          return {\r\n            text: this.getName({\r\n              nameUz: item.nameUz,\r\n              nameRu: item.nameRu,\r\n              nameLt: item.nameLt,\r\n            }),\r\n            value: item.id,\r\n          };\r\n        });\r\n      }\r\n      return [];\r\n    },\r\n    ownDateTypeListOptions() {\r\n      if (this.dateTypeList.length > 0) {\r\n        return this.dateTypeList.map(item => {\r\n          return {\r\n            text: this.getName({\r\n              nameUz: item.nameUz,\r\n              nameRu: item.nameRu,\r\n              nameLt: item.nameLt,\r\n            }),\r\n            value: item.id,\r\n          };\r\n        });\r\n      }\r\n      return [];\r\n    },\r\n    computedObServerSaveData() {\r\n      return this.$refs.obServerSaveData\r\n    }\r\n  },\r\n  watch: {\r\n    async 'params.docTableId'(docTableId) {\r\n      const {dateTypeId} = this.ownDocTableList.find(e => e.id === docTableId);\r\n      if (dateTypeId) {\r\n        this.loader = true\r\n        await this.getDateTypeList(dateTypeId)\r\n      } else {\r\n        this.dateTypeList = [];\r\n      }\r\n    },\r\n    'var_default_search_payload.page'() {\r\n      if (this.loader) {\r\n        return;\r\n      }\r\n      this.handleSearch(false);\r\n    },\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/modules/report/collection/assemble"}]}