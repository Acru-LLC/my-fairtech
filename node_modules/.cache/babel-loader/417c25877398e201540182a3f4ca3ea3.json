{"remainingRequest":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\report\\collection\\assemble\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\src\\modules\\report\\collection\\assemble\\index.vue","mtime":1667352074556},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\babel.config.js","mtime":1667352074157},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667355379758},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667355378280},{"path":"C:\\ACRU PROJECT\\Fair Tech\\acru-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667355356562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiQzpcXEFDUlUgUFJPSkVDVFxcRmFpciBUZWNoXFxhY3J1LWZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFx0eXBlb2YuanMiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiQzpcXEFDUlUgUFJPSkVDVFxcRmFpciBUZWNoXFxhY3J1LWZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzpcXEFDUlUgUFJPSkVDVFxcRmFpciBUZWNoXFxhY3J1LWZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxvYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxBQ1JVIFBST0pFQ1RcXEZhaXIgVGVjaFxcYWNydS1mcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHJlcG9ydFNlcnZpY2UgZnJvbSAiLi4vLi4vcmVwb3J0U2VydmljZSI7CmltcG9ydCByZXBvcnRIZWFkZXIgZnJvbSAiLi9yZXBvcnRIZWFkZXIiOwppbXBvcnQgWExTWCBmcm9tICJ4bHN4IjsKaW1wb3J0IEJhc2VJbnB1dFdpdGhWYWxpZGF0aW9uIGZyb20gIkAvY29tcG9uZW50cy9iYXNlL0Jhc2VJbnB1dFdpdGhWYWxpZGF0aW9uIjsKaW1wb3J0IEJhc2VEYXRlUGlja2VyV2l0aFZhbGlkYXRpb24gZnJvbSAiQC9jb21wb25lbnRzL2Jhc2UvQmFzZURhdGVQaWNrZXJXaXRoVmFsaWRhdGlvbiI7CmltcG9ydCBjcnVkQW5kTGlzdHNTZXJ2aWNlIGZyb20gIkAvc2hhcmVkL3NlcnZpY2VzL2NydWRfYW5kX2xpc3Quc2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBCYXNlRGF0ZVBpY2tlcldpdGhWYWxpZGF0aW9uOiBCYXNlRGF0ZVBpY2tlcldpdGhWYWxpZGF0aW9uLAogICAgQmFzZUlucHV0V2l0aFZhbGlkYXRpb246IEJhc2VJbnB1dFdpdGhWYWxpZGF0aW9uLAogICAgcmVwb3J0SGVhZGVyOiByZXBvcnRIZWFkZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogdGhpcy4kdCgicmVwb3J0Um9sZXMiKSwKICAgICAgbG9hZGVyOiB0cnVlLAogICAgICBzZWxlY3RMb2FkSXRlbUxvYWRlcjogbnVsbCwKICAgICAgc2VsZWN0TG9hZEl0ZW1UaW1lT3V0OiBudWxsLAogICAgICBwYXJhbXM6IHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGxpbWl0OiAyMCwKICAgICAgICAgIHBhZ2U6IDAKICAgICAgICB9LAogICAgICAgIHNlYXJjaDogIiIsCiAgICAgICAgZG9jVGFibGVJZDogIiIsCiAgICAgICAgZGF0ZVR5cGVJZDogIiIKICAgICAgfSwKICAgICAgdGFibGVMaXN0UGFyYW1zOiB7CiAgICAgICAgaXRlbXNQZXJQYWdlOiAyMCwKICAgICAgICBwYWdlOiAwCiAgICAgIH0sCiAgICAgIHRhYmxlTGlzdDogW10sCiAgICAgIHRhYmxlTGlzdExlbmd0aDogMCwKICAgICAgZG9jVGFibGVGaWVsZHNPcmlnaW5hbDogW10sCiAgICAgIGRvY1RhYmxlRmllbGRzU2VyaWFsaXplZDogW10sCiAgICAgIG93bkRvY1RhYmxlTGlzdDogW10sCiAgICAgIGRhdGVUeXBlTGlzdDogW10sCiAgICAgIGRhdGVUeXBlTGlzdFBheWxvYWQ6IHsKICAgICAgICBwYWdlOiAwLAogICAgICAgIGl0ZW1zUGVyUGFnZTogMTAwCiAgICAgIH0sCiAgICAgIHNlbGVjdE9wdGlvbnNCeVJlZmVyZW5jZVVybDoge30sCiAgICAgIHNlbGVjdGVkRG9jUmVwb3J0czogewogICAgICAgIGluZGV4U2V0OiBuZXcgU2V0KCksCiAgICAgICAgZG9jVGFibGVJZDogZmFsc2UsCiAgICAgICAgZG9jVGFibGU6IG51bGwsCiAgICAgICAgZG9jUmVwb3J0czoge30KICAgICAgfSwKICAgICAgY29sbGVjdGVkUmVwb3J0Rm9yVGFibGVSZXBvcnQ6IFtdLAogICAgICBjb2xsZWN0aW5nVHlwZTogJ0FTU0VNQkxFJywKICAgICAgY29sbGVjdGlvbkF2Z0lnbm9yZVplcm86IGZhbHNlLAogICAgICBjb2xsZWN0aW5nR3JvdXBDb2x1bW5JZDogbnVsbCwKICAgICAgY29sbGVjdGluZ1R5cGVMaXN0OiBbewogICAgICAgIHZhbHVlOiAiQVNTRU1CTEUiLAogICAgICAgIG5hbWU6ICJZaWcnaXNoIgogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICJDT0xMRUNUX1NVTSIsCiAgICAgICAgbmFtZTogIllpZydpbmRpbmkgeWlnJ2lzaCAoU1VNKSIKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAiQ09MTEVDVF9BVkciLAogICAgICAgIG5hbWU6ICJPJ3J0YWNoYSBxaXltYXQgeWlnJ2lzaCAoQVZHKSIKICAgICAgfV0sCiAgICAgIHNhdmVEYXRhOiB7CiAgICAgICAgcmVwb3J0SW5mb0ZvckdhdGhlcjogewogICAgICAgICAgbmFtZVV6OiAnJywKICAgICAgICAgIG5hbWVMdDogJycsCiAgICAgICAgICBuYW1lUnU6ICcnLAogICAgICAgICAgZGF0ZTogJycKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldE93bkRvY1RhYmxlTGlzdCgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF90aGlzLmxvYWRlciA9IGZhbHNlOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0T3duRG9jVGFibGVMaXN0OiBmdW5jdGlvbiBnZXRPd25Eb2NUYWJsZUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmVwb3J0U2VydmljZS5nZXRPd25UYWJsZSh0aGlzLnBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5saXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgIF90aGlzMi5vd25Eb2NUYWJsZUxpc3QgPSByZXNwb25zZS5kYXRhLmxpc3Q7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXREYXRlVHlwZUxpc3Q6IGZ1bmN0aW9uIGdldERhdGVUeXBlTGlzdChkYXRlVHlwZUlkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmVwb3J0U2VydmljZS5nZXRMaXN0QnlQYXJlbnRJZChkYXRlVHlwZUlkLCB0aGlzLmRhdGVUeXBlTGlzdFBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICBfdGhpczMuZGF0ZVR5cGVMaXN0ID0gcmVzcG9uc2UuZGF0YS5saXN0OwogICAgICAgIH0KICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLmxvYWRlciA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTZWFyY2g6IGZ1bmN0aW9uIGhhbmRsZVNlYXJjaCgpIHsKICAgICAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHMsCiAgICAgICAgICBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNsZWFyU2VsZWN0ZWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNsZWFyU2VsZWN0ZWQgPSBfYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgX2FyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50c1swXSA6IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKGNsZWFyU2VsZWN0ZWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LnNlbGVjdGVkRG9jUmVwb3J0cy5kb2NUYWJsZUlkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5zZWxlY3RlZERvY1JlcG9ydHMuaW5kZXhTZXQgPSBuZXcgU2V0KCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5nZXRUYWJsZUxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlVmFsaWRhdGVGb3JDb2xsZWN0aW5nOiBmdW5jdGlvbiBoYW5kbGVWYWxpZGF0ZUZvckNvbGxlY3RpbmcoKSB7CiAgICAgIGlmICghdGhpcy5zZWxlY3RlZERvY1JlcG9ydHMuZG9jVGFibGVJZCB8fCB0aGlzLnNlbGVjdGVkRG9jUmVwb3J0cy5pbmRleFNldC5zaXplIDwgMikgewogICAgICAgIHRoaXMuJHRvYXN0KHRoaXMuJHQoInN1Ym1vZHVsZXMucmVwb3J0cy5zZWxlY3RfbWluaW11bV90d29fcmVwb3J0IiksIHsKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgaGFuZGxlQ29sbGVjdDogZnVuY3Rpb24gaGFuZGxlQ29sbGVjdCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM1LmxvYWRlciA9IHRydWU7CiAgICAgICAgICAgICAgICBfdGhpczUuY29sbGVjdGVkUmVwb3J0Rm9yVGFibGVSZXBvcnQgPSBbXTsKICAgICAgICAgICAgICAgIF90aGlzNS5kb2NUYWJsZUZpZWxkc09yaWdpbmFsID0gW107CiAgICAgICAgICAgICAgICBfdGhpczUuZG9jVGFibGVGaWVsZHNTZXJpYWxpemVkID0gW107CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNS5oYW5kbGVWYWxpZGF0ZUZvckNvbGxlY3RpbmcoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNS5sb2FkZXIgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcG9ydFNlcnZpY2UuZ2V0QnlJZFRhYmxlKF90aGlzNS5zZWxlY3RlZERvY1JlcG9ydHMuZG9jVGFibGVJZCkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvbHVtbnMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuZG9jVGFibGVGaWVsZHNPcmlnaW5hbCA9IHJlc3BvbnNlLmRhdGEuY29sdW1uczsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5kZXNlcmlhbGl6ZURvY1RhYmxlRmllbGRzKF90aGlzNS5kb2NUYWJsZUZpZWxkc09yaWdpbmFsKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5zZWxlY3RlZERvY1JlcG9ydHMuZG9jVGFibGUgPSByZXNwb25zZS5kYXRhLnRhYmxlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS4kYnZNb2RhbC5zaG93KCdtb2RhbCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuaGFuZGxlQ29sbGVjdFZpZXcoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmxvYWRlciA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczUubG9hZGVyID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGVzZXJpYWxpemVEb2NUYWJsZUZpZWxkczogZnVuY3Rpb24gZGVzZXJpYWxpemVEb2NUYWJsZUZpZWxkcyhsaXN0KSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIGNsZWFyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlOwoKICAgICAgaWYgKGNsZWFyKSB7CiAgICAgICAgdGhpcy5kb2NUYWJsZUZpZWxkc1NlcmlhbGl6ZWQgPSBbXTsKICAgICAgfQoKICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkgewogICAgICAgICAgX3RoaXM2LmRlc2VyaWFsaXplRG9jVGFibGVGaWVsZHMoZS5jaGlsZHJlbiwgZmFsc2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczYuZG9jVGFibGVGaWVsZHNTZXJpYWxpemVkLnB1c2goZSk7CgogICAgICAgICAgaWYgKGUudHlwZUNvZGUgPT09ICdTRUxFQ1QnKSB7CiAgICAgICAgICAgIF90aGlzNi5zZWxlY3RPcHRpb25zQnlSZWZlcmVuY2VVcmxbZS5pZF0gPSBbXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUNvbGxlY3RWaWV3OiBmdW5jdGlvbiBoYW5kbGVDb2xsZWN0VmlldygpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzNy5oYW5kbGVWYWxpZGF0ZUZvckNvbGxlY3RpbmcoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXM3LmxvYWRlciA9IHRydWU7CiAgICAgICAgICAgICAgICBfdGhpczcuc2VsZWN0ZWREb2NSZXBvcnRzLmRvY1JlcG9ydHMgPSB7fTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcuc2VsZWN0ZWREb2NSZXBvcnRzLmluZGV4U2V0LmZvckVhY2goZnVuY3Rpb24gKGRvY1JlcG9ydElkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5zZWxlY3RlZERvY1JlcG9ydHMuZG9jUmVwb3J0c1tkb2NSZXBvcnRJZF0gPSB7fTsKICAgICAgICAgICAgICAgICAgcmVwb3J0U2VydmljZS5nZXRSZXBvcnRCeUlkKGRvY1JlcG9ydElkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLm1hcChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNy5zZWxlY3RlZERvY1JlcG9ydHMuZG9jUmVwb3J0c1tkb2NSZXBvcnRJZF1bdmFsdWUucm93SWRdID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuc2VsZWN0ZWREb2NSZXBvcnRzLmRvY1JlcG9ydHNbZG9jUmVwb3J0SWRdW3ZhbHVlLnJvd0lkXSA9IHt9OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuc2VsZWN0ZWREb2NSZXBvcnRzLmRvY1JlcG9ydHNbZG9jUmVwb3J0SWRdW3ZhbHVlLnJvd0lkXVt2YWx1ZS5jb2x1bW5JZF0gPSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlQ29sbGVjdGVkUmVwb3J0RHJhdzogZnVuY3Rpb24gaGFuZGxlQ29sbGVjdGVkUmVwb3J0RHJhdygpIHsKICAgICAgdGhpcy5jb2xsZWN0ZWRSZXBvcnRGb3JUYWJsZVJlcG9ydCA9IFtdOwoKICAgICAgc3dpdGNoICh0aGlzLmNvbGxlY3RpbmdUeXBlKSB7CiAgICAgICAgY2FzZSAnQVNTRU1CTEUnOgogICAgICAgICAgdGhpcy5oYW5kbGVDb2xsZWN0ZWRSZXBvcnREcmF3QXNzZW1ibGUoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdDT0xMRUNUX1NVTSc6CiAgICAgICAgICB0aGlzLmhhbmRsZUNvbGxlY3RlZFJlcG9ydERyYXdDb2xsZWN0U3VtKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnQ09MTEVDVF9BVkcnOgogICAgICAgICAgdGhpcy5oYW5kbGVDb2xsZWN0ZWRSZXBvcnREcmF3Q29sbGVjdEF2ZygpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVDb2xsZWN0ZWRSZXBvcnREcmF3QXNzZW1ibGU6IGZ1bmN0aW9uIGhhbmRsZUNvbGxlY3RlZFJlcG9ydERyYXdBc3NlbWJsZSgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB2YXIgc2VxdWVuY2UgPSAxOwogICAgICB0aGlzLnNlbGVjdGVkRG9jUmVwb3J0cy5pbmRleFNldC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHZhciByZXBvcnRzID0gX3RoaXM4LnNlbGVjdGVkRG9jUmVwb3J0cy5kb2NSZXBvcnRzW3ZhbHVlXTsKCiAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AocmVwb3J0Um93SW5kZXgpIHsKICAgICAgICAgIHZhciByZXBvcnRSb3cgPSByZXBvcnRzW3JlcG9ydFJvd0luZGV4XTsKICAgICAgICAgIHZhciByZXBvcnRSb3dEYXRhID0gSlNPTi5wYXJzZSgnW10nKTsKCiAgICAgICAgICBfdGhpczguZG9jVGFibGVGaWVsZHNTZXJpYWxpemVkLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7CiAgICAgICAgICAgIGlmIChyZXBvcnRSb3dbZmllbGQuaWRdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICByZXBvcnRSb3dEYXRhLnB1c2gocmVwb3J0Um93W2ZpZWxkLmlkXSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaWYgKGZpZWxkLnR5cGVDb2RlID09PSAnU0VRVUVOQ0UnKSB7CiAgICAgICAgICAgICAgICByZXBvcnRSb3dEYXRhLnB1c2goewogICAgICAgICAgICAgICAgICB2YWx1ZTogc2VxdWVuY2UsCiAgICAgICAgICAgICAgICAgIHR5cGVDb2RlOiBmaWVsZC50eXBlQ29kZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzZXF1ZW5jZSsrOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXBvcnRSb3dEYXRhLnB1c2goe30pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXM4LmNvbGxlY3RlZFJlcG9ydEZvclRhYmxlUmVwb3J0LnB1c2gocmVwb3J0Um93RGF0YSk7CiAgICAgICAgfTsKCiAgICAgICAgZm9yICh2YXIgcmVwb3J0Um93SW5kZXggaW4gcmVwb3J0cykgewogICAgICAgICAgX2xvb3AocmVwb3J0Um93SW5kZXgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ29sbGVjdGVkUmVwb3J0RHJhd0NvbGxlY3RTdW06IGZ1bmN0aW9uIGhhbmRsZUNvbGxlY3RlZFJlcG9ydERyYXdDb2xsZWN0U3VtKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHZhciBzZXF1ZW5jZSA9IDE7CiAgICAgIHRoaXMuc2VsZWN0ZWREb2NSZXBvcnRzLmluZGV4U2V0LmZvckVhY2goZnVuY3Rpb24gKGRvY1JlcG9ydElkKSB7CiAgICAgICAgdmFyIHJlcG9ydERhdGEgPSBbXTsKICAgICAgICB2YXIgc3VtQmlnSW50ZWdlckNvdW50ID0ge307CiAgICAgICAgdmFyIHJlcG9ydHMgPSBfdGhpczkuc2VsZWN0ZWREb2NSZXBvcnRzLmRvY1JlcG9ydHNbZG9jUmVwb3J0SWRdOwoKICAgICAgICB2YXIgX2xvb3AyID0gZnVuY3Rpb24gX2xvb3AyKHJlcG9ydFJvd0luZGV4KSB7CiAgICAgICAgICB2YXIgcmVwb3J0ID0gcmVwb3J0c1tyZXBvcnRSb3dJbmRleF07CgogICAgICAgICAgX3RoaXM5LmRvY1RhYmxlRmllbGRzU2VyaWFsaXplZC5mb3JFYWNoKGZ1bmN0aW9uIChkb2NUYWJsZUZpZWxkLCBkb2NUYWJsZUZpZWxkSW5kZXgpIHsKICAgICAgICAgICAgdmFyIF9yZXBvcnREYXRhJGRvY1RhYmxlRjsKCiAgICAgICAgICAgIHZhciByZXBvcnRSb3dGaWVsZCA9IHJlcG9ydFtkb2NUYWJsZUZpZWxkLmlkXTsKCiAgICAgICAgICAgIGlmIChkb2NUYWJsZUZpZWxkLnR5cGVDb2RlID09PSAnU0VRVUVOQ0UnICYmIHR5cGVvZiByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0gPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdID0gewogICAgICAgICAgICAgICAgdmFsdWU6IHNlcXVlbmNlLAogICAgICAgICAgICAgICAgdHlwZUNvZGU6ICJTRVFVRU5DRSIKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0gPSByZXBvcnRSb3dGaWVsZCAmJiAhKChfcmVwb3J0RGF0YSRkb2NUYWJsZUYgPSByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0pICE9PSBudWxsICYmIF9yZXBvcnREYXRhJGRvY1RhYmxlRiAhPT0gdm9pZCAwICYmIF9yZXBvcnREYXRhJGRvY1RhYmxlRi5pZCkgPyBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlcG9ydFJvd0ZpZWxkKSkgOiByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0gfHwge307CgogICAgICAgICAgICBpZiAoZG9jVGFibGVGaWVsZC50eXBlQ29kZSA9PT0gJ0JJR0RFQ0lNQUwnKSB7CiAgICAgICAgICAgICAgdmFyIF9yZXBvcnRSb3dGaWVsZCR2YWx1ZSwgX3JlcG9ydERhdGEkZG9jVGFibGVGMjsKCiAgICAgICAgICAgICAgdmFyIHZhbHVlQmlnRGVjaW1hbCA9IChfcmVwb3J0Um93RmllbGQkdmFsdWUgPSByZXBvcnRSb3dGaWVsZCA9PT0gbnVsbCB8fCByZXBvcnRSb3dGaWVsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVwb3J0Um93RmllbGQudmFsdWVCaWdEZWNpbWFsKSAhPT0gbnVsbCAmJiBfcmVwb3J0Um93RmllbGQkdmFsdWUgIT09IHZvaWQgMCA/IF9yZXBvcnRSb3dGaWVsZCR2YWx1ZSA6IDA7CgogICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3VtQmlnSW50ZWdlckNvdW50W2RvY1RhYmxlRmllbGQuaWRdID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgc3VtQmlnSW50ZWdlckNvdW50W2RvY1RhYmxlRmllbGQuaWRdID0gMDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlQmlnRGVjaW1hbCA9PT0gJ3VuZGVmaW5lZCcgfHwgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlQmlnRGVjaW1hbCA9PT0gbnVsbCB8fCByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVCaWdEZWNpbWFsID09PSAnJykgewogICAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlQmlnRGVjaW1hbCA9IDA7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAodmFsdWVCaWdEZWNpbWFsICYmICh2YWx1ZUJpZ0RlY2ltYWwgPiAwIHx8IHZhbHVlQmlnRGVjaW1hbCA8IDApKSB7CiAgICAgICAgICAgICAgICBzdW1CaWdJbnRlZ2VyQ291bnRbZG9jVGFibGVGaWVsZC5pZF0rKzsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmICh2YWx1ZUJpZ0RlY2ltYWwgJiYgKHJlcG9ydFJvd0ZpZWxkID09PSBudWxsIHx8IHJlcG9ydFJvd0ZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXBvcnRSb3dGaWVsZC5pZCkgIT09ICgoX3JlcG9ydERhdGEkZG9jVGFibGVGMiA9IHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XSkgPT09IG51bGwgfHwgX3JlcG9ydERhdGEkZG9jVGFibGVGMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcG9ydERhdGEkZG9jVGFibGVGMi5pZCkpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVwb3J0RGF0YSRkb2NUYWJsZUYzOwoKICAgICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS52YWx1ZUJpZ0RlY2ltYWwgKz0gdmFsdWVCaWdEZWNpbWFsOwogICAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlID0gKF9yZXBvcnREYXRhJGRvY1RhYmxlRjMgPSByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVCaWdEZWNpbWFsKSA9PT0gbnVsbCB8fCBfcmVwb3J0RGF0YSRkb2NUYWJsZUYzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVwb3J0RGF0YSRkb2NUYWJsZUYzLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKGRvY1RhYmxlRmllbGQudHlwZUNvZGUgPT09ICdTVFJJTkcnIHx8IGRvY1RhYmxlRmllbGQudHlwZUNvZGUgPT09ICdEQVRFJyB8fCBkb2NUYWJsZUZpZWxkLnR5cGVDb2RlID09PSAnWUVBUicgfHwgZG9jVGFibGVGaWVsZC50eXBlQ29kZSA9PT0gJ0JPT0xFQU4nKSB7CiAgICAgICAgICAgICAgdmFyIF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTIsIF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTMsIF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTQsIF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTU7CgogICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS52YWx1ZSArPSAiLCAiICsgKChfcmVwb3J0Um93RmllbGQkdmFsdWUyID0gcmVwb3J0Um93RmllbGQudmFsdWUpICE9PSBudWxsICYmIF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTIgIT09IHZvaWQgMCA/IF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTIgOiAnJyk7CiAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlRGF0ZSArPSAiLCAiICsgKChfcmVwb3J0Um93RmllbGQkdmFsdWUzID0gcmVwb3J0Um93RmllbGQudmFsdWVEYXRlKSAhPT0gbnVsbCAmJiBfcmVwb3J0Um93RmllbGQkdmFsdWUzICE9PSB2b2lkIDAgPyBfcmVwb3J0Um93RmllbGQkdmFsdWUzIDogJycpOwogICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS52YWx1ZVN0cmluZyArPSAiLCAiICsgKChfcmVwb3J0Um93RmllbGQkdmFsdWU0ID0gcmVwb3J0Um93RmllbGQudmFsdWVTdHJpbmcpICE9PSBudWxsICYmIF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTQgIT09IHZvaWQgMCA/IF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTQgOiAnJyk7CiAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlQm9vbGVhbiArPSAiLCAiICsgKChfcmVwb3J0Um93RmllbGQkdmFsdWU1ID0gcmVwb3J0Um93RmllbGQudmFsdWVCb29sZWFuKSAhPT0gbnVsbCAmJiBfcmVwb3J0Um93RmllbGQkdmFsdWU1ICE9PSB2b2lkIDAgPyBfcmVwb3J0Um93RmllbGQkdmFsdWU1IDogJycpOwogICAgICAgICAgICB9IGVsc2UgaWYgKGRvY1RhYmxlRmllbGQudHlwZUNvZGUgPT09ICdTRUxFQ1QnKSB7CiAgICAgICAgICAgICAgdmFyIF9yZXBvcnREYXRhJGRvY1RhYmxlRjQsIF9yZXBvcnREYXRhJGRvY1RhYmxlRjUsIF9yZXBvcnREYXRhJGRvY1RhYmxlRjY7CgogICAgICAgICAgICAgIGlmICghcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdKSB7CiAgICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlcG9ydFJvd0ZpZWxkKSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0uaWQgPSByZXBvcnRSb3dGaWVsZC5pZDsKICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0ucm93SWQgPSByZXBvcnRSb3dGaWVsZC5yb3dJZDsgLy8gcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnR5cGVDb2RlID0gJ1NUUklORyc7CgogICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS5jb2x1bW5JZCA9IHJlcG9ydFJvd0ZpZWxkLmNvbHVtbklkOwogICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS5kb2NSZXBvcnRJZCA9IHJlcG9ydFJvd0ZpZWxkLmRvY1JlcG9ydElkOwogICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS5zZWxlY3RWYWx1ZUlkID0gbnVsbDsKCiAgICAgICAgICAgICAgaWYgKCgoX3JlcG9ydERhdGEkZG9jVGFibGVGNCA9IHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XSkgPT09IG51bGwgfHwgX3JlcG9ydERhdGEkZG9jVGFibGVGNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9yZXBvcnREYXRhJGRvY1RhYmxlRjUgPSBfcmVwb3J0RGF0YSRkb2NUYWJsZUY0LnZhbHVlU3RyaW5nKSA9PT0gbnVsbCB8fCBfcmVwb3J0RGF0YSRkb2NUYWJsZUY1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVwb3J0RGF0YSRkb2NUYWJsZUY1LmluZGV4T2YocmVwb3J0Um93RmllbGQuc2VsZWN0VmFsdWVOYW1lVXopKSA9PT0gLTEpIHsKICAgICAgICAgICAgICAgIGlmIChyZXBvcnRSb3dGaWVsZCAhPT0gbnVsbCAmJiByZXBvcnRSb3dGaWVsZCAhPT0gdm9pZCAwICYmIHJlcG9ydFJvd0ZpZWxkLnNlbGVjdFZhbHVlTmFtZVV6KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVwb3J0Um93RmllbGQkc2VsZWMsIF9yZXBvcnRSb3dGaWVsZCRzZWxlYzIsIF9yZXBvcnRSb3dGaWVsZCRzZWxlYzM7CgogICAgICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVTdHJpbmcgKz0gKChfcmVwb3J0Um93RmllbGQkc2VsZWMgPSByZXBvcnRSb3dGaWVsZCA9PT0gbnVsbCB8fCByZXBvcnRSb3dGaWVsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVwb3J0Um93RmllbGQuc2VsZWN0VmFsdWVOYW1lVXopICE9PSBudWxsICYmIF9yZXBvcnRSb3dGaWVsZCRzZWxlYyAhPT0gdm9pZCAwID8gX3JlcG9ydFJvd0ZpZWxkJHNlbGVjIDogJycpICsgIiwgIjsKICAgICAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlICs9ICgoX3JlcG9ydFJvd0ZpZWxkJHNlbGVjMiA9IHJlcG9ydFJvd0ZpZWxkID09PSBudWxsIHx8IHJlcG9ydFJvd0ZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXBvcnRSb3dGaWVsZC5zZWxlY3RWYWx1ZU5hbWVVeikgIT09IG51bGwgJiYgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjMiAhPT0gdm9pZCAwID8gX3JlcG9ydFJvd0ZpZWxkJHNlbGVjMiA6ICcnKSArICIsICI7CiAgICAgICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS5zZWxlY3RWYWx1ZU5hbWVVeiArPSAoKF9yZXBvcnRSb3dGaWVsZCRzZWxlYzMgPSByZXBvcnRSb3dGaWVsZCA9PT0gbnVsbCB8fCByZXBvcnRSb3dGaWVsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVwb3J0Um93RmllbGQuc2VsZWN0VmFsdWVOYW1lVXopICE9PSBudWxsICYmIF9yZXBvcnRSb3dGaWVsZCRzZWxlYzMgIT09IHZvaWQgMCA/IF9yZXBvcnRSb3dGaWVsZCRzZWxlYzMgOiAnJykgKyAiLCAiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChyZXBvcnRSb3dGaWVsZCAhPT0gbnVsbCAmJiByZXBvcnRSb3dGaWVsZCAhPT0gdm9pZCAwICYmIHJlcG9ydFJvd0ZpZWxkLnNlbGVjdFZhbHVlTmFtZUVuKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVwb3J0Um93RmllbGQkc2VsZWM0OwoKICAgICAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnNlbGVjdFZhbHVlTmFtZUVuICs9ICgoX3JlcG9ydFJvd0ZpZWxkJHNlbGVjNCA9IHJlcG9ydFJvd0ZpZWxkID09PSBudWxsIHx8IHJlcG9ydFJvd0ZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXBvcnRSb3dGaWVsZC5zZWxlY3RWYWx1ZU5hbWVFbikgIT09IG51bGwgJiYgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjNCAhPT0gdm9pZCAwID8gX3JlcG9ydFJvd0ZpZWxkJHNlbGVjNCA6ICcnKSArICIsICI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHJlcG9ydFJvd0ZpZWxkICE9PSBudWxsICYmIHJlcG9ydFJvd0ZpZWxkICE9PSB2b2lkIDAgJiYgcmVwb3J0Um93RmllbGQuc2VsZWN0VmFsdWVOYW1lTHQpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZXBvcnRSb3dGaWVsZCRzZWxlYzU7CgogICAgICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0uc2VsZWN0VmFsdWVOYW1lTHQgKz0gKChfcmVwb3J0Um93RmllbGQkc2VsZWM1ID0gcmVwb3J0Um93RmllbGQgPT09IG51bGwgfHwgcmVwb3J0Um93RmllbGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcG9ydFJvd0ZpZWxkLnNlbGVjdFZhbHVlTmFtZUx0KSAhPT0gbnVsbCAmJiBfcmVwb3J0Um93RmllbGQkc2VsZWM1ICE9PSB2b2lkIDAgPyBfcmVwb3J0Um93RmllbGQkc2VsZWM1IDogJycpICsgIiwgIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAocmVwb3J0Um93RmllbGQgIT09IG51bGwgJiYgcmVwb3J0Um93RmllbGQgIT09IHZvaWQgMCAmJiByZXBvcnRSb3dGaWVsZC5zZWxlY3RWYWx1ZU5hbWVSdSkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjNjsKCiAgICAgICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS5zZWxlY3RWYWx1ZU5hbWVSdSArPSAoKF9yZXBvcnRSb3dGaWVsZCRzZWxlYzYgPSByZXBvcnRSb3dGaWVsZCA9PT0gbnVsbCB8fCByZXBvcnRSb3dGaWVsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVwb3J0Um93RmllbGQuc2VsZWN0VmFsdWVOYW1lUnUpICE9PSBudWxsICYmIF9yZXBvcnRSb3dGaWVsZCRzZWxlYzYgIT09IHZvaWQgMCA/IF9yZXBvcnRSb3dGaWVsZCRzZWxlYzYgOiAnJykgKyAiLCAiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSBpZiAoKChfcmVwb3J0RGF0YSRkb2NUYWJsZUY2ID0gcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdKSA9PT0gbnVsbCB8fCBfcmVwb3J0RGF0YSRkb2NUYWJsZUY2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVwb3J0RGF0YSRkb2NUYWJsZUY2LnZhbHVlU3RyaW5nKSA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlU3RyaW5nID0gJyc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBmb3IgKHZhciByZXBvcnRSb3dJbmRleCBpbiByZXBvcnRzKSB7CiAgICAgICAgICBfbG9vcDIocmVwb3J0Um93SW5kZXgpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXM5LmNvbGxlY3RlZFJlcG9ydEZvclRhYmxlUmVwb3J0LnB1c2gocmVwb3J0RGF0YSk7CgogICAgICAgIHNlcXVlbmNlKys7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUNvbGxlY3RlZFJlcG9ydERyYXdDb2xsZWN0QXZnOiBmdW5jdGlvbiBoYW5kbGVDb2xsZWN0ZWRSZXBvcnREcmF3Q29sbGVjdEF2ZygpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgdmFyIHNlcXVlbmNlID0gMTsKICAgICAgdGhpcy5zZWxlY3RlZERvY1JlcG9ydHMuaW5kZXhTZXQuZm9yRWFjaChmdW5jdGlvbiAoZG9jUmVwb3J0SWQpIHsKICAgICAgICB2YXIgcmVwb3J0RGF0YSA9IFtdOwogICAgICAgIHZhciBzdW1CaWdJbnRlZ2VyQ291bnQgPSB7fTsKICAgICAgICB2YXIgcmVwb3J0cyA9IF90aGlzMTAuc2VsZWN0ZWREb2NSZXBvcnRzLmRvY1JlcG9ydHNbZG9jUmVwb3J0SWRdOwoKICAgICAgICB2YXIgX2xvb3AzID0gZnVuY3Rpb24gX2xvb3AzKHJlcG9ydFJvd0luZGV4KSB7CiAgICAgICAgICB2YXIgcmVwb3J0ID0gcmVwb3J0c1tyZXBvcnRSb3dJbmRleF07CgogICAgICAgICAgX3RoaXMxMC5kb2NUYWJsZUZpZWxkc1NlcmlhbGl6ZWQuZm9yRWFjaChmdW5jdGlvbiAoZG9jVGFibGVGaWVsZCwgZG9jVGFibGVGaWVsZEluZGV4KSB7CiAgICAgICAgICAgIHZhciBfcmVwb3J0RGF0YSRkb2NUYWJsZUY3OwoKICAgICAgICAgICAgdmFyIHJlcG9ydFJvd0ZpZWxkID0gcmVwb3J0W2RvY1RhYmxlRmllbGQuaWRdOwoKICAgICAgICAgICAgaWYgKGRvY1RhYmxlRmllbGQudHlwZUNvZGUgPT09ICdTRVFVRU5DRScgJiYgdHlwZW9mIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0gPSB7CiAgICAgICAgICAgICAgICB2YWx1ZTogc2VxdWVuY2UsCiAgICAgICAgICAgICAgICB0eXBlQ29kZTogIlNFUVVFTkNFIgogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XSA9IHJlcG9ydFJvd0ZpZWxkICYmICEoKF9yZXBvcnREYXRhJGRvY1RhYmxlRjcgPSByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0pICE9PSBudWxsICYmIF9yZXBvcnREYXRhJGRvY1RhYmxlRjcgIT09IHZvaWQgMCAmJiBfcmVwb3J0RGF0YSRkb2NUYWJsZUY3LmlkKSA/IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVwb3J0Um93RmllbGQpKSA6IHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XSB8fCB7fTsKCiAgICAgICAgICAgIGlmIChkb2NUYWJsZUZpZWxkLnR5cGVDb2RlID09PSAnQklHREVDSU1BTCcpIHsKICAgICAgICAgICAgICB2YXIgX3JlcG9ydFJvd0ZpZWxkJHZhbHVlNiwgX3JlcG9ydERhdGEkZG9jVGFibGVGODsKCiAgICAgICAgICAgICAgdmFyIHZhbHVlQmlnRGVjaW1hbCA9IChfcmVwb3J0Um93RmllbGQkdmFsdWU2ID0gcmVwb3J0Um93RmllbGQgPT09IG51bGwgfHwgcmVwb3J0Um93RmllbGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcG9ydFJvd0ZpZWxkLnZhbHVlQmlnRGVjaW1hbCkgIT09IG51bGwgJiYgX3JlcG9ydFJvd0ZpZWxkJHZhbHVlNiAhPT0gdm9pZCAwID8gX3JlcG9ydFJvd0ZpZWxkJHZhbHVlNiA6IDA7CgogICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3VtQmlnSW50ZWdlckNvdW50W2RvY1RhYmxlRmllbGQuaWRdID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgc3VtQmlnSW50ZWdlckNvdW50W2RvY1RhYmxlRmllbGQuaWRdID0gMDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlQmlnRGVjaW1hbCA9PT0gJ3VuZGVmaW5lZCcgfHwgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlQmlnRGVjaW1hbCA9PT0gbnVsbCB8fCByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVCaWdEZWNpbWFsID09PSAnJykgewogICAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlQmlnRGVjaW1hbCA9IDA7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoX3RoaXMxMC5jb2xsZWN0aW9uQXZnSWdub3JlWmVybykgewogICAgICAgICAgICAgICAgaWYgKHZhbHVlQmlnRGVjaW1hbCAmJiAodmFsdWVCaWdEZWNpbWFsID4gMCB8fCB2YWx1ZUJpZ0RlY2ltYWwgPCAwKSkgewogICAgICAgICAgICAgICAgICBzdW1CaWdJbnRlZ2VyQ291bnRbZG9jVGFibGVGaWVsZC5pZF0rKzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc3VtQmlnSW50ZWdlckNvdW50W2RvY1RhYmxlRmllbGQuaWRdKys7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAodmFsdWVCaWdEZWNpbWFsICYmIChyZXBvcnRSb3dGaWVsZCA9PT0gbnVsbCB8fCByZXBvcnRSb3dGaWVsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVwb3J0Um93RmllbGQuaWQpICE9PSAoKF9yZXBvcnREYXRhJGRvY1RhYmxlRjggPSByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0pID09PSBudWxsIHx8IF9yZXBvcnREYXRhJGRvY1RhYmxlRjggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXBvcnREYXRhJGRvY1RhYmxlRjguaWQpKSB7CiAgICAgICAgICAgICAgICB2YXIgX3JlcG9ydERhdGEkZG9jVGFibGVGOTsKCiAgICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVCaWdEZWNpbWFsICs9IHZhbHVlQmlnRGVjaW1hbDsKICAgICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS52YWx1ZSA9IChfcmVwb3J0RGF0YSRkb2NUYWJsZUY5ID0gcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlQmlnRGVjaW1hbCkgPT09IG51bGwgfHwgX3JlcG9ydERhdGEkZG9jVGFibGVGOSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcG9ydERhdGEkZG9jVGFibGVGOS50b1N0cmluZygpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChkb2NUYWJsZUZpZWxkLnR5cGVDb2RlID09PSAnU1RSSU5HJyB8fCBkb2NUYWJsZUZpZWxkLnR5cGVDb2RlID09PSAnREFURScgfHwgZG9jVGFibGVGaWVsZC50eXBlQ29kZSA9PT0gJ1lFQVInIHx8IGRvY1RhYmxlRmllbGQudHlwZUNvZGUgPT09ICdCT09MRUFOJykgewogICAgICAgICAgICAgIHZhciBfcmVwb3J0Um93RmllbGQkdmFsdWU3LCBfcmVwb3J0Um93RmllbGQkdmFsdWU4LCBfcmVwb3J0Um93RmllbGQkdmFsdWU5LCBfcmVwb3J0Um93RmllbGQkdmFsdWUxMDsKCiAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlICs9ICIsICIgKyAoKF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTcgPSByZXBvcnRSb3dGaWVsZC52YWx1ZSkgIT09IG51bGwgJiYgX3JlcG9ydFJvd0ZpZWxkJHZhbHVlNyAhPT0gdm9pZCAwID8gX3JlcG9ydFJvd0ZpZWxkJHZhbHVlNyA6ICcnKTsKICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVEYXRlICs9ICIsICIgKyAoKF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTggPSByZXBvcnRSb3dGaWVsZC52YWx1ZURhdGUpICE9PSBudWxsICYmIF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTggIT09IHZvaWQgMCA/IF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTggOiAnJyk7CiAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnZhbHVlU3RyaW5nICs9ICIsICIgKyAoKF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTkgPSByZXBvcnRSb3dGaWVsZC52YWx1ZVN0cmluZykgIT09IG51bGwgJiYgX3JlcG9ydFJvd0ZpZWxkJHZhbHVlOSAhPT0gdm9pZCAwID8gX3JlcG9ydFJvd0ZpZWxkJHZhbHVlOSA6ICcnKTsKICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVCb29sZWFuICs9ICIsICIgKyAoKF9yZXBvcnRSb3dGaWVsZCR2YWx1ZTEwID0gcmVwb3J0Um93RmllbGQudmFsdWVCb29sZWFuKSAhPT0gbnVsbCAmJiBfcmVwb3J0Um93RmllbGQkdmFsdWUxMCAhPT0gdm9pZCAwID8gX3JlcG9ydFJvd0ZpZWxkJHZhbHVlMTAgOiAnJyk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jVGFibGVGaWVsZC50eXBlQ29kZSA9PT0gJ1NFTEVDVCcpIHsKICAgICAgICAgICAgICB2YXIgX3JlcG9ydERhdGEkZG9jVGFibGVGMTAsIF9yZXBvcnREYXRhJGRvY1RhYmxlRjExLCBfcmVwb3J0RGF0YSRkb2NUYWJsZUYxMjsKCiAgICAgICAgICAgICAgaWYgKCFyZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0pIHsKICAgICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVwb3J0Um93RmllbGQpKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS5pZCA9IHJlcG9ydFJvd0ZpZWxkLmlkOwogICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS5yb3dJZCA9IHJlcG9ydFJvd0ZpZWxkLnJvd0lkOyAvLyByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udHlwZUNvZGUgPSAnU1RSSU5HJzsKCiAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLmNvbHVtbklkID0gcmVwb3J0Um93RmllbGQuY29sdW1uSWQ7CiAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLmRvY1JlcG9ydElkID0gcmVwb3J0Um93RmllbGQuZG9jUmVwb3J0SWQ7CgogICAgICAgICAgICAgIGlmICgoKF9yZXBvcnREYXRhJGRvY1RhYmxlRjEwID0gcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdKSA9PT0gbnVsbCB8fCBfcmVwb3J0RGF0YSRkb2NUYWJsZUYxMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9yZXBvcnREYXRhJGRvY1RhYmxlRjExID0gX3JlcG9ydERhdGEkZG9jVGFibGVGMTAudmFsdWVTdHJpbmcpID09PSBudWxsIHx8IF9yZXBvcnREYXRhJGRvY1RhYmxlRjExID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVwb3J0RGF0YSRkb2NUYWJsZUYxMS5pbmRleE9mKHJlcG9ydFJvd0ZpZWxkLnNlbGVjdFZhbHVlTmFtZVV6KSkgPT09IC0xKSB7CiAgICAgICAgICAgICAgICBpZiAocmVwb3J0Um93RmllbGQgIT09IG51bGwgJiYgcmVwb3J0Um93RmllbGQgIT09IHZvaWQgMCAmJiByZXBvcnRSb3dGaWVsZC5zZWxlY3RWYWx1ZU5hbWVVeikgewogICAgICAgICAgICAgICAgICB2YXIgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjNywgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjOCwgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjOTsKCiAgICAgICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS52YWx1ZSArPSAoKF9yZXBvcnRSb3dGaWVsZCRzZWxlYzcgPSByZXBvcnRSb3dGaWVsZCA9PT0gbnVsbCB8fCByZXBvcnRSb3dGaWVsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVwb3J0Um93RmllbGQuc2VsZWN0VmFsdWVOYW1lVXopICE9PSBudWxsICYmIF9yZXBvcnRSb3dGaWVsZCRzZWxlYzcgIT09IHZvaWQgMCA/IF9yZXBvcnRSb3dGaWVsZCRzZWxlYzcgOiAnJykgKyAiLCAiOwogICAgICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVTdHJpbmcgKz0gKChfcmVwb3J0Um93RmllbGQkc2VsZWM4ID0gcmVwb3J0Um93RmllbGQgPT09IG51bGwgfHwgcmVwb3J0Um93RmllbGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcG9ydFJvd0ZpZWxkLnNlbGVjdFZhbHVlTmFtZVV6KSAhPT0gbnVsbCAmJiBfcmVwb3J0Um93RmllbGQkc2VsZWM4ICE9PSB2b2lkIDAgPyBfcmVwb3J0Um93RmllbGQkc2VsZWM4IDogJycpICsgIiwgIjsKICAgICAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnNlbGVjdFZhbHVlTmFtZVV6ICs9ICgoX3JlcG9ydFJvd0ZpZWxkJHNlbGVjOSA9IHJlcG9ydFJvd0ZpZWxkID09PSBudWxsIHx8IHJlcG9ydFJvd0ZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXBvcnRSb3dGaWVsZC5zZWxlY3RWYWx1ZU5hbWVVeikgIT09IG51bGwgJiYgX3JlcG9ydFJvd0ZpZWxkJHNlbGVjOSAhPT0gdm9pZCAwID8gX3JlcG9ydFJvd0ZpZWxkJHNlbGVjOSA6ICcnKSArICIsICI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHJlcG9ydFJvd0ZpZWxkICE9PSBudWxsICYmIHJlcG9ydFJvd0ZpZWxkICE9PSB2b2lkIDAgJiYgcmVwb3J0Um93RmllbGQuc2VsZWN0VmFsdWVOYW1lRW4pIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZXBvcnRSb3dGaWVsZCRzZWxlYzEwOwoKICAgICAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnNlbGVjdFZhbHVlTmFtZUVuICs9ICgoX3JlcG9ydFJvd0ZpZWxkJHNlbGVjMTAgPSByZXBvcnRSb3dGaWVsZCA9PT0gbnVsbCB8fCByZXBvcnRSb3dGaWVsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVwb3J0Um93RmllbGQuc2VsZWN0VmFsdWVOYW1lRW4pICE9PSBudWxsICYmIF9yZXBvcnRSb3dGaWVsZCRzZWxlYzEwICE9PSB2b2lkIDAgPyBfcmVwb3J0Um93RmllbGQkc2VsZWMxMCA6ICcnKSArICIsICI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHJlcG9ydFJvd0ZpZWxkICE9PSBudWxsICYmIHJlcG9ydFJvd0ZpZWxkICE9PSB2b2lkIDAgJiYgcmVwb3J0Um93RmllbGQuc2VsZWN0VmFsdWVOYW1lTHQpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZXBvcnRSb3dGaWVsZCRzZWxlYzExOwoKICAgICAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnNlbGVjdFZhbHVlTmFtZUx0ICs9ICgoX3JlcG9ydFJvd0ZpZWxkJHNlbGVjMTEgPSByZXBvcnRSb3dGaWVsZCA9PT0gbnVsbCB8fCByZXBvcnRSb3dGaWVsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVwb3J0Um93RmllbGQuc2VsZWN0VmFsdWVOYW1lTHQpICE9PSBudWxsICYmIF9yZXBvcnRSb3dGaWVsZCRzZWxlYzExICE9PSB2b2lkIDAgPyBfcmVwb3J0Um93RmllbGQkc2VsZWMxMSA6ICcnKSArICIsICI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHJlcG9ydFJvd0ZpZWxkICE9PSBudWxsICYmIHJlcG9ydFJvd0ZpZWxkICE9PSB2b2lkIDAgJiYgcmVwb3J0Um93RmllbGQuc2VsZWN0VmFsdWVOYW1lUnUpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZXBvcnRSb3dGaWVsZCRzZWxlYzEyOwoKICAgICAgICAgICAgICAgICAgcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdLnNlbGVjdFZhbHVlTmFtZVJ1ICs9ICgoX3JlcG9ydFJvd0ZpZWxkJHNlbGVjMTIgPSByZXBvcnRSb3dGaWVsZCA9PT0gbnVsbCB8fCByZXBvcnRSb3dGaWVsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVwb3J0Um93RmllbGQuc2VsZWN0VmFsdWVOYW1lUnUpICE9PSBudWxsICYmIF9yZXBvcnRSb3dGaWVsZCRzZWxlYzEyICE9PSB2b2lkIDAgPyBfcmVwb3J0Um93RmllbGQkc2VsZWMxMiA6ICcnKSArICIsICI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIGlmICgoKF9yZXBvcnREYXRhJGRvY1RhYmxlRjEyID0gcmVwb3J0RGF0YVtkb2NUYWJsZUZpZWxkSW5kZXhdKSA9PT0gbnVsbCB8fCBfcmVwb3J0RGF0YSRkb2NUYWJsZUYxMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcG9ydERhdGEkZG9jVGFibGVGMTIudmFsdWVTdHJpbmcpID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICByZXBvcnREYXRhW2RvY1RhYmxlRmllbGRJbmRleF0udmFsdWVTdHJpbmcgPSAnJzsKICAgICAgICAgICAgICAgIHJlcG9ydERhdGFbZG9jVGFibGVGaWVsZEluZGV4XS52YWx1ZSA9ICcnOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgZm9yICh2YXIgcmVwb3J0Um93SW5kZXggaW4gcmVwb3J0cykgewogICAgICAgICAgX2xvb3AzKHJlcG9ydFJvd0luZGV4KTsKICAgICAgICB9CgogICAgICAgIGZvciAodmFyIGkgaW4gcmVwb3J0RGF0YSkgewogICAgICAgICAgdmFyIGNvdW50ID0gc3VtQmlnSW50ZWdlckNvdW50W3JlcG9ydERhdGFbaV0uY29sdW1uSWRdOwoKICAgICAgICAgIGlmIChyZXBvcnREYXRhW2ldLnR5cGVDb2RlID09PSAnQklHREVDSU1BTCcgJiYgY291bnQgPiAwKSB7CiAgICAgICAgICAgIHJlcG9ydERhdGFbaV0udmFsdWVCaWdEZWNpbWFsIC89IGNvdW50OwogICAgICAgICAgfQoKICAgICAgICAgIHJlcG9ydERhdGFbaV0uc2VsZWN0VmFsdWVOYW1lRW4gPSByZXBvcnREYXRhW2ldLnNlbGVjdFZhbHVlTmFtZUVuID8gcmVwb3J0RGF0YVtpXS5zZWxlY3RWYWx1ZU5hbWVFbi50cmltKCkuc2xpY2UoMCwgLTEpIDogJyc7CiAgICAgICAgICByZXBvcnREYXRhW2ldLnNlbGVjdFZhbHVlTmFtZUx0ID0gcmVwb3J0RGF0YVtpXS5zZWxlY3RWYWx1ZU5hbWVMdCA/IHJlcG9ydERhdGFbaV0uc2VsZWN0VmFsdWVOYW1lTHQudHJpbSgpLnNsaWNlKDAsIC0xKSA6ICcnOwogICAgICAgICAgcmVwb3J0RGF0YVtpXS5zZWxlY3RWYWx1ZU5hbWVSdSA9IHJlcG9ydERhdGFbaV0uc2VsZWN0VmFsdWVOYW1lUnUgPyByZXBvcnREYXRhW2ldLnNlbGVjdFZhbHVlTmFtZVJ1LnRyaW0oKS5zbGljZSgwLCAtMSkgOiAnJzsKICAgICAgICAgIHJlcG9ydERhdGFbaV0uc2VsZWN0VmFsdWVOYW1lVXogPSByZXBvcnREYXRhW2ldLnNlbGVjdFZhbHVlTmFtZVV6ID8gcmVwb3J0RGF0YVtpXS5zZWxlY3RWYWx1ZU5hbWVVei50cmltKCkuc2xpY2UoMCwgLTEpIDogJyc7CiAgICAgICAgfQoKICAgICAgICBfdGhpczEwLmNvbGxlY3RlZFJlcG9ydEZvclRhYmxlUmVwb3J0LnB1c2gocmVwb3J0RGF0YSk7CgogICAgICAgIHNlcXVlbmNlKys7CiAgICAgIH0pOwogICAgfSwKICAgIHNlbGVjdERvY1JlcG9ydEl0ZW06IGZ1bmN0aW9uIHNlbGVjdERvY1JlcG9ydEl0ZW0oaW5kZXgpIHsKICAgICAgdmFyIGl0ZW0gPSB0aGlzLnRhYmxlTGlzdFtpbmRleF07CgogICAgICBpZiAodGhpcy5zZWxlY3RlZERvY1JlcG9ydHMuZG9jVGFibGVJZCA9PT0gZmFsc2UpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkRG9jUmVwb3J0cy5kb2NUYWJsZUlkID0gaXRlbS5kb2NUYWJsZUlkOwogICAgICB9CgogICAgICBpZiAodGhpcy5zZWxlY3RlZERvY1JlcG9ydHMuaW5kZXhTZXQuaGFzKGl0ZW0ucmVwb3J0SWQpKSB7CiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWREb2NSZXBvcnRzLmRvY1RhYmxlSWQgPT09IGl0ZW0uZG9jVGFibGVJZCkgewogICAgICAgICAgdGhpcy5zZWxlY3RlZERvY1JlcG9ydHMuaW5kZXhTZXQuZGVsZXRlKGl0ZW0ucmVwb3J0SWQpOwogICAgICAgICAgdGhpcy50YWJsZUxpc3RbaW5kZXhdLnNlbGVjdGVkID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRG9jUmVwb3J0cy5kb2NUYWJsZUlkID09PSBpdGVtLmRvY1RhYmxlSWQpIHsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWREb2NSZXBvcnRzLmluZGV4U2V0LmFkZChpdGVtLnJlcG9ydElkKTsKICAgICAgICAgIHRoaXMudGFibGVMaXN0W2luZGV4XS5zZWxlY3RlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy5zZWxlY3RlZERvY1JlcG9ydHMuaW5kZXhTZXQuc2l6ZSA9PT0gMCkgewogICAgICAgIHRoaXMuc2VsZWN0ZWREb2NSZXBvcnRzLmRvY1RhYmxlSWQgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIHByaW50Q29sdW1uOiBmdW5jdGlvbiBwcmludENvbHVtbihjb2x1bW4sIGluZGV4KSB7CiAgICAgIHZhciBfY29sdW1uJHZhbHVlLCBfcmVmMiwgX2NvbHVtbiR2YWx1ZVN0cmluZywgX2NvbHVtbiR2YWx1ZUJpZ0RlY2ltLCBfY29sdW1uJHZhbHVlRGF0ZSwgX2NvbHVtbiR2YWx1ZVN0cmluZzI7CgogICAgICBzd2l0Y2ggKGNvbHVtbi50eXBlQ29kZSkgewogICAgICAgIGNhc2UgJ1NFUVVFTkNFJzoKICAgICAgICAgIHJldHVybiAoX2NvbHVtbiR2YWx1ZSA9IGNvbHVtbiA9PT0gbnVsbCB8fCBjb2x1bW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbHVtbi52YWx1ZSkgIT09IG51bGwgJiYgX2NvbHVtbiR2YWx1ZSAhPT0gdm9pZCAwID8gX2NvbHVtbiR2YWx1ZSA6IGluZGV4ICsgMTsKCiAgICAgICAgY2FzZSAnU1RSSU5HJzoKICAgICAgICAgIHJldHVybiAoX3JlZjIgPSAoX2NvbHVtbiR2YWx1ZVN0cmluZyA9IGNvbHVtbiA9PT0gbnVsbCB8fCBjb2x1bW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbHVtbi52YWx1ZVN0cmluZykgIT09IG51bGwgJiYgX2NvbHVtbiR2YWx1ZVN0cmluZyAhPT0gdm9pZCAwID8gX2NvbHVtbiR2YWx1ZVN0cmluZyA6IGNvbHVtbiA9PT0gbnVsbCB8fCBjb2x1bW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbHVtbi52YWx1ZSkgIT09IG51bGwgJiYgX3JlZjIgIT09IHZvaWQgMCA/IF9yZWYyIDogJyc7CgogICAgICAgIGNhc2UgJ0JJR0RFQ0lNQUwnOgogICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zCiAgICAgICAgICB2YXIgdiA9IChfY29sdW1uJHZhbHVlQmlnRGVjaW0gPSBjb2x1bW4gPT09IG51bGwgfHwgY29sdW1uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb2x1bW4udmFsdWVCaWdEZWNpbWFsKSAhPT0gbnVsbCAmJiBfY29sdW1uJHZhbHVlQmlnRGVjaW0gIT09IHZvaWQgMCA/IF9jb2x1bW4kdmFsdWVCaWdEZWNpbSA6IDA7CiAgICAgICAgICB2ID0gdi50b0ZpeGVkKDIpOwoKICAgICAgICAgIGlmICghaXNOYU4odikpIHsKICAgICAgICAgICAgcmV0dXJuIHY7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuICcnOwoKICAgICAgICBjYXNlICdCT09MRUFOJzoKICAgICAgICAgIHJldHVybiBjb2x1bW4gIT09IG51bGwgJiYgY29sdW1uICE9PSB2b2lkIDAgJiYgY29sdW1uLnZhbHVlQm9vbGVhbiA/IHRoaXMuJHQoJ2FjdGlvbnMueWVzJykgOiB0aGlzLiR0KCdhY3Rpb25zLm5vJyk7CgogICAgICAgIGNhc2UgJ0RBVEUnOgogICAgICAgICAgcmV0dXJuIChfY29sdW1uJHZhbHVlRGF0ZSA9IGNvbHVtbiA9PT0gbnVsbCB8fCBjb2x1bW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbHVtbi52YWx1ZURhdGUpICE9PSBudWxsICYmIF9jb2x1bW4kdmFsdWVEYXRlICE9PSB2b2lkIDAgPyBfY29sdW1uJHZhbHVlRGF0ZSA6ICcnOwoKICAgICAgICBjYXNlICdZRUFSJzoKICAgICAgICAgIHJldHVybiAoX2NvbHVtbiR2YWx1ZVN0cmluZzIgPSBjb2x1bW4gPT09IG51bGwgfHwgY29sdW1uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb2x1bW4udmFsdWVTdHJpbmcpICE9PSBudWxsICYmIF9jb2x1bW4kdmFsdWVTdHJpbmcyICE9PSB2b2lkIDAgPyBfY29sdW1uJHZhbHVlU3RyaW5nMiA6ICcnOwoKICAgICAgICBjYXNlICdTRUxFQ1QnOgogICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TmFtZSh7CiAgICAgICAgICAgIG5hbWVVejogY29sdW1uID09PSBudWxsIHx8IGNvbHVtbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29sdW1uLnNlbGVjdFZhbHVlTmFtZVV6LAogICAgICAgICAgICBuYW1lUnU6IGNvbHVtbiA9PT0gbnVsbCB8fCBjb2x1bW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbHVtbi5zZWxlY3RWYWx1ZU5hbWVSdSwKICAgICAgICAgICAgbmFtZUx0OiBjb2x1bW4gPT09IG51bGwgfHwgY29sdW1uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb2x1bW4uc2VsZWN0VmFsdWVOYW1lTHQKICAgICAgICAgIH0pLnRyaW0oJyAsJyk7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KICAgIH0sCiAgICBnZXRUYWJsZUxpc3Q6IGZ1bmN0aW9uIGdldFRhYmxlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTEucGFyYW1zLmRvY1RhYmxlSWQgJiYgX3RoaXMxMS5wYXJhbXMuZGF0ZVR5cGVJZCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczExLnRhYmxlTGlzdExlbmd0aCA9IDA7CiAgICAgICAgICAgICAgICBfdGhpczExLnRhYmxlTGlzdExlbmd0aCA9IDA7CiAgICAgICAgICAgICAgICBfdGhpczExLnRhYmxlTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgX3RoaXMxMS5sb2FkZXIgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcG9ydFNlcnZpY2UucmVwb3J0TGlzdEZvckNvbGxlY3Rpb24oX3RoaXMxMS5wYXJhbXMuZG9jVGFibGVJZCwgX3RoaXMxMS5wYXJhbXMuZGF0ZVR5cGVJZCwgX29iamVjdFNwcmVhZCh7fSwgX3RoaXMxMS52YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZCkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmxpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTEudGFibGVMaXN0TGVuZ3RoID0gcmVzcG9uc2UuZGF0YS50b3RhbDsKICAgICAgICAgICAgICAgICAgICBfdGhpczExLnRhYmxlTGlzdCA9IHJlc3BvbnNlLmRhdGEubGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pLCB7fSwgewogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogX3RoaXMxMS5zZWxlY3RlZERvY1JlcG9ydHMuaW5kZXhTZXQuaGFzKGl0ZW0ucmVwb3J0SWQpCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczExLnRhYmxlTGlzdExlbmd0aCA9IDA7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS50YWJsZUxpc3QgPSBbXTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTEubG9hZGVyID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlRXhwb3J0RXhjZWw6IGZ1bmN0aW9uIGhhbmRsZUV4cG9ydEV4Y2VsKCkgewogICAgICB2YXIgX3RhYmxlJGNoaWxkcmVuLAogICAgICAgICAgX3RoaXMxMiA9IHRoaXM7CgogICAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgZGF0ZURNWSA9IGN1cnJlbnREYXRlLmdldERhdGUoKSArICctJyArIChjdXJyZW50RGF0ZS5nZXRNb250aCgpICsgMSkgKyAnLScgKyBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpOwogICAgICB2YXIgZmlsZU5hbWUgPSB0aGlzLmdldE5hbWUodGhpcy5zZWxlY3RlZERvY1JlcG9ydHMuZG9jVGFibGUpICsgZGF0ZURNWTsKICAgICAgdmFyIHRhYmxlID0gdGhpcy4kcmVmcy5jb2xsZWN0ZWRSZXBvcnRUYWJsZTsKICAgICAgdGFibGUuc2V0QXR0cmlidXRlKCdib3JkZXInLCAnMScpOwogICAgICB0YWJsZS5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkIGJsYWNrJzsKICAgICAgKF90YWJsZSRjaGlsZHJlbiA9IHRhYmxlLmNoaWxkcmVuKSA9PT0gbnVsbCB8fCBfdGFibGUkY2hpbGRyZW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90YWJsZSRjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uICh0aGVhZE9yVGJvZHkpIHsKICAgICAgICB0aGVhZE9yVGJvZHkuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAodHIpIHsKICAgICAgICAgIHRyLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKHRoT3JUZCkgewogICAgICAgICAgICB0aE9yVGQud2lkdGggPSB0aE9yVGQub2Zmc2V0V2lkdGggKyAncHgnOwogICAgICAgICAgICB0aE9yVGQuc3R5bGUud2lkdGggPSB0aE9yVGQub2Zmc2V0V2lkdGggKyAncHgnOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB2YXIgd2IgPSBYTFNYLnV0aWxzLnRhYmxlX3RvX2Jvb2sodGFibGUsIHsKICAgICAgICBzaGVldDogInNoZWV0MSIKICAgICAgfSk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIC8vIHRvZG8gbmVnYSBidSBrZXJha2xpZ2luaSB0ZWtzaGlyaXNoIGtlcmFrLCBjb3B5IG9saWIgcW95Z2FubWFuCiAgICAgICAgX3RoaXMxMi5sb2FkZXJFeGNlbCA9IGZhbHNlOwogICAgICB9LCA1MDApOwogICAgICByZXR1cm4gWExTWC53cml0ZUZpbGUod2IsICIiLmNvbmNhdChmaWxlTmFtZSwgIi54bHN4IiksIHt9KTsKICAgIH0sCiAgICBoYW5kbGVTYXZlRGF0YU9wZW5Nb2RhbDogZnVuY3Rpb24gaGFuZGxlU2F2ZURhdGFPcGVuTW9kYWwoKSB7CiAgICAgIHRoaXMuJGJ2TW9kYWwuc2hvdygnc2F2ZURhdGFNb2RhbCcpOwogICAgfSwKICAgIGhhbmRsZVNhdmVEYXRhOiBmdW5jdGlvbiBoYW5kbGVTYXZlRGF0YShlKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHRoaXMuY29tcHV0ZWRPYlNlcnZlclNhdmVEYXRhLnZhbGlkYXRlKCkudGhlbihmdW5jdGlvbiAoaXNWYWxpZCkgewogICAgICAgIGlmICghaXNWYWxpZCkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMxMy5sb2FkZXIgPSB0cnVlOwogICAgICAgIHZhciBkYXRhID0gW107CgogICAgICAgIGZvciAodmFyIGtleSBpbiBfdGhpczEzLmNvbGxlY3RlZFJlcG9ydEZvclRhYmxlUmVwb3J0KSB7CiAgICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoX3RoaXMxMy5jb2xsZWN0ZWRSZXBvcnRGb3JUYWJsZVJlcG9ydFtrZXldKSwKICAgICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICAgIHZhciB2YWwgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICAgICAgaWYgKCF2YWwudHlwZUNvZGUgfHwgdmFsLnR5cGVDb2RlID09PSAnU0VRVUVOQ0UnIHx8ICF2YWwuY29sdW1uSWQgfHwgIXZhbC5kb2NSZXBvcnRJZCkgewogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAodmFsLnR5cGVDb2RlID09PSAnU0VMRUNUJyAmJiBfdHlwZW9mKHZhbC5zZWxlY3RWYWx1ZUlkKSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVmMywgX3NlbGVjdFZhbHVlJG5hbWVVeiwgX3JlZjQsIF9zZWxlY3RWYWx1ZSRuYW1lUnUsIF9yZWY1LCBfc2VsZWN0VmFsdWUkbmFtZUx0LCBfcmVmNiwgX3NlbGVjdFZhbHVlJG5hbWVFbjsKCiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0VmFsdWUgPSB2YWwuc2VsZWN0VmFsdWVJZDsKICAgICAgICAgICAgICAgIGRhdGEucHVzaChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHZhbCksIHt9LCB7CiAgICAgICAgICAgICAgICAgIGR5bmFtaWNSb3dJZDoga2V5ICsgMSwKICAgICAgICAgICAgICAgICAgc2VsZWN0VmFsdWVJZDogc2VsZWN0VmFsdWUgPT09IG51bGwgfHwgc2VsZWN0VmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdFZhbHVlLmlkLAogICAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgICAgICAgICAgdmFsdWVTdHJpbmc6IG51bGwsCiAgICAgICAgICAgICAgICAgIHNlbGVjdFZhbHVlTmFtZVV6OiAoX3JlZjMgPSAoX3NlbGVjdFZhbHVlJG5hbWVVeiA9IHNlbGVjdFZhbHVlID09PSBudWxsIHx8IHNlbGVjdFZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RWYWx1ZS5uYW1lVXopICE9PSBudWxsICYmIF9zZWxlY3RWYWx1ZSRuYW1lVXogIT09IHZvaWQgMCA/IF9zZWxlY3RWYWx1ZSRuYW1lVXogOiBzZWxlY3RWYWx1ZSA9PT0gbnVsbCB8fCBzZWxlY3RWYWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0VmFsdWUubmFtZSkgIT09IG51bGwgJiYgX3JlZjMgIT09IHZvaWQgMCA/IF9yZWYzIDogJycsCiAgICAgICAgICAgICAgICAgIHNlbGVjdFZhbHVlTmFtZVJ1OiAoX3JlZjQgPSAoX3NlbGVjdFZhbHVlJG5hbWVSdSA9IHNlbGVjdFZhbHVlID09PSBudWxsIHx8IHNlbGVjdFZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RWYWx1ZS5uYW1lUnUpICE9PSBudWxsICYmIF9zZWxlY3RWYWx1ZSRuYW1lUnUgIT09IHZvaWQgMCA/IF9zZWxlY3RWYWx1ZSRuYW1lUnUgOiBzZWxlY3RWYWx1ZSA9PT0gbnVsbCB8fCBzZWxlY3RWYWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0VmFsdWUubmFtZSkgIT09IG51bGwgJiYgX3JlZjQgIT09IHZvaWQgMCA/IF9yZWY0IDogJycsCiAgICAgICAgICAgICAgICAgIHNlbGVjdFZhbHVlTmFtZUx0OiAoX3JlZjUgPSAoX3NlbGVjdFZhbHVlJG5hbWVMdCA9IHNlbGVjdFZhbHVlID09PSBudWxsIHx8IHNlbGVjdFZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RWYWx1ZS5uYW1lTHQpICE9PSBudWxsICYmIF9zZWxlY3RWYWx1ZSRuYW1lTHQgIT09IHZvaWQgMCA/IF9zZWxlY3RWYWx1ZSRuYW1lTHQgOiBzZWxlY3RWYWx1ZSA9PT0gbnVsbCB8fCBzZWxlY3RWYWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0VmFsdWUubmFtZSkgIT09IG51bGwgJiYgX3JlZjUgIT09IHZvaWQgMCA/IF9yZWY1IDogJycsCiAgICAgICAgICAgICAgICAgIHNlbGVjdFZhbHVlTmFtZUVuOiAoX3JlZjYgPSAoX3NlbGVjdFZhbHVlJG5hbWVFbiA9IHNlbGVjdFZhbHVlID09PSBudWxsIHx8IHNlbGVjdFZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RWYWx1ZS5uYW1lRW4pICE9PSBudWxsICYmIF9zZWxlY3RWYWx1ZSRuYW1lRW4gIT09IHZvaWQgMCA/IF9zZWxlY3RWYWx1ZSRuYW1lRW4gOiBzZWxlY3RWYWx1ZSA9PT0gbnVsbCB8fCBzZWxlY3RWYWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0VmFsdWUubmFtZSkgIT09IG51bGwgJiYgX3JlZjYgIT09IHZvaWQgMCA/IF9yZWY2IDogJycsCiAgICAgICAgICAgICAgICAgIHJvd0lkOiBudWxsCiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGRhdGEucHVzaChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHZhbCksIHt9LCB7CiAgICAgICAgICAgICAgICBkeW5hbWljUm93SWQ6IGtleSArIDEsCiAgICAgICAgICAgICAgICByb3dJZDogbnVsbAogICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIGluZm8gPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF90aGlzMTMuc2F2ZURhdGEucmVwb3J0SW5mb0ZvckdhdGhlciksIHt9LCB7CiAgICAgICAgICB0YWJsZUlkOiBfdGhpczEzLnBhcmFtcy5kb2NUYWJsZUlkLAogICAgICAgICAgZGF0ZVR5cGVJZDogX3RoaXMxMy5wYXJhbXMuZGF0ZVR5cGVJZCwKICAgICAgICAgIGdhdGhlclR5cGU6IF90aGlzMTMuY29sbGVjdGluZ1R5cGUKICAgICAgICB9KTsKCiAgICAgICAgcmVwb3J0U2VydmljZS5jcmVhdGVBbmRGaWxsR2F0aGVyUmVwb3J0KGluZm8sIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMxMy4kdG9hc3QoX3RoaXMxMy4kdCgnbWVzc2FnZXMuc2F2ZWRfc3VjY2Vzc2Z1bGx5JyksIHsKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KTsKICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMTMubG9hZGVyID0gZmFsc2U7CgogICAgICAgICAgX3RoaXMxMy4kYnZNb2RhbC5oaWRlKCdzYXZlRGF0YU1vZGFsJyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIG93bkRvY1RhYmxlc1ZhbHVlOiBmdW5jdGlvbiBvd25Eb2NUYWJsZXNWYWx1ZShvcHQpIHsKICAgICAgdmFyIF9pdGVtJHRleHQ7CgogICAgICB2YXIgaXRlbSA9IHRoaXMub3duRG9jVGFibGVMaXN0T3B0aW9ucy5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUudmFsdWUgPT09IG9wdDsKICAgICAgfSk7CiAgICAgIHJldHVybiAoX2l0ZW0kdGV4dCA9IGl0ZW0udGV4dCkgIT09IG51bGwgJiYgX2l0ZW0kdGV4dCAhPT0gdm9pZCAwID8gX2l0ZW0kdGV4dCA6ICcnOwogICAgfSwKICAgIGxhYmVsQ29sbGVjdGVkU2VsZWN0OiBmdW5jdGlvbiBsYWJlbENvbGxlY3RlZFNlbGVjdChfcmVmNykgewogICAgICB2YXIgbmFtZVV6ID0gX3JlZjcubmFtZVV6LAogICAgICAgICAgbmFtZUx0ID0gX3JlZjcubmFtZUx0LAogICAgICAgICAgbmFtZVJ1ID0gX3JlZjcubmFtZVJ1LAogICAgICAgICAgbmFtZSA9IF9yZWY3Lm5hbWU7CiAgICAgIHJldHVybiBuYW1lVXogPyB0aGlzLmdldE5hbWUoewogICAgICAgIG5hbWVVejogbmFtZVV6LAogICAgICAgIG5hbWVMdDogbmFtZUx0LAogICAgICAgIG5hbWVSdTogbmFtZVJ1CiAgICAgIH0pIDogbmFtZTsKICAgIH0sCiAgICBmaW5kRmllbGRCeUlkOiBmdW5jdGlvbiBmaW5kRmllbGRCeUlkKGlkKSB7CiAgICAgIHJldHVybiB0aGlzLmRvY1RhYmxlRmllbGRzU2VyaWFsaXplZC5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT09IGlkOwogICAgICB9KTsKICAgIH0sCiAgICBzZWxlY3RGZXRjaE9wdGlvbnM6IGZ1bmN0aW9uIHNlbGVjdEZldGNoT3B0aW9ucyhjb2x1bW4sIGtleXdvcmQpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpczE0LnNlbGVjdExvYWRJdGVtVGltZU91dCk7CiAgICAgICAgICAgICAgICBfdGhpczE0LnNlbGVjdExvYWRJdGVtVGltZU91dCA9IHNldFRpbWVvdXQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgICAgICAgICAgICB2YXIgZmllbGQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5zZWxlY3RMb2FkSXRlbUxvYWRlciA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBfdGhpczE0LmZpbmRGaWVsZEJ5SWQoY29sdW1uLmNvbHVtbklkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBjcnVkQW5kTGlzdHNTZXJ2aWNlLnNlYXJjaExpc3RXaXRoS2V5d29yZChmaWVsZC5yZWZlcmVuY2VVcmwsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXdvcmQ6IGtleXdvcmQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtc1BlclBhZ2U6IDEwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogMQogICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZpZWxkLnJlZmVyZW5jZUFwcGVuZFVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIkRlcGFydG1lbnRGb3JEb2N1bWVudCIgPT09IGZpZWxkLnJlZkNvZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5zZWxlY3RPcHRpb25zQnlSZWZlcmVuY2VVcmxbZmllbGQuaWRdID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LnNlbGVjdE9wdGlvbnNCeVJlZmVyZW5jZVVybFtmaWVsZC5pZF0gPSByZXMuZGF0YS5saXN0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuc2VsZWN0TG9hZEl0ZW1Mb2FkZXIgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuc2VsZWN0TG9hZEl0ZW1Mb2FkZXIgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgICAgICAgICAgIH0pKSwgNTAwKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgb3duRG9jVGFibGVMaXN0T3B0aW9uczogZnVuY3Rpb24gb3duRG9jVGFibGVMaXN0T3B0aW9ucygpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMub3duRG9jVGFibGVMaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICByZXR1cm4gdGhpcy5vd25Eb2NUYWJsZUxpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICB0ZXh0OiBfdGhpczE1LmdldE5hbWUoewogICAgICAgICAgICAgIG5hbWVVejogaXRlbS5uYW1lVXosCiAgICAgICAgICAgICAgbmFtZVJ1OiBpdGVtLm5hbWVSdSwKICAgICAgICAgICAgICBuYW1lTHQ6IGl0ZW0ubmFtZUx0CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICB2YWx1ZTogaXRlbS5pZAogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIFtdOwogICAgfSwKICAgIG93bkRhdGVUeXBlTGlzdE9wdGlvbnM6IGZ1bmN0aW9uIG93bkRhdGVUeXBlTGlzdE9wdGlvbnMoKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmRhdGVUeXBlTGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZVR5cGVMaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdGV4dDogX3RoaXMxNi5nZXROYW1lKHsKICAgICAgICAgICAgICBuYW1lVXo6IGl0ZW0ubmFtZVV6LAogICAgICAgICAgICAgIG5hbWVSdTogaXRlbS5uYW1lUnUsCiAgICAgICAgICAgICAgbmFtZUx0OiBpdGVtLm5hbWVMdAogICAgICAgICAgICB9KSwKICAgICAgICAgICAgdmFsdWU6IGl0ZW0uaWQKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBbXTsKICAgIH0sCiAgICBjb21wdXRlZE9iU2VydmVyU2F2ZURhdGE6IGZ1bmN0aW9uIGNvbXB1dGVkT2JTZXJ2ZXJTYXZlRGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJlZnMub2JTZXJ2ZXJTYXZlRGF0YTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAncGFyYW1zLmRvY1RhYmxlSWQnOiBmdW5jdGlvbiBwYXJhbXNEb2NUYWJsZUlkKGRvY1RhYmxlSWQpIHsKICAgICAgdmFyIF90aGlzMTcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgdmFyIF90aGlzMTckb3duRG9jVGFibGVMaSwgZGF0ZVR5cGVJZDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMTckb3duRG9jVGFibGVMaSA9IF90aGlzMTcub3duRG9jVGFibGVMaXN0LmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuaWQgPT09IGRvY1RhYmxlSWQ7CiAgICAgICAgICAgICAgICB9KSwgZGF0ZVR5cGVJZCA9IF90aGlzMTckb3duRG9jVGFibGVMaS5kYXRlVHlwZUlkOwoKICAgICAgICAgICAgICAgIGlmICghZGF0ZVR5cGVJZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMTcubG9hZGVyID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE3LmdldERhdGVUeXBlTGlzdChkYXRlVHlwZUlkKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF90aGlzMTcuZGF0ZVR5cGVMaXN0ID0gW107CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgICd2YXJfZGVmYXVsdF9zZWFyY2hfcGF5bG9hZC5wYWdlJzogZnVuY3Rpb24gdmFyX2RlZmF1bHRfc2VhcmNoX3BheWxvYWRQYWdlKCkgewogICAgICBpZiAodGhpcy5sb2FkZXIpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuaGFuZGxlU2VhcmNoKGZhbHNlKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <b-overlay\r\n        :opacity=\"0.2\"\r\n        :show=\"loader\"\r\n    >\r\n      <div class=\"col-md-12 text-center\">\r\n        <div class=\"h4 mb-4 d-inline-block\">{{ $t('submodules.reports.collection_assemble') }}</div>\r\n      </div>\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <div class=\"row mb-2\">\r\n            <div class=\"col-sm-12\">\r\n              <div class=\"row mb-2\">\r\n                <div class=\"col-md-3\">\r\n                  <BaseMultiselectWithValidation\r\n                      rules=\"required\"\r\n                      class=\"required\"\r\n                      onlyFormElement\r\n                      v-model=\"params.docTableId\"\r\n                      :options=\"ownDocTableListOptions.map(e => e.value)\"\r\n                      :label=\"$t('column.value_type')\"\r\n                      label-on-top\r\n                      placeholder=\"\"\r\n                      :custom-label=\"ownDocTablesValue\"\r\n                      open-direction=\"bottom\"\r\n                      :max-height=\"600\"\r\n                      :show-labels=\"false\"\r\n                  />\r\n                </div>\r\n                <div class=\"col-md-2\">\r\n                  <b-form-select\r\n                      class=\"border-light form-control rounded\"\r\n                      v-model=\"params.dateTypeId\"\r\n                      :disabled=\"ownDateTypeListOptions.length < 1\"\r\n                      :options=\"ownDateTypeListOptions\"></b-form-select>\r\n                </div>\r\n                <div class=\"col-md-2\">\r\n                  <div class=\"search-box\">\r\n                    <div class=\"position-relative\">\r\n                      <input\r\n                          type=\"text\"\r\n                          v-model=\"params.name\"\r\n                          class=\"form-control rounded border-light\"\r\n                          :placeholder=\"$t('actions.search')\"\r\n                      />\r\n                      <i class=\"mdi mdi-magnify search-icon\"></i>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-md-2\">\r\n                  <b-btn @click=\"handleSearch\">{{ $t('actions.search') }}</b-btn>\r\n                </div>\r\n                <div class=\"col-md-2\">\r\n                  <b-btn variant=\"success\" @click=\"handleCollect()\"\r\n                         :disabled=\"this.selectedDocReports.indexSet.size < 2\">{{ $t('actions.collect') }}\r\n                  </b-btn>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-sm-12\">\r\n              <table class=\"table table-hover table-striped\">\r\n                <thead>\r\n                <tr>\r\n                  <th>{{ '' }}</th>\r\n                  <th>{{ $t('column.name') }}</th>\r\n                  <th>{{ $t('submodules.reports.report_date') }}</th>\r\n                  <th>{{ $t(\"nameShakl\") }}</th>\r\n                  <th>{{ $t(\"titleShakl\") }}</th>\r\n                  <th>{{ $t(\"dateTypes\") }}</th>\r\n                  <th>{{ $t(\"submodules.reports.yur_department\") }}</th>\r\n                  <th>{{ $t(\"submodules.reports.created_datetime\") }}</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr v-for=\"(item, index) in tableList\"\r\n                    :key=\"index\"\r\n                    class=\"cursor-pointer\"\r\n                    @click=\"selectDocReportItem(index)\"\r\n                    :class=\"{'table-info': item.selected, 'table-info': item.selected}\">\r\n                  <td>{{\r\n                      paginate(index, var_default_search_payload.itemsPerPage, var_default_search_payload.page - 1)\r\n                    }}\r\n                  </td>\r\n                  <td>\r\n                    {{\r\n                      getName({\r\n                        nameUz: item.reportNameUz,\r\n                        nameRu: item.reportNameRu,\r\n                        nameLt: item.reportNameLt,\r\n                      })\r\n                    }}\r\n                  </td>\r\n                  <td>{{ item.reportData }}</td>\r\n                  <td>{{\r\n                      getName({\r\n                        nameUz: item.docTableNameUz,\r\n                        nameRu: item.docTableNameRu,\r\n                        nameLt: item.docTableNameLt,\r\n                      })\r\n                    }}\r\n                  </td>\r\n                  <td>{{\r\n                      getName({\r\n                        nameUz: item.docTableTitleUz,\r\n                        nameRu: item.docTableTitleRu,\r\n                        nameLt: item.docTableTitleLt,\r\n                      })\r\n                    }}\r\n                  </td>\r\n                  <td>{{\r\n                      getName({\r\n                        nameUz: item.dateTypeNameUz,\r\n                        nameRu: item.dateTypeNameRu,\r\n                        nameLt: item.dateTypeNameLt,\r\n                      })\r\n                    }}\r\n                  </td>\r\n                  <td>{{\r\n                      getName({\r\n                        nameUz: item.yurDepNameUz,\r\n                        nameRu: item.yurDepNameRu,\r\n                        nameLt: item.yurDepNameLt,\r\n                      })\r\n                    }}\r\n                  </td>\r\n                  <td>{{ item.createdDate }}</td>\r\n                </tr>\r\n                <tr v-if=\"tableList.length <= 0\" :key=\"-1\">\r\n                  <td colspan=\"8\">\r\n                    <h5 class=\"text-center\"> </h5>\r\n                  </td>\r\n                </tr>\r\n                </tbody>\r\n              </table>\r\n              <b-pagination\r\n                  v-if=\"tableListLength > 0\"\r\n                  v-model=\"var_default_search_payload.page\"\r\n                  :total-rows=\"tableListLength\"\r\n                  :per-page=\"var_default_search_payload.itemsPerPage\"\r\n                  aria-controls=\"my-table\"\r\n                  class=\"justify-content-end\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <b-modal id=\"modal\" :title=\"$t('submodules.reports.collection_assemble')\" size=\"xl\">\r\n        <div class=\"row\">\r\n          <div class=\"col-2 my-2\">\r\n            <b-form-select\r\n                class=\"form-control rounded\"\r\n                v-model=\"collectingType\">\r\n              <b-form-select-option\r\n                  v-for=\"(item, index) in collectingTypeList\"\r\n                  :key=\"index\"\r\n                  :value=\"item.value\">\r\n                {{ item.name }}\r\n              </b-form-select-option>\r\n            </b-form-select>\r\n          </div>\r\n          <div class=\"col-1 my-2\">\r\n            <b-btn variant=\"success\" class=\"mx-1\" @click=\"handleCollectedReportDraw\">{{ $t('actions.gather') }}</b-btn>\r\n          </div>\r\n          <div class=\"col-1 my-2\">\r\n            <b-btn variant=\"info\" class=\"mx-1\" @click=\"handleExportExcel\">{{ $t('actions.excel') }}</b-btn>\r\n          </div>\r\n          <div class=\"col-6\"></div>\r\n          <div class=\"col-2 my-2\">\r\n            <b-btn variant=\"success\" block\r\n                   class=\"mx-1\"\r\n                   :disabled=\"!collectedReportForTableReport || collectedReportForTableReport.length <= 0\"\r\n                   @click=\"handleSaveDataOpenModal\">{{ $t('actions.confirm') }}\r\n            </b-btn>\r\n          </div>\r\n          <div class=\"col-2 my-2\" v-if=\"collectingType === 'COLLECT_AVG'\">\r\n            <input type=\"checkbox\" id=\"checkbox\" v-model=\"collectionAvgIgnoreZero\">\r\n            <label for=\"checkbox\">{{ $t('submodules.reports.zero_ignore') }}</label>\r\n          </div>\r\n        </div>\r\n        <table ref=\"collectedReportTable\" class=\"table table-hover table-striped table-custom-bordered\" border=\"1\"\r\n               style=\"border: 1px solid black\">\r\n          <report-header :fields=\"docTableFieldsOriginal\"></report-header>\r\n          <tbody>\r\n          <tr v-for=\"(reportRow, reportRowIndex) in collectedReportForTableReport\" :key=\"reportRowIndex\">\r\n            <td v-for=\"(reportCol, reportColIndex) in reportRow\" :key=\"reportColIndex\">\r\n              <BaseMultiselectWithValidation\r\n                  v-if=\"collectingType !== 'ASSEMBLE' && reportCol.typeCode === 'SELECT'\"\r\n                  v-model=\"collectedReportForTableReport[reportRowIndex][reportColIndex].selectValueId\"\r\n                  :options=\"selectOptionsByReferenceUrl[reportCol.columnId]\"\r\n                  :custom-label=\"labelCollectedSelect\"\r\n                  :label=\"$t('column.employee')\"\r\n                  :only-form-element=\"true\"\r\n                  :internal-search=\"false\"\r\n                  :hide-error-msg=\"false\"\r\n                  :loading=\"selectLoadItemLoader\"\r\n                  :show-labels=\"false\"\r\n                  :filterable=\"false\"\r\n                  :searchable=\"true\"\r\n                  :max-height=\"600\"\r\n                  @search-change=\"(keyword) => selectFetchOptions(reportCol, keyword)\"\r\n                  rules=\"required\"\r\n                  placeholder=\"\"\r\n              ></BaseMultiselectWithValidation>\r\n              {{ printColumn(reportCol, reportColIndex) }}\r\n            </td>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n        <template #modal-footer>\r\n          <div>&nbsp;</div>\r\n        </template>\r\n      </b-modal>\r\n      <b-modal id=\"saveDataModal\" :title=\"$t('submodules.reports.collection_assemble')\" size=\"lg\">\r\n        <ValidationObserver ref=\"obServerSaveData\" v-slot=\"{}\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12 my-2\">\r\n              <BaseInputWithValidation\r\n                  rules=\"required\"\r\n                  class=\"required\"\r\n                  @input=\"($event) => (saveData.reportInfoForGather.nameLt = toLatin($event))\"\r\n                  v-model=\"saveData.reportInfoForGather.nameUz\"\r\n                  :label=\"$t('column.name_uz')\"\r\n                  :placeholder=\"$t('column.name_uz')\"\r\n              />\r\n            </div>\r\n            <div class=\"col-12 my-2\">\r\n              <BaseInputWithValidation\r\n                  rules=\"required\"\r\n                  class=\"required\"\r\n                  @input=\"($event) => (saveData.reportInfoForGather.nameUz = toCyrill($event))\"\r\n                  v-model=\"saveData.reportInfoForGather.nameLt\"\r\n                  :label=\"$t('column.name_lt')\"\r\n                  :placeholder=\"$t('column.name_lt')\"\r\n              />\r\n            </div>\r\n            <div class=\"col-12 my-2\">\r\n              <BaseInputWithValidation\r\n                  rules=\"required\"\r\n                  class=\"required\"\r\n                  v-model=\"saveData.reportInfoForGather.nameRu\"\r\n                  :label=\"$t('column.name_ru')\"\r\n                  :placeholder=\"$t('column.name_ru')\"\r\n              />\r\n            </div>\r\n            <div class=\"col-12 my-2\">\r\n              <BaseDatePickerWithValidation\r\n                  rules=\"required\"\r\n                  class=\"required\"\r\n                  v-model=\"saveData.reportInfoForGather.date\"\r\n                  :label=\"$t('column.date')\"\r\n                  :placeholder=\"$t('column.date')\"\r\n                  format=\"DD.MM.YYYY\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </ValidationObserver>\r\n        <template #modal-footer>\r\n          <b-btn variant=\"success\" @click=\"handleSaveData\">\r\n            {{ $t(\"actions.save\") }}\r\n          </b-btn>\r\n        </template>\r\n      </b-modal>\r\n    </b-overlay>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport reportService from \"../../reportService\";\r\nimport reportHeader from \"./reportHeader\";\r\nimport XLSX from \"xlsx\";\r\nimport BaseInputWithValidation from \"@/components/base/BaseInputWithValidation\";\r\nimport BaseDatePickerWithValidation from \"@/components/base/BaseDatePickerWithValidation\";\r\nimport crudAndListsService from \"@/shared/services/crud_and_list.service\";\r\n\r\nexport default {\r\n  components: {\r\n    BaseDatePickerWithValidation,\r\n    BaseInputWithValidation,\r\n    reportHeader\r\n  },\r\n  data() {\r\n    return {\r\n      title: this.$t(\"reportRoles\"),\r\n      loader: true,\r\n      selectLoadItemLoader: null,\r\n      selectLoadItemTimeOut: null,\r\n      params: {\r\n        params: {\r\n          limit: 20,\r\n          page: 0,\r\n        },\r\n        search: \"\",\r\n        docTableId: \"\",\r\n        dateTypeId: \"\",\r\n      },\r\n      tableListParams: {\r\n        itemsPerPage: 20,\r\n        page: 0,\r\n      },\r\n      tableList: [],\r\n      tableListLength: 0,\r\n      docTableFieldsOriginal: [],\r\n      docTableFieldsSerialized: [],\r\n      ownDocTableList: [],\r\n      dateTypeList: [],\r\n      dateTypeListPayload: {\r\n        page: 0,\r\n        itemsPerPage: 100\r\n      },\r\n      selectOptionsByReferenceUrl: {},\r\n      selectedDocReports: {\r\n        indexSet: new Set(),\r\n        docTableId: false,\r\n        docTable: null,\r\n        docReports: {},\r\n      },\r\n      collectedReportForTableReport: [],\r\n      collectingType: 'ASSEMBLE',\r\n      collectionAvgIgnoreZero: false,\r\n      collectingGroupColumnId: null,\r\n      collectingTypeList: [\r\n        {\r\n          value: \"ASSEMBLE\",\r\n          name: \"Yig'ish\",\r\n        },\r\n        {\r\n          value: \"COLLECT_SUM\",\r\n          name: \"Yig'indini yig'ish (SUM)\",\r\n        },\r\n        {\r\n          value: \"COLLECT_AVG\",\r\n          name: \"O'rtacha qiymat yig'ish (AVG)\",\r\n        },\r\n      ],\r\n      saveData: {\r\n        reportInfoForGather: {\r\n          nameUz: '',\r\n          nameLt: '',\r\n          nameRu: '',\r\n          date: '',\r\n        }\r\n      }\r\n    };\r\n  },\r\n  async created() {\r\n    await this.getOwnDocTableList();\r\n    this.loader = false;\r\n  },\r\n  methods: {\r\n    getOwnDocTableList() {\r\n      reportService.getOwnTable(this.params).then(response => {\r\n        if (response.data.list.length > 0) {\r\n          this.ownDocTableList = response.data.list;\r\n        }\r\n      });\r\n    },\r\n    getDateTypeList(dateTypeId) {\r\n      reportService.getListByParentId(dateTypeId, this.dateTypeListPayload).then(response => {\r\n        if (response.data.list.length > 0) {\r\n          this.dateTypeList = response.data.list;\r\n        }\r\n      })\r\n          .finally(() => {\r\n            this.loader = false;\r\n          });\r\n    },\r\n    async handleSearch(clearSelected = true) {\r\n      if (clearSelected) {\r\n        this.selectedDocReports.docTableId = false;\r\n        this.selectedDocReports.indexSet = new Set();\r\n      }\r\n      await this.getTableList();\r\n    },\r\n    handleValidateForCollecting() {\r\n      if (!this.selectedDocReports.docTableId || this.selectedDocReports.indexSet.size < 2) {\r\n        this.$toast(this.$t(\"submodules.reports.select_minimum_two_report\"), {type: \"warning\"})\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    async handleCollect() {\r\n      this.loader = true;\r\n      this.collectedReportForTableReport = [];\r\n      this.docTableFieldsOriginal = [];\r\n      this.docTableFieldsSerialized = [];\r\n      if (!this.handleValidateForCollecting()) {\r\n        this.loader = false;\r\n        return;\r\n      }\r\n      await reportService.getByIdTable(this.selectedDocReports.docTableId).then(async response => {\r\n        if (response.data.columns.length > 0) {\r\n          this.docTableFieldsOriginal = response.data.columns;\r\n          this.deserializeDocTableFields(this.docTableFieldsOriginal);\r\n          this.selectedDocReports.docTable = response.data.table;\r\n        }\r\n        this.$bvModal.show('modal')\r\n        await this.handleCollectView();\r\n        this.loader = false;\r\n      }).catch(() => {\r\n        this.loader = false;\r\n      });\r\n    },\r\n    deserializeDocTableFields(list, clear = true) {\r\n      if (clear) {\r\n        this.docTableFieldsSerialized = [];\r\n      }\r\n      list.forEach(e => {\r\n        if (e.children.length > 0) {\r\n          this.deserializeDocTableFields(e.children, false);\r\n        } else {\r\n          this.docTableFieldsSerialized.push(e)\r\n          if (e.typeCode === 'SELECT') {\r\n            this.selectOptionsByReferenceUrl[e.id] = [];\r\n          }\r\n        }\r\n      })\r\n    },\r\n    async handleCollectView() {\r\n      if (!this.handleValidateForCollecting()) {\r\n        return;\r\n      }\r\n      this.loader = true;\r\n      this.selectedDocReports.docReports = {};\r\n      await this.selectedDocReports.indexSet.forEach((docReportId) => {\r\n        this.selectedDocReports.docReports[docReportId] = {}\r\n        reportService.getReportById(docReportId).then(response => {\r\n          if (response.data) {\r\n            response.data.map(value => {\r\n              if (this.selectedDocReports.docReports[docReportId][value.rowId] === undefined) {\r\n                this.selectedDocReports.docReports[docReportId][value.rowId] = {};\r\n              }\r\n              this.selectedDocReports.docReports[docReportId][value.rowId][value.columnId] = value;\r\n            });\r\n          }\r\n        });\r\n      })\r\n    },\r\n    handleCollectedReportDraw() {\r\n      this.collectedReportForTableReport = [];\r\n      switch (this.collectingType) {\r\n        case 'ASSEMBLE':\r\n          this.handleCollectedReportDrawAssemble();\r\n          break;\r\n        case 'COLLECT_SUM':\r\n          this.handleCollectedReportDrawCollectSum();\r\n          break;\r\n        case 'COLLECT_AVG':\r\n          this.handleCollectedReportDrawCollectAvg();\r\n          break;\r\n      }\r\n    },\r\n    handleCollectedReportDrawAssemble() {\r\n      let sequence = 1;\r\n      this.selectedDocReports.indexSet.forEach((value) => {\r\n        const reports = this.selectedDocReports.docReports[value];\r\n        for (const reportRowIndex in reports) {\r\n          const reportRow = reports[reportRowIndex];\r\n          let reportRowData = JSON.parse('[]');\r\n          this.docTableFieldsSerialized.forEach(field => {\r\n            if (reportRow[field.id] !== undefined) {\r\n              reportRowData.push(reportRow[field.id]);\r\n            } else {\r\n              if (field.typeCode === 'SEQUENCE') {\r\n                reportRowData.push({\r\n                  value: sequence,\r\n                  typeCode: field.typeCode,\r\n                });\r\n                sequence++;\r\n              } else {\r\n                reportRowData.push({});\r\n              }\r\n            }\r\n          })\r\n          this.collectedReportForTableReport.push(reportRowData);\r\n        }\r\n      })\r\n    },\r\n    handleCollectedReportDrawCollectSum() {\r\n      let sequence = 1;\r\n      this.selectedDocReports.indexSet.forEach((docReportId) => {\r\n        let reportData = [];\r\n        let sumBigIntegerCount = {};\r\n        const reports = this.selectedDocReports.docReports[docReportId];\r\n        for (const reportRowIndex in reports) {\r\n          const report = reports[reportRowIndex];\r\n          this.docTableFieldsSerialized.forEach((docTableField, docTableFieldIndex) => {\r\n            const reportRowField = report[docTableField.id];\r\n            if (docTableField.typeCode === 'SEQUENCE' && typeof reportData[docTableFieldIndex] === 'undefined') {\r\n              reportData[docTableFieldIndex] = {\r\n                value: sequence,\r\n                typeCode: \"SEQUENCE\"\r\n              }\r\n            }\r\n            reportData[docTableFieldIndex] = reportRowField && !reportData[docTableFieldIndex]?.id ? JSON.parse(JSON.stringify(reportRowField)) : (reportData[docTableFieldIndex] || {});\r\n            if (docTableField.typeCode === 'BIGDECIMAL') {\r\n              const valueBigDecimal = reportRowField?.valueBigDecimal ?? 0;\r\n              if (typeof sumBigIntegerCount[docTableField.id] === 'undefined') {\r\n                sumBigIntegerCount[docTableField.id] = 0;\r\n              }\r\n              if (typeof reportData[docTableFieldIndex].valueBigDecimal === 'undefined' || reportData[docTableFieldIndex].valueBigDecimal === null || reportData[docTableFieldIndex].valueBigDecimal === '') {\r\n                reportData[docTableFieldIndex].valueBigDecimal = 0;\r\n              }\r\n              if (valueBigDecimal && (valueBigDecimal > 0 || valueBigDecimal < 0)) {\r\n                sumBigIntegerCount[docTableField.id]++;\r\n              }\r\n              if (valueBigDecimal && reportRowField?.id !== reportData[docTableFieldIndex]?.id) {\r\n                reportData[docTableFieldIndex].valueBigDecimal += valueBigDecimal;\r\n                reportData[docTableFieldIndex].value = reportData[docTableFieldIndex].valueBigDecimal?.toString();\r\n              }\r\n            } else if (docTableField.typeCode === 'STRING' || docTableField.typeCode === 'DATE' || docTableField.typeCode === 'YEAR' || docTableField.typeCode === 'BOOLEAN') {\r\n              reportData[docTableFieldIndex].value += \", \" + (reportRowField.value ?? '');\r\n              reportData[docTableFieldIndex].valueDate += \", \" + (reportRowField.valueDate ?? '');\r\n              reportData[docTableFieldIndex].valueString += \", \" + (reportRowField.valueString ?? '');\r\n              reportData[docTableFieldIndex].valueBoolean += \", \" + (reportRowField.valueBoolean ?? '');\r\n            } else if (docTableField.typeCode === 'SELECT') {\r\n              if (!reportData[docTableFieldIndex]) {\r\n                reportData[docTableFieldIndex] = JSON.parse(JSON.stringify(reportRowField));\r\n              }\r\n              reportData[docTableFieldIndex].id = reportRowField.id;\r\n              reportData[docTableFieldIndex].rowId = reportRowField.rowId;\r\n              // reportData[docTableFieldIndex].typeCode = 'STRING';\r\n              reportData[docTableFieldIndex].columnId = reportRowField.columnId;\r\n              reportData[docTableFieldIndex].docReportId = reportRowField.docReportId;\r\n              reportData[docTableFieldIndex].selectValueId = null;\r\n              if (reportData[docTableFieldIndex]?.valueString?.indexOf(reportRowField.selectValueNameUz) === -1) {\r\n                if (reportRowField?.selectValueNameUz) {\r\n                  reportData[docTableFieldIndex].valueString += (reportRowField?.selectValueNameUz ?? '') + \", \";\r\n                  reportData[docTableFieldIndex].value += (reportRowField?.selectValueNameUz ?? '') + \", \";\r\n                  reportData[docTableFieldIndex].selectValueNameUz += (reportRowField?.selectValueNameUz ?? '') + \", \";\r\n                }\r\n                if (reportRowField?.selectValueNameEn) {\r\n                  reportData[docTableFieldIndex].selectValueNameEn += (reportRowField?.selectValueNameEn ?? '') + \", \";\r\n                }\r\n                if (reportRowField?.selectValueNameLt) {\r\n                  reportData[docTableFieldIndex].selectValueNameLt += (reportRowField?.selectValueNameLt ?? '') + \", \";\r\n                }\r\n                if (reportRowField?.selectValueNameRu) {\r\n                  reportData[docTableFieldIndex].selectValueNameRu += (reportRowField?.selectValueNameRu ?? '') + \", \";\r\n                }\r\n              } else if (reportData[docTableFieldIndex]?.valueString === null) {\r\n                reportData[docTableFieldIndex].valueString = '';\r\n              }\r\n            }\r\n          })\r\n        }\r\n        this.collectedReportForTableReport.push(reportData);\r\n        sequence++;\r\n      })\r\n    },\r\n    handleCollectedReportDrawCollectAvg() {\r\n      let sequence = 1;\r\n      this.selectedDocReports.indexSet.forEach((docReportId) => {\r\n        let reportData = [];\r\n        let sumBigIntegerCount = {};\r\n        const reports = this.selectedDocReports.docReports[docReportId];\r\n        for (const reportRowIndex in reports) {\r\n          const report = reports[reportRowIndex];\r\n          this.docTableFieldsSerialized.forEach((docTableField, docTableFieldIndex) => {\r\n            const reportRowField = report[docTableField.id];\r\n            if (docTableField.typeCode === 'SEQUENCE' && typeof reportData[docTableFieldIndex] === 'undefined') {\r\n              reportData[docTableFieldIndex] = {\r\n                value: sequence,\r\n                typeCode: \"SEQUENCE\"\r\n              }\r\n            }\r\n            reportData[docTableFieldIndex] = reportRowField && !reportData[docTableFieldIndex]?.id ? JSON.parse(JSON.stringify(reportRowField)) : (reportData[docTableFieldIndex] || {});\r\n            if (docTableField.typeCode === 'BIGDECIMAL') {\r\n              const valueBigDecimal = reportRowField?.valueBigDecimal ?? 0;\r\n              if (typeof sumBigIntegerCount[docTableField.id] === 'undefined') {\r\n                sumBigIntegerCount[docTableField.id] = 0;\r\n              }\r\n              if (typeof reportData[docTableFieldIndex].valueBigDecimal === 'undefined' || reportData[docTableFieldIndex].valueBigDecimal === null || reportData[docTableFieldIndex].valueBigDecimal === '') {\r\n                reportData[docTableFieldIndex].valueBigDecimal = 0;\r\n              }\r\n              if (this.collectionAvgIgnoreZero) {\r\n                if (valueBigDecimal && (valueBigDecimal > 0 || valueBigDecimal < 0)) {\r\n                  sumBigIntegerCount[docTableField.id]++;\r\n                }\r\n              } else {\r\n                sumBigIntegerCount[docTableField.id]++;\r\n              }\r\n              if (valueBigDecimal && reportRowField?.id !== reportData[docTableFieldIndex]?.id) {\r\n                reportData[docTableFieldIndex].valueBigDecimal += valueBigDecimal;\r\n                reportData[docTableFieldIndex].value = reportData[docTableFieldIndex].valueBigDecimal?.toString();\r\n              }\r\n            } else if (docTableField.typeCode === 'STRING' || docTableField.typeCode === 'DATE' || docTableField.typeCode === 'YEAR' || docTableField.typeCode === 'BOOLEAN') {\r\n              reportData[docTableFieldIndex].value += \", \" + (reportRowField.value ?? '');\r\n              reportData[docTableFieldIndex].valueDate += \", \" + (reportRowField.valueDate ?? '');\r\n              reportData[docTableFieldIndex].valueString += \", \" + (reportRowField.valueString ?? '');\r\n              reportData[docTableFieldIndex].valueBoolean += \", \" + (reportRowField.valueBoolean ?? '');\r\n            } else if (docTableField.typeCode === 'SELECT') {\r\n              if (!reportData[docTableFieldIndex]) {\r\n                reportData[docTableFieldIndex] = JSON.parse(JSON.stringify(reportRowField));\r\n              }\r\n              reportData[docTableFieldIndex].id = reportRowField.id;\r\n              reportData[docTableFieldIndex].rowId = reportRowField.rowId;\r\n              // reportData[docTableFieldIndex].typeCode = 'STRING';\r\n              reportData[docTableFieldIndex].columnId = reportRowField.columnId;\r\n              reportData[docTableFieldIndex].docReportId = reportRowField.docReportId;\r\n              if (reportData[docTableFieldIndex]?.valueString?.indexOf(reportRowField.selectValueNameUz) === -1) {\r\n                if (reportRowField?.selectValueNameUz) {\r\n                  reportData[docTableFieldIndex].value += (reportRowField?.selectValueNameUz ?? '') + \", \";\r\n                  reportData[docTableFieldIndex].valueString += (reportRowField?.selectValueNameUz ?? '') + \", \";\r\n                  reportData[docTableFieldIndex].selectValueNameUz += (reportRowField?.selectValueNameUz ?? '') + \", \";\r\n                }\r\n                if (reportRowField?.selectValueNameEn) {\r\n                  reportData[docTableFieldIndex].selectValueNameEn += (reportRowField?.selectValueNameEn ?? '') + \", \";\r\n                }\r\n                if (reportRowField?.selectValueNameLt) {\r\n                  reportData[docTableFieldIndex].selectValueNameLt += (reportRowField?.selectValueNameLt ?? '') + \", \";\r\n                }\r\n                if (reportRowField?.selectValueNameRu) {\r\n                  reportData[docTableFieldIndex].selectValueNameRu += (reportRowField?.selectValueNameRu ?? '') + \", \";\r\n                }\r\n              } else if (reportData[docTableFieldIndex]?.valueString === null) {\r\n                reportData[docTableFieldIndex].valueString = '';\r\n                reportData[docTableFieldIndex].value = '';\r\n              }\r\n            }\r\n          })\r\n        }\r\n        for (const i in reportData) {\r\n          const count = sumBigIntegerCount[reportData[i].columnId];\r\n          if (reportData[i].typeCode === 'BIGDECIMAL' && count > 0) {\r\n            reportData[i].valueBigDecimal /= count;\r\n          }\r\n          reportData[i].selectValueNameEn = reportData[i].selectValueNameEn ? reportData[i].selectValueNameEn.trim().slice(0, -1) : '';\r\n          reportData[i].selectValueNameLt = reportData[i].selectValueNameLt ? reportData[i].selectValueNameLt.trim().slice(0, -1) : '';\r\n          reportData[i].selectValueNameRu = reportData[i].selectValueNameRu ? reportData[i].selectValueNameRu.trim().slice(0, -1) : '';\r\n          reportData[i].selectValueNameUz = reportData[i].selectValueNameUz ? reportData[i].selectValueNameUz.trim().slice(0, -1) : '';\r\n        }\r\n        this.collectedReportForTableReport.push(reportData);\r\n        sequence++;\r\n      })\r\n    },\r\n    selectDocReportItem(index) {\r\n      const item = this.tableList[index];\r\n      if (this.selectedDocReports.docTableId === false) {\r\n        this.selectedDocReports.docTableId = item.docTableId;\r\n      }\r\n      if (this.selectedDocReports.indexSet.has(item.reportId)) {\r\n        if (this.selectedDocReports.docTableId === item.docTableId) {\r\n          this.selectedDocReports.indexSet.delete(item.reportId);\r\n          this.tableList[index].selected = false;\r\n        }\r\n      } else {\r\n        if (this.selectedDocReports.docTableId === item.docTableId) {\r\n          this.selectedDocReports.indexSet.add(item.reportId);\r\n          this.tableList[index].selected = true;\r\n        }\r\n      }\r\n      if (this.selectedDocReports.indexSet.size === 0) {\r\n        this.selectedDocReports.docTableId = false;\r\n      }\r\n    },\r\n    printColumn(column, index) {\r\n      switch (column.typeCode) {\r\n        case 'SEQUENCE':\r\n          return column?.value ?? index + 1;\r\n        case 'STRING':\r\n          return column?.valueString ?? column?.value ?? '';\r\n        case 'BIGDECIMAL':\r\n          // eslint-disable-next-line no-case-declarations\r\n          let v = column?.valueBigDecimal ?? 0;\r\n          v = v.toFixed(2);\r\n          if (!isNaN(v)) {\r\n            return v;\r\n          }\r\n          return '';\r\n        case 'BOOLEAN':\r\n          return column?.valueBoolean ? this.$t('actions.yes') : this.$t('actions.no');\r\n        case 'DATE':\r\n          return column?.valueDate ?? '';\r\n        case 'YEAR':\r\n          return column?.valueString ?? '';\r\n        case 'SELECT':\r\n          return this.getName({\r\n            nameUz: column?.selectValueNameUz,\r\n            nameRu: column?.selectValueNameRu,\r\n            nameLt: column?.selectValueNameLt,\r\n          }).trim(' ,');\r\n        default:\r\n          return '';\r\n      }\r\n    },\r\n    async getTableList() {\r\n      if (this.params.docTableId && this.params.dateTypeId) {\r\n        this.tableListLength = 0;\r\n        this.tableListLength = 0;\r\n        this.tableList = [];\r\n        this.loader = true\r\n        await reportService.reportListForCollection(this.params.docTableId, this.params.dateTypeId, {...this.var_default_search_payload}).then(response => {\r\n          if (response.data.list.length > 0) {\r\n            this.tableListLength = response.data.total;\r\n            this.tableList = response.data.list.map((item) => {\r\n              return {...item, selected: this.selectedDocReports.indexSet.has(item.reportId)};\r\n            });\r\n          } else {\r\n            this.tableListLength = 0;\r\n            this.tableList = [];\r\n          }\r\n        }).finally(() => {\r\n          this.loader = false;\r\n        });\r\n      }\r\n    },\r\n    handleExportExcel() {\r\n      let currentDate = new Date();\r\n      let dateDMY = currentDate.getDate() + '-' + (currentDate.getMonth() + 1) + '-' + currentDate.getFullYear();\r\n      let fileName = this.getName(this.selectedDocReports.docTable) + dateDMY;\r\n      let table = this.$refs.collectedReportTable;\r\n      table.setAttribute('border', '1');\r\n      table.style.border = '1px solid black';\r\n      table.children?.forEach(theadOrTbody => {\r\n        theadOrTbody.children.forEach(tr => {\r\n          tr.children.forEach(thOrTd => {\r\n            thOrTd.width = thOrTd.offsetWidth + 'px';\r\n            thOrTd.style.width = thOrTd.offsetWidth + 'px';\r\n          })\r\n        })\r\n      })\r\n      let wb = XLSX.utils.table_to_book(table, {sheet: \"sheet1\"});\r\n      setTimeout(() => { // todo nega bu kerakligini tekshirish kerak, copy olib qoyganman\r\n        this.loaderExcel = false;\r\n      }, 500);\r\n      return XLSX.writeFile(wb, `${fileName}.xlsx`, {});\r\n    },\r\n    handleSaveDataOpenModal() {\r\n      this.$bvModal.show('saveDataModal')\r\n    },\r\n    handleSaveData(e) {\r\n      this.computedObServerSaveData.validate().then(isValid => {\r\n        if (!isValid) {\r\n          return false;\r\n        }\r\n        this.loader = true\r\n        let data = [];\r\n        for (const key in this.collectedReportForTableReport) {\r\n          for (const val of this.collectedReportForTableReport[key]) {\r\n            if (!val.typeCode || val.typeCode === 'SEQUENCE' || !val.columnId || !val.docReportId) {\r\n              continue;\r\n            }\r\n            if (val.typeCode === 'SELECT' && typeof val.selectValueId === 'object') {\r\n              const selectValue = val.selectValueId;\r\n              data.push({\r\n                ...val,\r\n                dynamicRowId: key + 1,\r\n                selectValueId: selectValue?.id,\r\n                value: null,\r\n                valueString: null,\r\n                selectValueNameUz: selectValue?.nameUz ?? selectValue?.name ?? '',\r\n                selectValueNameRu: selectValue?.nameRu ?? selectValue?.name ?? '',\r\n                selectValueNameLt: selectValue?.nameLt ?? selectValue?.name ?? '',\r\n                selectValueNameEn: selectValue?.nameEn ?? selectValue?.name ?? '',\r\n                rowId: null\r\n              })\r\n              continue;\r\n            }\r\n            data.push({\r\n              ...val,\r\n              dynamicRowId: key + 1,\r\n              rowId: null\r\n            })\r\n          }\r\n        }\r\n        const info = {\r\n          ...this.saveData.reportInfoForGather,\r\n          tableId: this.params.docTableId,\r\n          dateTypeId: this.params.dateTypeId,\r\n          gatherType: this.collectingType,\r\n        }\r\n        reportService.createAndFillGatherReport(info, data)\r\n            .then((res) => {\r\n              this.$toast(this.$t('messages.saved_successfully'), {type: 'success'});\r\n            })\r\n            .finally(() => {\r\n              this.loader = false\r\n              this.$bvModal.hide('saveDataModal')\r\n            })\r\n      })\r\n    },\r\n    ownDocTablesValue(opt) {\r\n      let item = this.ownDocTableListOptions.find(e => e.value === opt);\r\n      return item.text ?? ''\r\n    },\r\n    labelCollectedSelect({nameUz, nameLt, nameRu, name}) {\r\n      return nameUz ? this.getName({nameUz: nameUz, nameLt: nameLt, nameRu: nameRu}) : name\r\n    },\r\n    findFieldById(id) {\r\n      return this.docTableFieldsSerialized.find(e => e.id === id);\r\n    },\r\n    async selectFetchOptions(column, keyword) {\r\n      clearTimeout(this.selectLoadItemTimeOut);\r\n      this.selectLoadItemTimeOut = setTimeout(async () => {\r\n        this.selectLoadItemLoader = true;\r\n        const field = this.findFieldById(column.columnId);\r\n        crudAndListsService.searchListWithKeyword(field.referenceUrl, {\r\n          keyword: keyword,\r\n          itemsPerPage: 10,\r\n          page: 1\r\n        }, field.referenceAppendUrl)\r\n            .then(res => {\r\n              if (\"DepartmentForDocument\" === field.refCode) {\r\n                this.selectOptionsByReferenceUrl[field.id] = res.data\r\n              } else {\r\n                this.selectOptionsByReferenceUrl[field.id] = res.data.list\r\n              }\r\n            })\r\n            .catch(err => {\r\n              this.selectLoadItemLoader = false;\r\n            })\r\n            .finally(() => {\r\n              this.selectLoadItemLoader = false;\r\n            })\r\n      }, 500);\r\n    },\r\n  },\r\n  computed: {\r\n    ownDocTableListOptions() {\r\n      if (this.ownDocTableList.length > 0) {\r\n        return this.ownDocTableList.map(item => {\r\n          return {\r\n            text: this.getName({\r\n              nameUz: item.nameUz,\r\n              nameRu: item.nameRu,\r\n              nameLt: item.nameLt,\r\n            }),\r\n            value: item.id,\r\n          };\r\n        });\r\n      }\r\n      return [];\r\n    },\r\n    ownDateTypeListOptions() {\r\n      if (this.dateTypeList.length > 0) {\r\n        return this.dateTypeList.map(item => {\r\n          return {\r\n            text: this.getName({\r\n              nameUz: item.nameUz,\r\n              nameRu: item.nameRu,\r\n              nameLt: item.nameLt,\r\n            }),\r\n            value: item.id,\r\n          };\r\n        });\r\n      }\r\n      return [];\r\n    },\r\n    computedObServerSaveData() {\r\n      return this.$refs.obServerSaveData\r\n    }\r\n  },\r\n  watch: {\r\n    async 'params.docTableId'(docTableId) {\r\n      const {dateTypeId} = this.ownDocTableList.find(e => e.id === docTableId);\r\n      if (dateTypeId) {\r\n        this.loader = true\r\n        await this.getDateTypeList(dateTypeId)\r\n      } else {\r\n        this.dateTypeList = [];\r\n      }\r\n    },\r\n    'var_default_search_payload.page'() {\r\n      if (this.loader) {\r\n        return;\r\n      }\r\n      this.handleSearch(false);\r\n    },\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/modules/report/collection/assemble"}]}